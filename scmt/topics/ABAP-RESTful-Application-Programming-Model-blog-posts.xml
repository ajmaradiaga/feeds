<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>https://raw.githubusercontent.com/ajmaradiaga/feeds/main/scmt/topics/ABAP-RESTful-Application-Programming-Model-blog-posts.xml</id>
  <title>SAP Community - ABAP RESTful Application Programming Model</title>
  <updated>2025-08-16T14:00:15.299969+00:00</updated>
  <link href="https://community.sap.com/t5/c-khhcw49343/ABAP RESTful Application Programming Model/pd-p/7e44126e-7b27-471d-a379-df205a12b1ff" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator>
  <subtitle>ABAP RESTful Application Programming Model blog posts in SAP Community</subtitle>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/deep-insert-in-unmanaged-rap/ba-p/14111318</id>
    <title>Deep Insert in Unmanaged RAP</title>
    <updated>2025-06-13T16:15:28.005000+02:00</updated>
    <author>
      <name>Faizan_khan1</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1451076</uri>
    </author>
    <content>&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Introduction&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In the evolving landscape of SAP development, the ABAP RESTful Application Programming Model (RAP) has emerged as a pivotal framework for building modern, cloud-ready applications. While RAP offers both managed and unmanaged scenarios, the unmanaged approach provides developers with greater flexibility and control over data persistence and business logic.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;One of the complex operations in application development is the deep insert—creating a parent entity along with its associated child entities in a single transactional call. Implementing deep insert in an unmanaged RAP scenario requires meticulous planning and a clear understanding of the underlying architecture.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In this blog post, I will walk you through the process of implementing deep insert functionality in an unmanaged RAP scenario. We'll explore the data model, define the necessary CDS views, set up behavior definitions, and implement the behavior classes to handle the deep insert logic effectively. This guide aims to provide a comprehensive understanding of the steps involved, ensuring a robust and efficient implementation.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Implementation Overview&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Step 1: &lt;STRONG&gt;Create Database Tables&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;First i have created two data base tables doing the create operation&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Header table&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'Header Order Table' 
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE 
@AbapCatalog.tableCategory : #TRANSPARENT 
@AbapCatalog.deliveryClass : #A 
@AbapCatalog.dataMaintenance : #RESTRICTED 

define table zfa_dt_order { 
key order_id : char10 not null; 
product : char20; 
product_brand : char20; 
product_quantity : char4; 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;Item Table&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'Pricing item table' 
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE 
@AbapCatalog.tableCategory : #TRANSPARENT 
@AbapCatalog.deliveryClass : #A 
@AbapCatalog.dataMaintenance : #RESTRICTED
 
define table zfa_dt_pricing { 
key order_id : abap.char(10) not null; 

key product_id : abap.char(5) not null; 

product_price : abap.char(4); 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;Step 2: Define Interface Views&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Then we have to create the interface Views upon both the table&lt;/SPAN&gt;&lt;STRONG&gt;&amp;nbsp; Header interface view&lt;/STRONG&gt; &lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;Here we have to use the key word composition and need to mention cardinality&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Interface view for header' 
@Metadata.ignorePropagatedAnnotations: true 

define root view entity zfa_i_Order_header as select from zfa_dt_order 
composition[1..1] of zfa_i_price_item as _Pricing 
{ 
key order_id as OrderId, 
product as Product, 
product_brand as ProductBrand, 
product_quantity as ProductQuantity, 
_Pricing // Make association public 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;STRONG&gt;Item interface view&amp;nbsp;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In the item view we&amp;nbsp; have to use association to parent&amp;nbsp; keyword&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE] 
@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'Interface view for item' 
@Metadata.ignorePropagatedAnnotations: true 
@ObjectModel.usageType:{ 
serviceQuality: #X, 
sizeCategory: #S, 
dataClass: #MIXED 
} 
define view entity zfa_i_price_item as select from ZFA_DT_PRICING 
association to parent zfa_i_Order_header as _Order on $projection.OrderId = _Order.OrderId 
{ 
key order_id as OrderId, 
key product_id as ProductId, 
product_price as ProductPrice, 
_order 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;Step 3: Define Projection Views&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Now we have to create Projection view upon interface view&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;&amp;nbsp; &amp;nbsp; Header Projection view&amp;nbsp;&lt;/STRONG&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'Order projection' 
@Metadata.ignorePropagatedAnnotations: true 
@Metadata.allowExtensions: true 
define root view entity zfa_P_Order_header 
provider contract transactional_query as projection on zfa_i_Order_header 
{ 
key OrderId, 
Product, 
ProductBrand, 
ProductQuantity, 
/* Associations */ 
_Pricing : redirected to composition child zfa_P_price_item 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&amp;nbsp; &amp;nbsp;&lt;STRONG&gt; Item projection view &lt;/STRONG&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'Price projection view' 
@Metadata.ignorePropagatedAnnotations: true 
@Metadata.allowExtensions: true 
define view entity zfa_P_price_item 
as projection on zfa_i_price_item 
{ 
key OrderId, 
key ProductId, 
ProductPrice,
/* Associations */ 
_order : redirected to parent zfa_P_Order_header 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;Step 4: Define Behavior Definitions&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Then we have to create the&amp;nbsp; behavior definition for both interface and projection view of the header&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;STRONG&gt;Header Interface view Behavior definition&amp;nbsp;&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;unmanaged implementation in class zbp_fa_i_order_header unique; 
strict ( 2 ); 
define behavior for zfa_i_Order_header //alias &amp;lt;alias_name&amp;gt; 
late numbering 
lock master 
authorization master ( instance ) 
//etag master &amp;lt;field_name&amp;gt; 
{ 
create; 
update; 
delete;
field ( readonly ) OrderId; 
association _Pricing { create; } 
mapping for zfa_dt_order 
{ 
OrderId = order_id ; 
Product = product; 
ProductBrand = product_brand; 
ProductQuantity = product_quantity; 
} 
} 
define behavior for zfa_i_price_item //alias &amp;lt;alias_name&amp;gt; 
late numbering 
lock dependent by _order 
authorization dependent by _order 
//etag master &amp;lt;field_name&amp;gt; 
{ 
create; 
update; 
delete; 
field ( readonly ) OrderId, ProductId; 
association _order; 
mapping for zfa_dt_pricing{ 
OrderId = order_id; 
ProductId = product_id; 
ProductPrice = product_price; 
} 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Header Projection view Behavior Definition&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;projection; 
strict ( 2 ); 
define behavior for zfa_P_Order_header //alias &amp;lt;alias_name&amp;gt; 
{ 
use create; 
use update; 
use delete; 
use association _Pricing { create; } 
} 
define behavior for zfa_P_price_item //alias &amp;lt;alias_name&amp;gt; 
{ 
use update; 
use delete; 
use association _order; 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;Step 5: Implement Behavior Handler Classes&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;We have to write our implementation in behavior implementation class , I have used a Helper class for doing the deep insert and&amp;nbsp; I'm calling the methods in this class&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;CLASS lhc_zfa_i_Order_header DEFINITION INHERITING FROM cl_abap_behavior_handler. 
PRIVATE SECTION. 
METHODS get_instance_authorizations FOR INSTANCE AUTHORIZATION 
IMPORTING keys REQUEST requested_authorizations FOR zfa_i_Order_header RESULT result. 

METHODS create FOR MODIFY 
IMPORTING entities FOR CREATE zfa_i_Order_header. 

METHODS update FOR MODIFY 
IMPORTING entities FOR UPDATE zfa_i_Order_header. 

METHODS delete FOR MODIFY 
IMPORTING keys FOR DELETE zfa_i_Order_header. 

METHODS read FOR READ 
IMPORTING keys FOR READ zfa_i_Order_header RESULT result. 

METHODS lock FOR LOCK 
IMPORTING keys FOR LOCK zfa_i_Order_header. 

METHODS rba_Pricing FOR READ 
IMPORTING keys_rba FOR READ zfa_i_Order_header\_Pricing FULL result_requested RESULT result LINK association_links. 

METHODS cba_Pricing FOR MODIFY 
IMPORTING entities_cba FOR CREATE zfa_i_Order_header\_Pricing. 
ENDCLASS. 

CLASS lhc_zfa_i_Order_header IMPLEMENTATION. 
METHOD get_instance_authorizations. 
ENDMETHOD. 

METHOD create. 
data(lo_order) = zfa_um_helper=&amp;gt;get_instance( ). 
lo_order-&amp;gt;create_order( 
EXPORTING 
entities = entities 
CHANGING 
mapped = mapped 
failed = failed 
reported = reported 
). 
ENDMETHOD. 

METHOD update. 
ENDMETHOD. 

METHOD delete. 
ENDMETHOD. 

METHOD read. 
ENDMETHOD. 

METHOD lock. 
ENDMETHOD. 

METHOD rba_Pricing. 
ENDMETHOD. 

METHOD cba_Pricing. 
data(lo_pricing) = zfa_um_helper=&amp;gt;get_instance_price( ). 
lo_pricing-&amp;gt;create_price( 
EXPORTING 
entities = entities_cba 
CHANGING 
mapped = mapped 
failed = failed 
reported = reported 
). 
ENDMETHOD. 
ENDCLASS. 

CLASS lhc_zfa_i_price_item DEFINITION INHERITING FROM cl_abap_behavior_handler. 
PRIVATE SECTION. 
METHODS update FOR MODIFY 
IMPORTING entities FOR UPDATE zfa_i_price_item. 

METHODS delete FOR MODIFY 
IMPORTING keys FOR DELETE zfa_i_price_item. 

METHODS read FOR READ 
IMPORTING keys FOR READ zfa_i_price_item RESULT result. 

METHODS rba_Order FOR READ 
IMPORTING keys_rba FOR READ zfa_i_price_item\_Order FULL result_requested RESULT result LINK association_links. 

METHODS create FOR MODIFY 
IMPORTING entities FOR CREATE zfa_i_price_item. 
ENDCLASS. 

CLASS lhc_zfa_i_price_item IMPLEMENTATION. 

METHOD update. 
ENDMETHOD. 

METHOD delete. 
ENDMETHOD. 

METHOD read. 
ENDMETHOD. 

METHOD rba_Order. 
ENDMETHOD. 

METHOD create. 
ENDMETHOD. 

ENDCLASS. 
CLASS lsc_ZFA_I_ORDER_HEADER DEFINITION INHERITING FROM cl_abap_behavior_saver. 
PROTECTED SECTION. 
METHODS finalize REDEFINITION. 
METHODS check_before_save REDEFINITION. 
METHODS adjust_numbers REDEFINITION. 
METHODS save REDEFINITION. 
METHODS cleanup REDEFINITION. 
METHODS cleanup_finalize REDEFINITION. 
ENDCLASS. 

CLASS lsc_ZFA_I_ORDER_HEADER IMPLEMENTATION. 
METHOD finalize. 
ENDMETHOD. 

METHOD check_before_save. 
ENDMETHOD. 

METHOD adjust_numbers. 
data(lo_order) = zfa_um_helper=&amp;gt;get_instance( ). 
lo_order-&amp;gt;adjust_number( 
CHANGING 
mapped = mapped 
reported = reported 
). 
ENDMETHOD. 

METHOD save. 
data(lo_save_order) = zfa_um_helper=&amp;gt;get_instance( ). 
lo_save_order-&amp;gt;save_order( 
CHANGING 
reported = reported 
). 
select max( order_id ) from zfa_dt_order into table (lt_oid). 
if lt_oid is not INITIAL. 
data(lo_save_price) = zfa_um_helper=&amp;gt;get_instance_price( ). 
lo_save_price-&amp;gt;save_price( 
CHANGING 
reported = reported 
). 
endif. 
ENDMETHOD. 

METHOD cleanup. 
ENDMETHOD. 

METHOD cleanup_finalize. 
ENDMETHOD. 

ENDCLASS. &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Step 6: Implement Helper Class for Deep Insert&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;This is my helper &lt;/SPAN&gt;&lt;SPAN class=""&gt;class ,&lt;/SPAN&gt; &lt;SPAN class=""&gt;Here&lt;/SPAN&gt;&lt;SPAN class=""&gt; we can see our actual logic &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;CLASS zfa_um_helper DEFINITION 
PUBLIC 
FINAL 
CREATE PUBLIC . 
PUBLIC SECTION. 

TYPES : tt_order_create TYPE TABLE FOR CREATE zfa_i_Order_header, 
tt_order_cba TYPE TABLE FOR CREATE zfa_i_Order_header\_Pricing, 
tt_order_delete TYPE TABLE FOR DELETE zfa_i_Order_header, 
tt_order_update TYPE TABLE FOR UPDATE zfa_i_order_header, 
tt_reported_early TYPE RESPONSE FOR REPORTED EARLY zfa_i_Order_header, 
tt_reported_late TYPE RESPONSE FOR REPORTED LATE zfa_i_Order_header, 
tt_mapped_early TYPE RESPONSE FOR MAPPED EARLY zfa_i_Order_header, 
tt_mapped_late TYPE RESPONSE FOR MAPPED LATE zfa_i_Order_header, 
tt_price_create TYPE TABLE FOR CREATE zfa_i_price_item, 
tt_price_delete TYPE TABLE FOR DELETE zfa_i_price_item, 
tt_price_update TYPE TABLE FOR UPDATE zfa_i_price_item, 
tt_failed_early TYPE RESPONSE FOR FAILED EARLY zfa_i_Order_header. 

CLASS-METHODS get_instance RETURNING VALUE(ret_order) TYPE REF TO zfa_um_helper. 

CLASS-METHODS get_instance_price RETURNING VALUE(ret_price) TYPE REF TO zfa_um_helper. 

METHODS : create_order 
IMPORTING entities TYPE tt_order_create 
CHANGING 
mapped TYPE tt_mapped_early 
failed TYPE tt_failed_early 
reported TYPE tt_reported_early, 

create_price 
IMPORTING entities TYPE tt_order_cba 
CHANGING 
mapped TYPE tt_mapped_early 
failed TYPE tt_failed_early 
reported TYPE tt_reported_early, 

adjust_number 
changing mapped type tt_mapped_late 
reported type tt_reported_late, 

save_order 
CHANGING reported TYPE tt_reported_late, 

save_price 
CHANGING reported TYPE tt_reported_late. 
PROTECTED SECTION. 
PRIVATE SECTION. 
CLASS-DATA : go_order TYPE REF TO zfa_um_helper, 
go_price TYPE REF TO zfa_um_helper, 
gt_order_create TYPE TABLE OF zfa_dt_order, 
gt_price_create TYPE TABLE OF zfa_dt_pricing, 
gt_price_create1 TYPE TABLE OF zfa_i_price_item , 
gt_order_delete TYPE RANGE OF zfa_i_Order_header-OrderId, 
gs_order TYPE zfa_dt_order. 
ENDCLASS. 

CLASS zfa_um_helper IMPLEMENTATION. 

METHOD get_instance. 
ret_order = go_order = COND #( WHEN go_order IS BOUND THEN go_order 
ELSE NEW #( ) ). 
ENDMETHOD. 

METHOD get_instance_price. 
ret_price = go_price = COND #( WHEN go_price IS BOUND THEN go_price 
ELSE NEW #( ) ). 
ENDMETHOD. 

METHOD create_order. 
gt_order_create = CORRESPONDING #( entities MAPPING FROM ENTITY ). 
mapped-zfa_i_order_header = CORRESPONDING #( entities ). 
ENDMETHOD. 

METHOD create_price. 
gt_price_create1 = CORRESPONDING #( entities[ 1 ]-%target ). 
gt_price_create = CORRESPONDING #( gt_price_create1 MAPPING order_id = OrderId product_id = ProductId product_price = ProductPrice ). 
mapped-zfa_i_price_item = CORRESPONDING #( entities ). 
ENDMETHOD. 

METHOD save_order. 
IF gt_order_create IS NOT INITIAL. 
INSERT zfa_dt_order FROM TABLE _order_create. 
ENDIF. 
ENDMETHOD. 

METHOD save_price. 
IF gt_price_create IS NOT INITIAL. 
INSERT zfa_dt_pricing FROM TABLE _price_create. 
ENDIF. 
ENDMETHOD. 

METHOD adjust_number. 
data : lv_num TYPE char10, 
lv_num2 TYPE char5. 
if gt_order_create is NOT INITIAL. 
SELECT max( order_id ) from zfa_dt_order into (lv_oid). 
lv_num = COND #( when sy-subrc = 4 then 0000000001 
ELSE lv_oid + 1 ). 
gt_order_create[ 1 ]-order_id = lv_num . 
ENDIF. 
if gt_price_create is NOT INITIAL. 
SELECT MAX( product_id ) from zfa_dt_pricing into (lv_pid). 
lv_num2 = COND #( when sy-subrc = 4 then 00001 
else lv_pid + 1 ). 
gt_price_create[ 1 ]-product_id = lv_num2. 
endif. 
ENDMETHOD. 
ENDCLASS. &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Step 7: Define Metadata Annotations&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;After All the implementation is &lt;/SPAN&gt;&lt;SPAN class=""&gt;done&lt;/SPAN&gt;&lt;SPAN class=""&gt; we have to create the meta data files for both the projection view&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Metadata for Header Projection view&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Metadata.layer:#CORE 
annotate entity zfa_P_Order_header 
with  
{ 
@UI.facet: [{ 
purpose: #STANDARD, 
position: 10, 
label: 'Create Order', 
type: #IDENTIFICATION_REFERENCE 
}, 
{  
purpose: #STANDARD, 
position: 20, 
label: 'Create payment', 
type: #LINEITEM_REFERENCE, 
targetElement: '_Pricing' 
}] 
@UI.identification: [{ position: 10 , label: 'Order ID' }] 
@UI.lineItem: [{ position: 10, label: 'Order ID' }] 
OrderId; 
@UI.identification: [{ position: 20 , label: 'Product' }] 
@UI.lineItem: [{ position: 20, label: 'Product' }] 
Product; 
@UI.identification: [{ position: 30 , label: 'Product Brand' }] 
@UI.lineItem: [{ position: 30, label: 'Product Brand' }] 
ProductBrand; 
@UI.identification: [{ position: 40 , label: 'Product Quantity' }] 
@UI.lineItem: [{ position: 40, label: 'Product Quality' }] 
ProductQuantity; 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;STRONG&gt;Metadata for item Projection view&lt;/STRONG&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Metadata.layer: #CORE 
annotate entity zfa_P_price_item 
with  
{ 
@UI.facet: [{  
purpose: #STANDARD, 
position: 10, 
label: 'Price creation', 
type: #IDENTIFICATION_REFERENCE 
} 
] 
@UI.identification: [{ position: 10 , label: 'Order ID' }] 
@UI.lineItem: [{ position: 10}] 
OrderId; 
@UI.identification: [{ position: 20 , label: 'Product ID' }] 
@UI.lineItem: [{ position: 20}] 
ProductId; 
@UI.identification: [{ position: 30 , label: 'Product Price' }] 
@UI.lineItem: [{ position: 30 }] 
ProductPrice; 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;Step 8: Create Service Definition and Binding&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;SPAN&gt;At last we have to create the service definition&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label: 'Service def For header' 
define service Zfa_def_order { 
expose zfa_P_Order_header; 
expose zfa_P_price_item; 
} &lt;/code&gt;&lt;/pre&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Upon the service definition we &lt;/SPAN&gt;&lt;SPAN class=""&gt;have to&lt;/SPAN&gt;&lt;SPAN class=""&gt; create the service Binding&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Faizan_khan1_0-1748411890235.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/266750i1BD30B1B6037A7FC/image-size/large?v=v2&amp;amp;px=999" role="button" title="Faizan_khan1_0-1748411890235.png" alt="Faizan_khan1_0-1748411890235.png" /&gt;&lt;/span&gt;Here You can see both the header and item &lt;SPAN class=""&gt;entity ,&lt;/SPAN&gt;&lt;SPAN class=""&gt; we need to select the header entity and click on preview&amp;nbsp;&lt;/SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Faizan_khan1_1-1748412015638.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/266753iD724B14419585751/image-size/large?v=v2&amp;amp;px=999" role="button" title="Faizan_khan1_1-1748412015638.png" alt="Faizan_khan1_1-1748412015638.png" /&gt;&lt;/span&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Click on Create for creating the Header data &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Faizan_khan1_0-1748412128578.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/266754iE5F8421E30A6667A/image-size/large?v=v2&amp;amp;px=999" role="button" title="Faizan_khan1_0-1748412128578.png" alt="Faizan_khan1_0-1748412128578.png" /&gt;&lt;/span&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Here You can see header data has been created &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Faizan_khan1_1-1748412155801.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/266755i3B58312601E1F2A4/image-size/large?v=v2&amp;amp;px=999" role="button" title="Faizan_khan1_1-1748412155801.png" alt="Faizan_khan1_1-1748412155801.png" /&gt;&lt;/span&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Now click on create to create the item data for the &lt;/SPAN&gt;&lt;SPAN class=""&gt;particular header&lt;/SPAN&gt;&lt;SPAN class=""&gt; data&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Faizan_khan1_0-1748412364079.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/266756iCAD28EF0FA487982/image-size/large?v=v2&amp;amp;px=999" role="button" title="Faizan_khan1_0-1748412364079.png" alt="Faizan_khan1_0-1748412364079.png" /&gt;&lt;/span&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/deep-insert-in-unmanaged-rap/ba-p/14111318"/>
    <published>2025-06-13T16:15:28.005000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/application-development-and-automation-blog-posts/setup-your-btp-trial-account-and-abap-environment/ba-p/14131685</id>
    <title>Setup your BTP Trial account and ABAP environment</title>
    <updated>2025-06-19T14:56:53.611000+02:00</updated>
    <author>
      <name>SangeetaSingh</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/747879</uri>
    </author>
    <content>&lt;P&gt;Hi Community,&amp;nbsp;&lt;/P&gt;&lt;P&gt;Here are the steps to create your first BTP trial account and setup ABAP on cloud environment in eclipse.&amp;nbsp;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;1. &lt;EM&gt;Create an account on SAP.com. If you already have S-user id or sap account, you can re-use that.&lt;/EM&gt;&amp;nbsp; &amp;nbsp;&lt;A href="https://www.sap.com/index.html" target="_blank" rel="noopener noreferrer"&gt;SAP Software Solutions | Business Applications and Technology&lt;/A&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;2.&amp;nbsp; &lt;EM&gt;Create BTP trial account&lt;/EM&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Go to SAP BTP cockpit &amp;nbsp;&lt;A href="https://account.hanatrial.ondemand.com/trial/#/globalaccount/8b36374e-3cb7-4cef-9a58-d39f40d34f50/subaccount/960235a0-6d0f-419d-ac1d-3b0d0ce77682/service-instances&amp;amp;//detail/4e844349-ef52-4a8e-b6c2-6ef5c8cdee43/?layout=TwoColumnsMidExpanded" target="_blank" rel="noopener nofollow noreferrer"&gt;Instances and Subscriptions - trial &amp;lt; 5c30eb07trial &amp;lt; Trial Home - SAP BTP Cockpit&lt;/A&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Login with your account&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_24-1750312008187.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276133iDF14BCA5E31A18CF/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_24-1750312008187.png" alt="SangeetaSingh_24-1750312008187.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Choose US East(VA)-AWS region&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_25-1750312008190.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276132i6C39E6463E6BB355/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_25-1750312008190.png" alt="SangeetaSingh_25-1750312008190.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_26-1750312008197.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276134i5BA5DCBA98DD48D8/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_26-1750312008197.png" alt="SangeetaSingh_26-1750312008197.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Go to your Trial Account&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_27-1750312008213.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276135i8355700A11D13A82/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_27-1750312008213.png" alt="SangeetaSingh_27-1750312008213.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_28-1750312008220.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276137iDAB3636CCE6A51EA/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_28-1750312008220.png" alt="SangeetaSingh_28-1750312008220.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Go to subaccounts&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_29-1750312008226.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276136i96079688BF86405E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_29-1750312008226.png" alt="SangeetaSingh_29-1750312008226.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;EM&gt;3. Create new instance and setup ABAP environment in BTP account&lt;/EM&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Subaccounts &amp;gt;&amp;gt; Instance and Subscriptions &amp;gt;&amp;gt; Create&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_30-1750312008230.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276138iC68735246223AB72/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_30-1750312008230.png" alt="SangeetaSingh_30-1750312008230.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_31-1750312008240.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276140i8DB8D1E52BA2A7F5/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_31-1750312008240.png" alt="SangeetaSingh_31-1750312008240.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_32-1750312008248.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276139iBDBE6C051DC059A8/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_32-1750312008248.png" alt="SangeetaSingh_32-1750312008248.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_33-1750312008256.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276143iF407D05173CFB50C/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_33-1750312008256.png" alt="SangeetaSingh_33-1750312008256.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Setup ABAP environment&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_34-1750312008269.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276144i32FBDB468EA1D69E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_34-1750312008269.png" alt="SangeetaSingh_34-1750312008269.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Enter your BTP account e-mail id here&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_35-1750312008274.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276142i6D3ADD9793B2FE2B/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_35-1750312008274.png" alt="SangeetaSingh_35-1750312008274.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Create service key&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_36-1750312008279.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276145i1118F8433CDB0278/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_36-1750312008279.png" alt="SangeetaSingh_36-1750312008279.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Enter your e-mail id with which you created BTP account&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_37-1750312008287.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276147i9E20125F9E69CB53/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_37-1750312008287.png" alt="SangeetaSingh_37-1750312008287.png" /&gt;&lt;/span&gt;4.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;EM&gt;4. Download/Install and setup eclipse&lt;/EM&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;A href="https://tools.hana.ondemand.com/#abap" target="_blank" rel="noopener nofollow noreferrer"&gt;SAP Development Tools&lt;/A&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_38-1750312008292.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276146i66733E45865642D2/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_38-1750312008292.png" alt="SangeetaSingh_38-1750312008292.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_39-1750312008299.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276150iFBCF02676CC87EB1/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_39-1750312008299.png" alt="SangeetaSingh_39-1750312008299.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Launch eclipse from downloaded folder&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Install ADT plug in&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;In Eclipse, choose in the menu bar&amp;nbsp;&lt;STRONG&gt;Help &amp;gt; Install New Software...&lt;/STRONG&gt;&lt;/LI&gt;&lt;LI&gt;Enter the URL&amp;nbsp;&lt;STRONG&gt;&lt;A href="https://tools.hana.ondemand.com/latest" target="_blank" rel="noopener nofollow noreferrer"&gt;https://tools.hana.ondemand.com/latest&lt;/A&gt;&lt;/STRONG&gt;&lt;/LI&gt;&lt;LI&gt;Press&amp;nbsp;&lt;STRONG&gt;Enter&lt;/STRONG&gt;&amp;nbsp;to display the available features.&lt;/LI&gt;&lt;LI&gt;Select&amp;nbsp;&lt;STRONG&gt;ABAP Development Tools&lt;/STRONG&gt;&amp;nbsp;and choose&amp;nbsp;&lt;STRONG&gt;Next&lt;/STRONG&gt;.&lt;/LI&gt;&lt;LI&gt;On the next wizard page, you get an overview of the features to be installed. Choose&amp;nbsp;&lt;STRONG&gt;Next&lt;/STRONG&gt;.&lt;/LI&gt;&lt;LI&gt;Confirm the&amp;nbsp;&lt;STRONG&gt;license agreements&lt;/STRONG&gt;&amp;nbsp;and choose&amp;nbsp;&lt;STRONG&gt;Finish&lt;/STRONG&gt;&amp;nbsp;to start the installation.&lt;/LI&gt;&lt;LI&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_40-1750312008304.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276149iAE03D815274636B9/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_40-1750312008304.png" alt="SangeetaSingh_40-1750312008304.png" /&gt;&lt;/span&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Connect eclipse with ABAP on Cloud&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;File &amp;gt;&amp;gt; New &amp;gt;&amp;gt; ABAP Cloud Project&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_41-1750312008310.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276148i0194CDF445BA6615/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_41-1750312008310.png" alt="SangeetaSingh_41-1750312008310.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_42-1750312008315.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276154i9BBF46B4E96B0AFD/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_42-1750312008315.png" alt="SangeetaSingh_42-1750312008315.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Go to your BTP account and click on view Service key&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_43-1750312008322.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276153iEF33FCBACD4F1210/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_43-1750312008322.png" alt="SangeetaSingh_43-1750312008322.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Copy url from your service key and paste in ABAP Service Instance URL in eclipse&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_44-1750312008325.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276152iB48D206634E5B6F3/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_44-1750312008325.png" alt="SangeetaSingh_44-1750312008325.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_45-1750312008330.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276155i2237F607811F8899/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_45-1750312008330.png" alt="SangeetaSingh_45-1750312008330.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Login with your BTP account in browser&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_46-1750312008333.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276156iC2BF6A7126482C95/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_46-1750312008333.png" alt="SangeetaSingh_46-1750312008333.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Click Finish&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SangeetaSingh_47-1750312008338.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/276157i58E90BB9839C66CC/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SangeetaSingh_47-1750312008338.png" alt="SangeetaSingh_47-1750312008338.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Your ABAP environment on cloud will be connected.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Thanks for visiting.&amp;nbsp;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Please do like, share and comment.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Sangeeta Singh&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;A href="https://sangeetasinghdotblog.wordpress.com/" target="_self" rel="nofollow noopener noreferrer"&gt;Website&lt;/A&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&lt;A class="" href="https://www.linkedin.com/mynetwork/discovery-see-all/?usecase=PEOPLE_FOLLOWS&amp;amp;followMember=sangeeta-singh-4bb3aa117" target="_blank" rel="noopener nofollow noreferrer"&gt;Linkedin&lt;/A&gt;&lt;/DIV&gt;&lt;DIV class=""&gt;&lt;A class="" href="https://medium.com/@sangeetasinghofficial17" target="_self" rel="nofollow noopener noreferrer"&gt;Medium&lt;/A&gt;&lt;/DIV&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV class=""&gt;&lt;A class="" href="https://community.sap.com/t5/c-khhcw49343/ABAP+Development/pd-p/833755570260738661924709785639136" target="_blank"&gt;ABAP Development&lt;/A&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A class="" href="https://community.sap.com/t5/c-khhcw49343/SAP+Community/pd-p/486157991894093153608181816584982" target="_blank"&gt;SAP Community &lt;/A&gt;&lt;/DIV&gt;&lt;DIV class=""&gt;&lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+HANA+service+for+SAP+BTP/pd-p/73555000100800001352" class="lia-product-mention" data-product="654-1"&gt;SAP HANA service for SAP BTP&lt;/a&gt;&amp;nbsp;&lt;a href="https://community.sap.com/t5/c-khhcw49343/PostgreSQL+on+SAP+BTP%25252C+hyperscaler+option/pd-p/84478839-5ee3-43c6-a92e-0474fec95b3e" class="lia-product-mention" data-product="1219-1"&gt;PostgreSQL on SAP BTP, hyperscaler option&lt;/a&gt;&amp;nbsp; &lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+HANA+Enterprise+Cloud/pd-p/161153735145145802176671450589155" class="lia-product-mention" data-product="329-1"&gt;SAP HANA Enterprise Cloud&lt;/a&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/DIV&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/application-development-and-automation-blog-posts/setup-your-btp-trial-account-and-abap-environment/ba-p/14131685"/>
    <published>2025-06-19T14:56:53.611000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/sap-managed-rap-based-on-header-and-item-table/ba-p/14133709</id>
    <title>SAP Managed RAP based on Header and Item table</title>
    <updated>2025-06-22T01:34:51.835000+02:00</updated>
    <author>
      <name>anjan_paul</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/183963</uri>
    </author>
    <content>&lt;P&gt;Steps:&lt;/P&gt;&lt;P&gt;1. Create Data Base table for PO Header.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'PO Header'
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE
@AbapCatalog.tableCategory : #TRANSPARENT
@AbapCatalog.deliveryClass : #A
@AbapCatalog.dataMaintenance : #RESTRICTED
define table zpo_header {

  key client : abap.clnt not null;
  key pono   : ebeln not null;
  pocompany  : bukrs;
  podate     : abap.dats;
  podesc     : abap.char(20);
  postatus   : abap.char(1);

}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;2. Create PO Item Database table.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'PO Item'
@AbapCatalog.enhancement.category : #EXTENSIBLE_ANY
@AbapCatalog.tableCategory : #TRANSPARENT
@AbapCatalog.deliveryClass : #A
@AbapCatalog.dataMaintenance : #RESTRICTED
define table zpo_item {

  key client : abap.clnt not null;
  @AbapCatalog.foreignKey.screenCheck : false
  key pono   : ebeln not null
    with foreign key [1..*,1] zpo_header
      where client = zpo_item.client
        and pono = zpo_item.pono;
  key poitem : ebelp not null;
  @Semantics.quantity.unitOfMeasure : 'zpo_item.unit'
  quantity   : abap.quan(10,0);
  unit       : abap.unit(3);

}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;3. Create Base CDS Header view.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Base view for po'
@Metadata.ignorePropagatedAnnotations: true
@ObjectModel.usageType:{ 
serviceQuality: #X, 
sizeCategory: #S, 
dataClass: #MIXED 
} 

define root view entity z_po_header_base as select from zpo_header
{
    key pono as Pono,
    pocompany as Pocompany,
    podate as Podate,
    podesc as Podesc,
    postatus as Postatus
    
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;4. Create Base CDS item view.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Base view for po item'
@Metadata.ignorePropagatedAnnotations: true
define root view entity z_po_item_base as select from zpo_item

{
    key pono as Pono,
    key poitem as Poitem,
    @Semantics.quantity.unitOfMeasure : 'Unit'
    quantity as Quantity,
    unit as Unit
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;5. Create Composite Header CDS view.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE]
@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Composit view for po'
@Metadata.ignorePropagatedAnnotations: true
@ObjectModel.usageType:{
    serviceQuality: #X,
    sizeCategory: #S,
    dataClass: #MIXED
}
define root  view entity z_po_header_composit as select from z_po_header_base
 composition [1..*] of z_po_item_composit as _item
   
{
    key Pono,
    Pocompany,
    Podate,
    Podesc,
    Postatus,
    _item
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;6. Create Composite Item CDS view.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Composit view for po item'
@Metadata.ignorePropagatedAnnotations: true
define view entity z_po_item_composit as select from z_po_item_base
association to parent z_po_header_composit as _header
    on $projection.Pono = _header.Pono
{
    key Pono,
    key Poitem,
     @Semantics.quantity.unitOfMeasure : 'Unit'
   Quantity,
    Unit,
    _header 
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;7. Create Consumption CDS Header view.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE]
@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Consumption view for po'
@Metadata.ignorePropagatedAnnotations: true
@Metadata.allowExtensions: true
@ObjectModel.usageType:{
    serviceQuality: #X,
    sizeCategory: #S,
    dataClass: #MIXED
}
define root view entity z_po_header_consumption  
provider contract transactional_query
as projection on z_po_header_composit
{
    key Pono,
    Pocompany,
    Podate,
    Podesc,
    Postatus,
    /* Associations */
    _item : redirected to composition child z_po_item_consumption 
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;8. Create Consumption Item CDS view.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE]
@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Consumption view for po item'
@Metadata.ignorePropagatedAnnotations: true
@Metadata.allowExtensions: true
@ObjectModel.usageType:{
    serviceQuality: #X,
    sizeCategory: #S,
    dataClass: #MIXED
}
define view entity z_po_item_consumption 
as projection on z_po_item_composit

{
    key Pono,
    key Poitem,
 
   @Semantics.quantity.unitOfMeasure : 'Unit'
    Quantity,
    Unit,
    /* Associations */
    _header : redirected to parent z_po_header_consumption
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;9. Create Metadata Extension for Header.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Metadata.layer: #CUSTOMER 
annotate entity z_po_header_consumption
    with 
{
    &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1445379"&gt;@ui&lt;/a&gt;.facet: [{ 
purpose: #STANDARD, 
position: 10, 
label: 'Header', 
type: #IDENTIFICATION_REFERENCE 
}, 
{ 
purpose: #STANDARD, 
position: 20, 
label: 'Item', 
type: #LINEITEM_REFERENCE, 
targetElement: '_item' 
}] 
@UI.selectionField: [{ position: 10 }]
@UI.lineItem: [{ position: 10, label: 'PO No' }] 
@UI.identification: [{ position: 10, label: 'Po NO' }] 
Pono; 
@UI.selectionField: [{ position: 20 }]
@UI.lineItem: [{ position: 20, label: 'Company' }] 
@UI.identification: [{ position: 20, label: 'Company' }] 
Pocompany; 
@UI.selectionField: [{ position: 30 }]
@UI.lineItem: [{ position: 30, label: 'PO Date' }] 
@UI.identification: [{ position: 30, label: 'PO Date' }] 
Podate; 
@UI.lineItem: [{ position: 40, label: 'Desc' }] 
@UI.identification: [{ position: 40, label: 'Desc' }] 
Podesc; 
@UI.lineItem: [{ position: 50, label: 'Status' }] 
@UI.identification: [{ position: 50, label: 'Status' }] 
Postatus; 
    
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;10.&amp;nbsp; Create Metadata extension for Item .&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Metadata.layer: #CUSTOMER
annotate entity z_po_item_consumption
    with 
{
    &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1445379"&gt;@ui&lt;/a&gt;.facet: [{ 
purpose: #STANDARD, 
position: 10, 
label: 'Item', 
type: #IDENTIFICATION_REFERENCE 
}] 
@UI.lineItem: [{ position: 10, label: 'Po no' }] 
@UI.identification: [{ position: 10, label: 'Po no' }] 
Pono; 
@UI.lineItem: [{ position: 20, label: 'Item' }] 
@UI.identification: [{ position: 20, label: 'Item' }] 
Poitem; 
@UI.lineItem: [{ position: 30, label: 'Quantity' }] 
@UI.identification: [{ position: 30, label: 'Quantity' }] 
Quantity; 
@UI.lineItem: [{ position:40, label: 'Unit' }] 
@UI.identification: [{ position: 40, label: 'Unit' }] 
Unit; 
    
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;11. Create Behavior Definition of Composite view.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;managed implementation in class zbp_po_header_composit unique;
strict ( 2 );

define behavior for z_po_header_composit //alias &amp;lt;alias_name&amp;gt;
persistent table zpo_header
lock master
authorization master ( instance )
//etag master &amp;lt;field_name&amp;gt;
{
  create;
  update;
  delete;
  association _item { create; }
}

define behavior for z_po_item_composit //alias &amp;lt;alias_name&amp;gt;
persistent table zpo_item
lock dependent by _header
authorization dependent by _header
//etag master &amp;lt;field_name&amp;gt;
{
  update;
  delete;
  field ( readonly ) Pono;
  association _header;
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;12. Create Projection Behavior Definition.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;projection;
strict ( 2 );

define behavior for z_po_header_consumption //alias &amp;lt;alias_name&amp;gt;
{
  use create;
  use update;
  use delete;

  use association _item { create; }
}

define behavior for z_po_item_consumption //alias &amp;lt;alias_name&amp;gt;
{
  use update;
  use delete;

  use association _header;
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;13. Create Service Definition.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label: 'Service Definition fo PO Header'
define service Z_SV_PO_HEADER {
  expose z_po_header_consumption;
  expose z_po_item_consumption;
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;14. Create Service Binding.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="anjan_paul_1-1750548575837.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277298i246C5370ABCB5340/image-size/medium?v=v2&amp;amp;px=400" role="button" title="anjan_paul_1-1750548575837.png" alt="anjan_paul_1-1750548575837.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;15. Now Application can be run from Preview. Header and Item can be created .&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="anjan_paul_2-1750548645413.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277299iC1DAB4E79DC427FD/image-size/medium?v=v2&amp;amp;px=400" role="button" title="anjan_paul_2-1750548645413.png" alt="anjan_paul_2-1750548645413.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="anjan_paul_3-1750548679744.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277300i0D7B443BDBCE4487/image-size/medium?v=v2&amp;amp;px=400" role="button" title="anjan_paul_3-1750548679744.png" alt="anjan_paul_3-1750548679744.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;16. Records created in Header and Item table.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="anjan_paul_4-1750548764141.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277301iA72D85CBB8D96D03/image-size/medium?v=v2&amp;amp;px=400" role="button" title="anjan_paul_4-1750548764141.png" alt="anjan_paul_4-1750548764141.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="anjan_paul_5-1750548793518.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277302iD08F7F6378AC46BC/image-size/medium?v=v2&amp;amp;px=400" role="button" title="anjan_paul_5-1750548793518.png" alt="anjan_paul_5-1750548793518.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-managed-rap-based-on-header-and-item-table/ba-p/14133709"/>
    <published>2025-06-22T01:34:51.835000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/application-development-and-automation-blog-posts/tree-view-in-rap/ba-p/14135071</id>
    <title>Tree view in RAP</title>
    <updated>2025-06-24T09:43:15.825000+02:00</updated>
    <author>
      <name>Vivek_Sahu_21</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1451075</uri>
    </author>
    <content>&lt;P&gt;&lt;SPAN&gt;In this blog we will cover:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Introduction,&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Architecture overview,&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Scenario,&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Procedure,&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Conclusion.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;U&gt;&lt;STRONG&gt;&lt;FONT size="6"&gt;Introduction:&amp;nbsp;&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/U&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;CDS hierarchy&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; in SAP ABAP is used to define &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;recursive, tree-like relationships&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; in data directly within Core Data Services (CDS) views. It allows structured, hierarchical data (like manager-employee, material categories, sales orgs, BOMs, etc.) to be represented and consumed easily in UI applications and analytics tools.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In the &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;RAP (RESTful ABAP Programming Model)&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;, a &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Tree View&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; is used to &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;visualize hierarchical (recursive) data structures&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; in the UI—typically in &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Fiori Elements&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; apps such as List Reports with tree tables.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Tree View allows end users to &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;navigate data in a parent-child format&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; (e.g., managers → employees, sales org → region → country).&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;├── Region North America&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;│&amp;nbsp;&amp;nbsp; ├── Country USA&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;│&amp;nbsp;&amp;nbsp; └── Country Canada&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;└── Region Europe&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; ├── Country Germany&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; └── Country France&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;To enable a Tree View in a RAP app:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Model recursive data in a CDS view&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; (e.g., employee-manager, sales org tree)&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Create a &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;CDS hierarchy&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; (&lt;/SPAN&gt;&lt;SPAN&gt;define hierarchy&lt;/SPAN&gt;&lt;SPAN&gt;)&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Use a &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;C_ projection view&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; to expose the hierarchy using:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1599241"&gt;@odata&lt;/a&gt;.hierarchy.recursiveHierarchy: [ { entity.name: 'ZVS_I_SALES_ORG_HN' } ]&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Add your entity to &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Service Definition&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; and &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Service Binding&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Run the Fiori app (it will automatically detect and display a tree)&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&lt;U&gt;&lt;STRONG&gt;&lt;FONT size="6"&gt;Treeviews: Architecture Overview&amp;nbsp;&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/U&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The implementation of a treeview in the ABAP RESTful Application Programming Model (RAP) requires different entities depending on whether the treeview should be read-only or editable.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Architecture Overview: Read-Only Treeview&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Vivek_Sahu_21_0-1750743710426.jpeg" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277974i2891481FDCFB3EFE/image-size/large?v=v2&amp;amp;px=999" role="button" title="Vivek_Sahu_21_0-1750743710426.jpeg" alt="Vivek_Sahu_21_0-1750743710426.jpeg" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Architecture Overview: Read-Only Tree View in CDS&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;To enable a read-only hierarchical display of data in the UI, the following CDS artifacts are used in combination:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Database Table&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;SPAN&gt;A custom database table holds the hierarchical data structure.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Interface View&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;SPAN&gt;This CDS view entity is built on top of the database table and defines the data model. It includes a self-association to represent the parent-child hierarchy within the same dataset.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;CDS Hierarchy&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;SPAN&gt;A &lt;/SPAN&gt;&lt;I&gt;&lt;SPAN&gt;persistent CDS hierarchy&lt;/SPAN&gt;&lt;/I&gt;&lt;SPAN&gt; is created using the &lt;/SPAN&gt;&lt;SPAN&gt;DEFINE HIERARCHY&lt;/SPAN&gt;&lt;SPAN&gt; statement. It provides a hierarchical interpretation of the interface view, enabling the framework to understand how records are nested.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Projection View&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;SPAN&gt;This view projects the interface view and incorporates the CDS hierarchy to expose the structured, hierarchical data as required by the UI.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Service Definition and Service Binding&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;SPAN&gt;These are created to expose the CDS projection view as an OData service. This step enables the consumption of hierarchical data in SAP Fiori or other UI frameworks.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Architecture Overview: Editable Treeview with Draft&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Vivek_Sahu_21_0-1750744114176.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277982i08F2A2C1F5D8F5DC/image-size/large?v=v2&amp;amp;px=999" role="button" title="Vivek_Sahu_21_0-1750744114176.png" alt="Vivek_Sahu_21_0-1750744114176.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Editable Tree View with Draft Enablement – Architecture Overview&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;To enable an &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;editable tree view with draft functionality&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;, the following key artifacts work together to define and expose the hierarchical data structure to the UI:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Database table:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Active and draft tables&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; store the hierarchical data and hierarchy directory separately, supporting draft-enabled transactional scenarios.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;CDS view Entities (Interface Views):&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Interface views reference the underlying database tables and act as the &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;first projection layer&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;The CDS view for the hierarchical data must include:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;A &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;self-association&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; to represent the parent-child relationship within the same entity (enabling hierarchy logic).&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;A &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;one-to-many association&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; to link with the hierarchy directory entity.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;CDS Hierarchy:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;A &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;persistent CDS hierarchy&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; is defined using &lt;/SPAN&gt;&lt;SPAN&gt;DEFINE HIERARCHY&lt;/SPAN&gt;&lt;SPAN&gt;.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;It enables hierarchical interpretation for the data exposed by the first-layer CDS view.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Base CDS views:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;These views enrich the model with &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;compositional information&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;The &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;hierarchy directory view&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; acts as the &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;composition root&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; (parent).&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;The &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;hierarchical data view&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; acts as the &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;composition child&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Behaviour Definition for base views:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Defines &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;transactional behavior&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;, including:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Draft capability&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Editing operations required by the UI.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Projection views:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Serve the &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;consumption layer&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;For the hierarchy directory: A projection view supports transactional queries.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;For hierarchical data: A projection view combines interface view data with hierarchical logic using the &lt;/SPAN&gt;&lt;SPAN&gt;@OData.hierarchy.recursiveHierarchy&lt;/SPAN&gt;&lt;SPAN&gt; annotation (referring to the CDS hierarchy).&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Projection behaviour definition:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Describes the behavior of projection views, allowing:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Custom logic&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; like determinations, validations, authorizations, numbering, etc.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Service Definition and Service Binding:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Finally, a &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;service definition&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; and &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;binding&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; are created to expose the hierarchy and its data structure to the UI layer via OData.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;===========================================================================&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;U&gt;&lt;STRONG&gt;&lt;FONT size="6"&gt;Scenario for Tree view in RAP:&amp;nbsp;&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/U&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In large global companies, the &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Sales &amp;amp; Distribution (SD) module&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; often reflects the company's organizational structure. Typically, &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Sales Organizations&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; are arranged in a multi-level hierarchy like this:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Vivek_Sahu_21_0-1750746293329.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/278000iA1D1A26B7D0A30E3/image-size/large?v=v2&amp;amp;px=999" role="button" title="Vivek_Sahu_21_0-1750746293329.png" alt="Vivek_Sahu_21_0-1750746293329.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;This kind of structure helps companies manage &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;sales performance, reporting, and operations&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; more effectively.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;However, many systems don’t provide a &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;read-only, easy-to-use view&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; of this hierarchy — especially in a &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;tree or drill-down format&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; that users can easily navigate.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In this blog, we’ll walk through how to model and expose this Sales Org hierarchy using &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;CDS Hierarchies&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;, and finally expose it through an &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;OData service&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; to be consumed in a Fiori UI.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;U&gt;&lt;STRONG&gt;&lt;FONT size="6"&gt;Procedure:&amp;nbsp;&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/U&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Step 1: Define the Base Table - &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;STRONG&gt;&lt;SPAN&gt;ZVS_DT_SALES&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;This transparent table stores the core sales organization data including parent-child relationships.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'Hierarchy: Read Only: Sales Organization'
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE
@AbapCatalog.tableCategory : #TRANSPARENT
@AbapCatalog.deliveryClass : #A
@AbapCatalog.dataMaintenance : #RESTRICTED
define table zvs_dt_sales {

  key client       : abap.clnt not null;
  key sales_org_id : abap.char(6) not null;
  name             : abap.char(50);
  region           : abap.char(20);
  country          : abap.char(3);
  @Semantics.amount.currencyCode : 'zvs_dt_sales.currency'
  revenue          : abap.curr(21,2);
  currency         : /dmo/currency_code;
  parent_sales_org : abap.char(6);

}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Note:&lt;/SPAN&gt;&lt;/STRONG&gt; &lt;SPAN&gt;parent_sales_org&lt;/SPAN&gt;&lt;SPAN&gt; is a self-referencing field to represent the hierarchy.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;This table contain some records:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Vivek_Sahu_21_0-1750746688733.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/278008i35DB9521A7BF5906/image-size/large?v=v2&amp;amp;px=999" role="button" title="Vivek_Sahu_21_0-1750746688733.png" alt="Vivek_Sahu_21_0-1750746688733.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Step 2: Interface View - &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;STRONG&gt;&lt;SPAN&gt;ZVS_I_SALES&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;This CDS view represents the Sales Org data and defines a &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;self-association&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; to establish the parent-child link.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE]
@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Interface View: Sales Organization'
@Metadata.ignorePropagatedAnnotations: true
@ObjectModel.usageType:{
    serviceQuality: #X,
    sizeCategory: #S,
    dataClass: #MIXED
}
define view entity zvs_i_sales as select from zvs_dt_sales
association to zvs_i_sales as _Parent on 
    $projection.ParentSalesOrg = _Parent.SalesOrgId
{
    key sales_org_id as SalesOrgId,
    name as Name,
    region as Region,
    country as Country,
    @Semantics.amount.currencyCode: 'Currency'
    revenue as Revenue,
    currency as Currency,
    parent_sales_org as ParentSalesOrg,
    
    _Parent
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Step 3: Define Hierarchy - &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;STRONG&gt;&lt;SPAN&gt;ZVS_I_SALES_HN&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Using CDS hierarchy syntax, we now define a &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;parent-child recursive hierarchy&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label:'Sales Organization Hierarchy'

define hierarchy zvs_i_sales_hn
  as parent child hierarchy (
    source zvs_i_sales
    child to parent association _Parent
    start where ParentSalesOrg is initial
    siblings order by SalesOrgId ascending
  )
{
    key SalesOrgId,
      ParentSalesOrg
    
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;This is where the magic happens. This hierarchy enables a recursive structure that can be rendered in Fiori Tree controls.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Step 4: Projection View - &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;STRONG&gt;&lt;SPAN&gt;ZVS_C_SALES&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;This is the final consumption layer that will be exposed as OData. The hierarchy is referenced using the &lt;/SPAN&gt;&lt;SPAN&gt;@OData.hierarchy.recursiveHierarchy&lt;/SPAN&gt;&lt;SPAN&gt; annotation.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Projection View: Sales Organization'
@Metadata.ignorePropagatedAnnotations: true
@ObjectModel.usageType:{
  serviceQuality:#X,
  sizeCategory:#S,
  dataClass:#MIXED
}
@Metadata.allowExtensions:true
@Search.searchable:true

@OData.hierarchy.recursiveHierarchy: [{ entity.name: 'zvs_i_sales_hn' }]
define view entity zvs_c_sales as select from zvs_i_sales
association of many to one zvs_c_sales as _Parent
    on $projection.ParentSalesOrg = _Parent.SalesOrgId
{
    key SalesOrgId,
    @Search.defaultSearchElement: true
    Name,
    Region,
    Country,
    @Semantics.amount.currencyCode: 'Currency'
    Revenue,
    Currency,
    ParentSalesOrg,
    /* Associations */
    _Parent
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Screenshot:&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Vivek_Sahu_21_1-1750747123946.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/278015iBDF0BBC47997F34B/image-size/large?v=v2&amp;amp;px=999" role="button" title="Vivek_Sahu_21_1-1750747123946.png" alt="Vivek_Sahu_21_1-1750747123946.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Metadata extension:&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Metadata.layer: #CORE
annotate entity zvs_c_sales with
{
  @UI: {lineItem: [{ label: 'Sales org ID', position: 10 }],
        identification: [{ label: 'Sales org ID', position: 10 }]
  }
  SalesOrgId;

  @UI: {lineItem: [{ label: 'Sales org Name', position: 20 }],
    identification: [{ label: 'Sales org Name', position: 20 }]
  }
  Name;

  @UI: {lineItem: [{ label: 'Region', position: 30 }],
    identification: [{ label: 'Region', position: 30 }]
  }
  Region;

  @UI: {lineItem: [{ label: 'Country', position: 40 }],
    identification: [{ label: 'Country', position: 40 }]
  }
  Country;

  @UI: {lineItem: [{ label: 'Revenue', position: 50 }],
    identification: [{ label: 'Revenue', position: 50 }]
  }
  Revenue;

  @UI: {lineItem: [{ label: 'Currency', position: 60 }],
    identification: [{ label: 'Currency', position: 60 }]
  }
  Currency;

  @UI: {lineItem: [{ label: 'Parent Sales org ID', position: 70 }],
        identification: [{ label: 'Parent Sales org ID', position: 70 }]
  }
  ParentSalesOrg;

}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Step 6: Service Binding - &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;STRONG&gt;&lt;SPAN&gt;ZVS_C_SALES_ORG_V4&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;If you will choose service binding type as V2, So you will get one error:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Vivek_Sahu_21_0-1750747822530.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/278026iA1D4CE4AD614B646/image-size/large?v=v2&amp;amp;px=999" role="button" title="Vivek_Sahu_21_0-1750747822530.png" alt="Vivek_Sahu_21_0-1750747822530.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;So select your Binding type as V4,&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Vivek_Sahu_21_0-1750747270474.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/278016iE5D2B66D56C3A4F5/image-size/large?v=v2&amp;amp;px=999" role="button" title="Vivek_Sahu_21_0-1750747270474.png" alt="Vivek_Sahu_21_0-1750747270474.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Now preview your application:&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Vivek_Sahu_21_1-1750747270475.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/278018i775632EE7FE87274/image-size/large?v=v2&amp;amp;px=999" role="button" title="Vivek_Sahu_21_1-1750747270475.png" alt="Vivek_Sahu_21_1-1750747270475.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Vivek_Sahu_21_2-1750747270476.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/278017i237BDF6C97864655/image-size/large?v=v2&amp;amp;px=999" role="button" title="Vivek_Sahu_21_2-1750747270476.png" alt="Vivek_Sahu_21_2-1750747270476.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Vivek_Sahu_21_3-1750747270477.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/278019i79A479F9D5D0F6D5/image-size/large?v=v2&amp;amp;px=999" role="button" title="Vivek_Sahu_21_3-1750747270477.png" alt="Vivek_Sahu_21_3-1750747270477.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;U&gt;&lt;FONT size="6"&gt;Conclusion:&amp;nbsp;&lt;/FONT&gt;&lt;/U&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Using CDS views and hierarchies in SAP S/4HANA is a simple and effective way to show the Sales Organization structure in a clear, tree-like format. It helps sales managers easily understand how different sales units are connected and how each one is performing. This setup is read-only, so the data stays safe, and it works well with Fiori apps for a smooth user experience.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Overall, this approach makes reporting and analysis easier without needing a lot of custom coding.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/application-development-and-automation-blog-posts/tree-view-in-rap/ba-p/14135071"/>
    <published>2025-06-24T09:43:15.825000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/crud-operations-in-rap-abap-in-managed-bo/ba-p/14134508</id>
    <title>CRUD Operations in RAP ABAP in managed BO</title>
    <updated>2025-06-24T10:52:46.357000+02:00</updated>
    <author>
      <name>BharathKumarVaddepalli</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1989797</uri>
    </author>
    <content>&lt;OL&gt;&lt;LI&gt;Create a table what you want to do &lt;STRONG&gt;CRUD&lt;/STRONG&gt; operations, or you can use any table of your choice&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_0-1750685661677.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277661iC6634DB583120AB9/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_0-1750685661677.png" alt="BharathKumarVaddepalli_0-1750685661677.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'product table'
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE
@AbapCatalog.tableCategory : #TRANSPARENT
@AbapCatalog.deliveryClass : #A
@AbapCatalog.dataMaintenance : #RESTRICTED
define table zvb_product {
  key client     : abap.clnt not null;
  key product_id : abap.int4 not null;
  name           : abap.string(256);
  category       : abap.char(40);
  price          : abap.int4;
  currency       : abap.cuky;
  discount       : abap.int4;
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;2.&amp;nbsp;Create a root interface view entity for the table You are going to do &lt;STRONG&gt;CRUD &lt;/STRONG&gt;Operations.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_1-1750685661691.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277659iE7784BF7438ADAF2/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_1-1750685661691.png" alt="BharathKumarVaddepalli_1-1750685661691.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Interface View for Product'
@Metadata.ignorePropagatedAnnotations: true
define root view entity ZI_VBPRODUCT as select from zvb_product
{
  key product_id as Product_id,
  name as Name,
  category as Category,
  price as Price,
  currency as Currency,
  discount as Discount
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;3.&amp;nbsp; &amp;nbsp;Create a projection view for the view entity created in step 2. And allow metadata extension annotation to be true.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_2-1750685661703.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277660i775B84CCC9E8193C/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_2-1750685661703.png" alt="BharathKumarVaddepalli_2-1750685661703.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE]
@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Consumption View product entity'
@Metadata.ignorePropagatedAnnotations: true
@ObjectModel.usageType:{
    serviceQuality: #X,
    sizeCategory: #S,
    dataClass: #MIXED
}
@Search.searchable: true
@Metadata.allowExtensions: true
define root view entity ZI_VBPRODUCT_ENTITY
as projection on ZI_VBPRODUCT as product
{
   @Consumption.valueHelpDefinition: [
   { entity: {
               name: '/DMO/I_Customer',
               element: 'CustomerID'
       } }
   ]
@Search.defaultSearchElement: true
  key Product_id,
  @Consumption.valueHelpDefinition: [
   { entity: {
               name: '/DMO/I_Customer',
               element: 'FirstName'
       } }
   ]
  Name,
  Category,
  Price,
  Currency,
  Discount
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;Here I have used value help for some fields and searchable true annotation for searching.&lt;/P&gt;&lt;P&gt;4. Create a metadata extension for the Consumption view created in the step 3. Use at least single annotation for each field otherwise you may get an error if not you can continue.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_3-1750685661720.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277662iFB1678BBDBDCC4B0/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_3-1750685661720.png" alt="BharathKumarVaddepalli_3-1750685661720.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Metadata.layer: #CORE
@UI: {
  headerInfo: {
    typeName: 'Product',
    typeNamePlural: 'Product',
    title: { type: #STANDARD , label: 'Product', value: 'product_id' }
  }
}
annotate view ZI_VBPRODUCT_ENTITY
    with
{
  .facet: [{ id: 'product_id', purpose: #STANDARD, type: #IDENTIFICATION_REFERENCE, label: 'product_id', position: 10 }]
  : { lineItem: [{ position: 10 },{ type: #FOR_ACTION, label: 'Copy', dataAction: 'Copy' }] ,selectionField: [{ position: 20 }],
  identification: [{ position: 10, label: 'Product ID' }] }
    Product_id ;
    : { lineItem: [{ position: 20 }], identification: [{ position: 20, label: 'Name' }], selectionField: [{ position: 30 }] }
    Name;
        : { lineItem: [{ position: 30 }], identification: [{ position: 30, label: 'Category' }],selectionField: [{ position: 40 }]}
    Category;
     : { lineItem: [{ position: 40 }], identification: [{ position: 40,label: 'Price' }],selectionField: [{ position: 50 }]}
    Price;
     : { lineItem: [{ position: 50}], identification: [{ position: 50, label: 'Currency' }],selectionField: [{ position: 60 }]}
    Currency;
    : { lineItem: [{ position: 60 }], identification: [{ position: 60, label: 'Discount' }],selectionField: [{ position: 70 }]}
    Discount;
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;5.&amp;nbsp;Create the Behavior definition for the root view entity. &amp;nbsp;Make sure the mapping for the &lt;STRONG&gt;crud&lt;/STRONG&gt; operations L.H.S will be the names of view and the R.H.S&amp;nbsp; names of table.&lt;/P&gt;&lt;P&gt;Note: L.H.S. and R.H.S names should not be same .&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_4-1750685661728.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277664iDF81CED3192E3ACD/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_4-1750685661728.png" alt="BharathKumarVaddepalli_4-1750685661728.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;managed implementation in class zbp_i_vbproduct unique;
strict ( 2 ); //Uncomment this line in order to enable strict mode 2. The strict mode has two variants (strict(1), strict(2)) and is prerequisite to be future proof regarding syntax and to be able to release your BO.
define behavior for ZI_VBPRODUCT alias product // alias name can be as you like
persistent table zvb_product
lock master
authorization master ( instance )
//etag master &amp;lt;field_name&amp;gt;
{
  create;
  update;
  delete;
//  field ( readonly ) product_id;
  mapping for zvb_product
{
  Product_id = product_id;
  Name       = name;
  Category   = category;
  Price      = price;
  Currency   = currency;
  Discount   = discount;
}
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;6.&amp;nbsp; &amp;nbsp;Create the behavior definition for the consumption view entity.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_5-1750685661736.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277663iD791B8FEB0DADD02/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_5-1750685661736.png" alt="BharathKumarVaddepalli_5-1750685661736.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;7.&amp;nbsp; &amp;nbsp; Create the class which is in the behavior definition of the root view entity. Just create and activate.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_6-1750685661747.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277666iC0226BFBE89BDD17/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_6-1750685661747.png" alt="BharathKumarVaddepalli_6-1750685661747.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;CLASS lhc_ZI_VBPRODUCT DEFINITION INHERITING FROM cl_abap_behavior_handler.
  PRIVATE SECTION.
    METHODS get_instance_authorizations FOR INSTANCE AUTHORIZATION
      IMPORTING keys REQUEST requested_authorizations FOR zi_vbproduct RESULT result.
ENDCLASS.
CLASS lhc_ZI_VBPRODUCT IMPLEMENTATION.
  METHOD get_instance_authorizations.
  ENDMETHOD.
ENDCLASS.&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;8.&amp;nbsp; &amp;nbsp;Create a service definition.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_7-1750685661754.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277665iEFCAA3980CB636A1/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_7-1750685661754.png" alt="BharathKumarVaddepalli_7-1750685661754.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;9.&amp;nbsp; &amp;nbsp; Finally create a service binding and activate it. And click on preview to view the application .&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_8-1750685661766.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277667i590445B8FEC5A213/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_8-1750685661766.png" alt="BharathKumarVaddepalli_8-1750685661766.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;FINAL OUTPUT&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_9-1750685661769.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277669i476C174C2A793C79/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_9-1750685661769.png" alt="BharathKumarVaddepalli_9-1750685661769.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_10-1750685661774.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277670i8153B0F44DA8E102/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_10-1750685661774.png" alt="BharathKumarVaddepalli_10-1750685661774.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;CREATE&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_11-1750685661777.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277668i6CEB580D08B4F986/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_11-1750685661777.png" alt="BharathKumarVaddepalli_11-1750685661777.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_12-1750685661781.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277672i732E64E941BC35D5/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_12-1750685661781.png" alt="BharathKumarVaddepalli_12-1750685661781.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_13-1750685661782.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277671iC9F5A057FB7C58A1/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_13-1750685661782.png" alt="BharathKumarVaddepalli_13-1750685661782.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;UPDATE OR EDIT&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_14-1750685661786.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277673iCAC2DF0ED585C233/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_14-1750685661786.png" alt="BharathKumarVaddepalli_14-1750685661786.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_15-1750685661789.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277675i46331F08F5717892/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_15-1750685661789.png" alt="BharathKumarVaddepalli_15-1750685661789.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_16-1750685661792.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277674iB3C4DEE1F566CBBA/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_16-1750685661792.png" alt="BharathKumarVaddepalli_16-1750685661792.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;DELETE&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_17-1750685661798.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277676i23E02C2672B915DA/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_17-1750685661798.png" alt="BharathKumarVaddepalli_17-1750685661798.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="BharathKumarVaddepalli_18-1750685661804.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/277677iED24A32151E26954/image-size/medium?v=v2&amp;amp;px=400" role="button" title="BharathKumarVaddepalli_18-1750685661804.png" alt="BharathKumarVaddepalli_18-1750685661804.png" /&gt;&lt;/span&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/crud-operations-in-rap-abap-in-managed-bo/ba-p/14134508"/>
    <published>2025-06-24T10:52:46.357000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/rap-transactional-app-performance-considerations-for-singleton-pattern-in/ba-p/14140680</id>
    <title>RAP Transactional app: performance considerations for singleton pattern in draft enabled RAP BO</title>
    <updated>2025-07-01T11:50:32.505000+02:00</updated>
    <author>
      <name>patrick_winkler</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/729521</uri>
    </author>
    <content>&lt;H1 id="toc-hId-1604972677"&gt;Introduction&lt;/H1&gt;&lt;P&gt;When developing a transactional app, you can use the &lt;A href="https://help.sap.com/docs/abap-cloud/abap-rap/developing-transactional-apps-with-multi-inline-edit-capabilities" target="_blank" rel="noopener noreferrer"&gt;singleton pattern for a draft enabled RAP BO&lt;/A&gt; to enable editing / inline create on the actual root entity.&lt;/P&gt;&lt;P&gt;In this blog, you will learn how the singleton pattern impacts performance and other advantages and disadvantages of this pattern in the context of Fiori elements.&lt;/P&gt;&lt;P&gt;This blog is relevant for&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;A class="" href="https://community.sap.com/t5/c-khhcw49343/SAP+S%25252F4HANA+Cloud+Public+Edition/pd-p/08e2a51b-1ce5-4367-8b33-4ae7e8b702e0" target="_blank"&gt;SAP S/4HANA Cloud Public Edition&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;&lt;A class="" href="https://community.sap.com/t5/c-khhcw49343/SAP+S%25252F4HANA+Cloud+Private+Edition/pd-p/5c26062a-9855-4f39-8205-272938b6882f" target="_blank"&gt;SAP S/4HANA Cloud Private Edition&lt;/A&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&amp;nbsp;&lt;/LI&gt;&lt;LI&gt;&lt;A class="" href="https://community.sap.com/t5/c-khhcw49343/SAP+BTP+ABAP+environment/pd-p/73555000100800001164" target="_blank"&gt;SAP BTP ABAP environment&lt;/A&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&amp;nbsp;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;Further reading:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/tag/business%20configuration%20maintenance%20object/tg-p/board-id/technology-blog-sap" target="_blank"&gt;Related blog posts&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;Learn how you can use&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://learning.sap.com/products/business-technology-platform/development/abap?url_id=text-sapcommunity-prdteng-ABAP" target="_blank" rel="noopener noreferrer"&gt;ABAP technology&lt;/A&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;to develop innovative applications and business solutions across SAP’s portfolio on&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://learning.sap.com/products/business-technology-platform/development/abap" target="_blank" rel="noopener noreferrer"&gt;SAP Learning Site&lt;/A&gt;.&lt;/LI&gt;&lt;/UL&gt;&lt;H1 id="toc-hId-1408459172"&gt;Example BO&lt;/H1&gt;&lt;P&gt;Our data model consists of a table T1 and a corresponding text table T1_TXT.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'Tab1'
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE
@AbapCatalog.tableCategory : #TRANSPARENT
@AbapCatalog.deliveryClass : #C
@AbapCatalog.dataMaintenance : #ALLOWED
define table T1 {
  key client            : abap.clnt not null;
  key k1                : zpw_d1 not null;
  f1                    : abap.char(20);
  f2                    : abap.char(20);
  f3                    : abap.char(20);
  f4                    : abap.char(20);
  f5                    : abap.char(20);
  f6                    : abap.char(20);
  f7                    : abap.char(20);
  f8                    : abap.char(20);
  last_changed_at       : abp_lastchange_tstmpl;
  local_last_changed_at : abp_locinst_lastchange_tstmpl;
}&lt;/code&gt;&lt;/pre&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'Tab1 Text'
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE
@AbapCatalog.tableCategory : #TRANSPARENT
@AbapCatalog.deliveryClass : #C
@AbapCatalog.dataMaintenance : #ALLOWED
define table T1_TXT {
  key client            : abap.clnt not null;
  key langu             : abap.lang not null;
  @AbapCatalog.foreignKey.keyType : #TEXT_KEY
  @AbapCatalog.foreignKey.screenCheck : false
  key k1                : zpw_d1 not null
    with foreign key T1
      where client = T1_TXT.client
        and k1 = T1_TXT.k1;
  description           : abap.char(30);
  local_last_changed_at : abp_locinst_lastchange_tstmpl;
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;Therefore, the draft-enabled RAP BO with singleton pattern consists of the singleton root entity type, T1 entity type, and T1_TXT entity type, each with a draft table.&lt;/P&gt;&lt;H1 id="toc-hId-1211945667"&gt;Singleton draft&lt;/H1&gt;&lt;P&gt;When the &lt;A href="https://help.sap.com/docs/abap-cloud/abap-rap/runtime-edit-action" target="_blank" rel="noopener noreferrer"&gt;Edit action&lt;/A&gt; is performed on a root entity, a corresponding draft entity including all subentities is created. In the singleton pattern, this basically means that a draft entity is created for all entities of the RAP BO.&lt;BR /&gt;Typically, the Edit action is performed when the user clicks the Edit button in the Fiori elements app. You can also use the following ABAP EML statement:&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;MODIFY ENTITY zi_t1_s
  EXECUTE edit
  FROM VALUE #( ( %cid = |CID1|  singletonid = 1 ) ).
COMMIT ENTITIES.&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;For our example BO, the Edit action therefore consists of three SQL statements in the form of INSERT INTO &amp;lt;draft table&amp;gt; SELECT FROM &amp;lt;entity type cds view&amp;gt;. No data is passed to the ABAP application server, only one statement per entity type, regardless of the number of entities.&lt;/P&gt;&lt;P&gt;The following measurement was performed in an ABAP Platform performance test system with respect to the above SQL statements as total:&lt;/P&gt;&lt;TABLE border="1" width="100%"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="25%"&gt;#Rows T1&lt;/TD&gt;&lt;TD width="25%"&gt;#Rows T1_TXT&lt;/TD&gt;&lt;TD width="25%"&gt;HANA CPU time [ms]&lt;/TD&gt;&lt;TD width="25%"&gt;HANA max memory consumption [mb]&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%"&gt;10&lt;/TD&gt;&lt;TD width="25%"&gt;40&lt;/TD&gt;&lt;TD width="25%"&gt;7&lt;/TD&gt;&lt;TD width="25%"&gt;1&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%"&gt;100&lt;/TD&gt;&lt;TD width="25%"&gt;400&lt;/TD&gt;&lt;TD width="25%"&gt;75&lt;/TD&gt;&lt;TD width="25%"&gt;3&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%"&gt;1000&lt;/TD&gt;&lt;TD width="25%"&gt;4000&lt;/TD&gt;&lt;TD width="25%"&gt;135&lt;/TD&gt;&lt;TD width="25%"&gt;6&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%"&gt;10000&lt;/TD&gt;&lt;TD width="25%"&gt;40000&lt;/TD&gt;&lt;TD width="25%"&gt;810&lt;/TD&gt;&lt;TD width="25%"&gt;45&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%"&gt;100000&lt;/TD&gt;&lt;TD width="25%"&gt;400000&lt;/TD&gt;&lt;TD width="25%"&gt;7600&lt;/TD&gt;&lt;TD width="25%"&gt;437&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;This table shows the performance impact of the singleton pattern compared to a RAP BO without a singleton pattern. It is linear, so you can extrapolate for a higher number of lines.&lt;/P&gt;&lt;P&gt;If you use ABAP EML to modify entities, you do not need to create a draft entity, so this penalty does not necessarily apply to ABAP EML statements.&lt;/P&gt;&lt;P data-unlink="true"&gt;The runtime behavior when changing a draft entity or in the &lt;A href="https://help.sap.com/docs/abap-cloud/abap-rap/runtime-prepare-action" target="_blank" rel="noopener noreferrer"&gt;action prepare&lt;/A&gt;&amp;nbsp;is not affected by the singleton pattern.&lt;/P&gt;&lt;P&gt;During the &lt;A href="https://help.sap.com/docs/abap-cloud/abap-rap/draft-action-activate-optimized" target="_blank" rel="noopener noreferrer"&gt;activation action&lt;/A&gt;, the draft entities are discarded using a DELETE statement:&lt;/P&gt;&lt;TABLE border="1" width="100%"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="25%" height="57px"&gt;#Rows T1&lt;/TD&gt;&lt;TD width="25%" height="57px"&gt;#Rows T1_TXT&lt;/TD&gt;&lt;TD width="25%" height="57px"&gt;HANA CPU time [ms]&lt;/TD&gt;&lt;TD width="25%" height="57px"&gt;HANA max memory consumption [mb]&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;10&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;40&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;7&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;1&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;100&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;400&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;7&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;2&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;1000&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;4000&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;27&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;4&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;10000&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;40000&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;155&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;10&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD height="30px"&gt;100000&lt;/TD&gt;&lt;TD height="30px"&gt;400000&lt;/TD&gt;&lt;TD height="30px"&gt;430&lt;/TD&gt;&lt;TD height="30px"&gt;43&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;So you can add this to the performance impact.&lt;/P&gt;&lt;P&gt;Logically, these numbers depend on the table and CDS view design as well as the system. But the basic statement remains.&lt;/P&gt;&lt;P&gt;If the user changes more than about 10% of the entities in the interaction phase, the singleton pattern is more performant because draft entities do not always have to be created.&lt;/P&gt;&lt;H1 id="toc-hId-1015432162"&gt;Singleton in Fiori Elements&lt;/H1&gt;&lt;P&gt;Using a singleton RAP BO pattern in Fiori elements has the following characteristics:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Multi-line edit/inline creation for the actual root entity&lt;/LI&gt;&lt;LI&gt;The app can temporarily store global information in the singleton draft entity&lt;/LI&gt;&lt;LI&gt;All entities of the RAP BO are locked for a user&lt;/LI&gt;&lt;LI&gt;You cannot use selection fields as the &lt;A href="https://sapui5.hana.ondemand.com/sdk/#/topic/4bd7590569c74c61a0124c6e370030f6.html" target="_blank" rel="noopener nofollow noreferrer"&gt;filter bar&lt;/A&gt; is only available in the list report. Alternatively, you can add &lt;A href="https://help.sap.com/docs/abap-cloud/abap-rap/adding-search-capabilities" target="_blank" rel="noopener noreferrer"&gt;search capabilities&lt;/A&gt; to the entity. A search field is then available&amp;nbsp;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;See &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/how-to-create-a-fiori-elements-app-for-a-rap-bo-with-transport-selection/ba-p/13562792" target="_blank"&gt;link&lt;/A&gt; on how to create a Fiori Elements app for a RAP BO with singleton pattern.&lt;/P&gt;&lt;H1 id="toc-hId-818918657"&gt;Custom Business Configurations&lt;/H1&gt;&lt;P&gt;When you create business configurations app using the ABAP RAP programming model, you use the&amp;nbsp;&lt;A href="https://help.sap.com/docs/sap-btp-abap-environment/abap-environment/creating-business-configuration-apps-with-abap-restful-application-programming-model-and-custom-business-configurations-app" target="_blank" rel="noopener noreferrer"&gt;Custom Business Configurations&lt;/A&gt; app and the &lt;A href="https://help.sap.com/docs/btp/sap-business-technology-platform/generating-business-configuration-maintenance-object-with-generate-abap-repository-objects-wizard" target="_blank" rel="noopener noreferrer"&gt;business configuration maintenance object ADT wizard&lt;/A&gt;.&lt;/P&gt;&lt;P&gt;The RAP BO that this wizard generates always uses the singleton pattern for the following reasons:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;For configuration tables, you want to have a spreadsheet like user experience&lt;/LI&gt;&lt;LI&gt;The customizing transport request can be selected once for all entities and stored in the singleton draft entity&lt;/LI&gt;&lt;LI&gt;Locking the entire configuration for only one user is beneficial. You do not want multiple users to work on the same configuration table in parallel&lt;/LI&gt;&lt;LI&gt;The performance penalty for the singleton pattern is acceptable because&lt;BR /&gt;&lt;UL&gt;&lt;LI&gt;Configuration tables rarely have more than 1000 rows, let alone more than 10000 rows&lt;/LI&gt;&lt;LI&gt;Most of the configuration takes place in the intended system/client, not in the production client&lt;/LI&gt;&lt;LI&gt;The frequency of configuration changes is low&lt;/LI&gt;&lt;LI&gt;There is no performance impact when using ABAP EML or the &lt;A href="https://help.sap.com/docs/btp/sap-business-technology-platform/upload-business-configuration?version=Cloud" target="_blank" rel="noopener noreferrer"&gt;Upload Business Configurations&lt;/A&gt; app&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;The Custom Business Configurations app also supports RAP BO without singleton pattern:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;Create the RAP BO / Service binding without using the business configuration maintenance object ADT wizard&lt;/LI&gt;&lt;LI&gt;Add the relevant transport related functionality to the RAP BO&lt;/LI&gt;&lt;LI&gt;Create the business configuration maintenance object (SMBC) manually. Leave the option "Skip root entity list report" unchecked&lt;/LI&gt;&lt;/OL&gt;&lt;H1 id="toc-hId-622405152"&gt;Conclusion&lt;/H1&gt;&lt;P&gt;Do not use the singleton pattern if the RAP BO handles more than 50000 entities and the app is used frequently.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/rap-transactional-app-performance-considerations-for-singleton-pattern-in/ba-p/14140680"/>
    <published>2025-07-01T11:50:32.505000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/application-development-and-automation-blog-posts/side-effects-in-rap-explained-with-determination-example/ba-p/14140206</id>
    <title>Side Effects in RAP Explained with Determination  Example</title>
    <updated>2025-07-02T10:28:03.987000+02:00</updated>
    <author>
      <name>Pradeep555</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1451114</uri>
    </author>
    <content>&lt;P&gt;&lt;SPAN&gt;In the world of SAP RAP (RESTful Application Programming), Determinations and Side Effects play a crucial role in delivering responsive and intelligent user experiences. While determinations are used to implement logic that reacts to changes in data during specific RAP phases (such as &lt;/SPAN&gt;&lt;SPAN&gt;on modify&lt;/SPAN&gt;&lt;SPAN&gt; or &lt;/SPAN&gt;&lt;SPAN&gt;on save)&lt;/SPAN&gt;&lt;SPAN&gt;, side effects ensure that related fields or entities stay consistent and updated on the UI without additional user actions.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In his blog, I will demonstrate a practical scenario where determinations are used to dynamically calculate&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;values based on user input, and side effects are configured to immediately reflect these changes on the UI. This not only improves the data integrity but also enhances usability in Fiori applications. By the end of this post, you will have a clearer understanding of how to leverage determinations and side effects together effectively within a RAP-based application.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;DETERMINATION :&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Actions modifies the existing BO instance where as Determination modifies the existing BO instances based on some&amp;nbsp; trigger condition&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;We can see that Actions also triggers based on the conditions but cannot modify the BO instances , we can be able to throw the error messages.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;Pre requisites :&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;During modification we change/modify&amp;nbsp; some fields / requirements&amp;nbsp; and we can compute the values of&amp;nbsp; particular fields&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Determination can be called during&amp;nbsp; Transactional phase/Save sequence where as validations always called during the save sequence&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Once a determination&amp;nbsp; has been triggered , it must run independently from other determinations&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;During determination result must change if we execute detrmination several time under same condition&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Scenario :&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Here the determination calculateTotalPrice which is defined for all the three entities&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;(Travel, booking and booking supplements) handles the&amp;nbsp; calculation of total&amp;nbsp; price of one travel.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Based on the booking Fee total price must be calculated for the travel&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;SIDE-EFFECTS:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;The SAP Fiori UI does not necessarily trigger a reload of all&amp;nbsp; related BO after every User input , as it simply does not know anything &lt;/SPAN&gt;&lt;SPAN&gt;about data changes&amp;nbsp; on the tables&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Side effects are&amp;nbsp; used to reload data, permissions or messages based on data changes in UI scenarios with draft enabled BO’s&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Side effects reloads the screen but it does not reload entire screen&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&amp;nbsp;It changes some of the field values or will enable/ disable some of the fied values&amp;nbsp;&amp;nbsp;&amp;nbsp; Or status of the data in transactional buffer --&amp;gt; based on these same things should appear in the front end&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;We need to define side effects in Behaviour definition&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Side effects will only reload the fields in front end&amp;nbsp; ,nothing will happen in backend&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;The data which is available in the backend it will reload in the front end whihc is not currently displaying properly&lt;/SPAN&gt; &lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Side effects have two parts :&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Triggering condition : specifies when you should reload ( can be actions / validations)&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Target : which fields should get&amp;nbsp; reloaded ( value of a field / multiple fields / reload entire entity )&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Important points:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Determinations calculates the total&amp;nbsp; price and updates it into the transcational buffer&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;But in the front end screen older values will be there .&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Requirement :&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Whenever I change the booking fee and booking supplement data and flight price&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;The total&amp;nbsp; price should be updated not only in transactional buffer but also in the front end automatically&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;And whenever we are updating booking fee the reload of total price should happen&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Based on the trigger condition --&amp;gt; it should reload the values / fields&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Here the source --&amp;gt; Booking fee&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Target --&amp;gt; totalprice&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Syntax:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Side effects { filed MyField affects Target }&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; { $self affects Targets ; }&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; { action MyAction affects Tragets ;}&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; { determine action MyDetermineAction&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Executed on sources&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Affects Tagets } .&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In the target we can specify :&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;$self : The current RAP BO is reloaded&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Entity _MyAssoc&amp;nbsp; : the specified associated entity&amp;nbsp; _MyAssoc is reloaded when the side effect is triggered&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Message&amp;nbsp; : all the messages in the response parameter reported are reloaded when the side effects is triggered&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;We can&amp;nbsp; also als provide multiple targets&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Side effects { field MyField affects Field1 , Field2 , action Action1 ,&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Action Action 2 [..] }&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;RESTRICTIONS :&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Static actions&amp;nbsp; defined using the addition static must&amp;nbsp; not be used as a side effect trigger , nor as a side effect target&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;In case of the trigger entity property $sefl , the target cannot be a field of the current entity $self itself ,&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;However fields&amp;nbsp; from the associated entity can be defined using path&amp;nbsp; expressions&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Side Effect In BDL:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Side effects can be specified exactly once for each RAP BO entity in the entity&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;Behaviour definition&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Multiple side effects can&amp;nbsp; be summarized with curly brackets , separated by a semicolon (; ) , if required.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;The syntax ‘use side effects’ is specified in the behaviour definition header and all&amp;nbsp; side effects from all&amp;nbsp; RAP BO entities of the underlying RAP BO are reused&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;1.&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Create &lt;/SPAN&gt;&lt;SPAN class=""&gt;db&lt;/SPAN&gt;&lt;SPAN class=""&gt; table for travel&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'travel table' 
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE 
@AbapCatalog.tableCategory : #TRANSPARENT 
@AbapCatalog.deliveryClass : #A 
@AbapCatalog.dataMaintenance : #RESTRICTED 
define table zpd_dt_travel {
 
key client : abap.clnt not null; 
key travel_id : /dmo/travel_id not null; 
agency_id : /dmo/agency_id; 
customer_id : /dmo/customer_id; 
begin_date : /dmo/begin_date; 
end_date : /dmo/end_date; 
@Semantics.amount.currencyCode : 'zpd_dt_travel.currency_code' 
booking_fee : /dmo/booking_fee; 
@Semantics.amount.currencyCode : 'zpd_dt_travel.currency_code' 
total_price : /dmo/total_price; 
currency_code : /dmo/currency_code; 
description : /dmo/description; 
overall_status : /dmo/overall_status; 
created_by : abp_creation_user; 
created_at : abp_creation_tstmpl; 
last_changed_by : abp_locinst_lastchange_user; 
last_changed_at : abp_locinst_lastchange_tstmpl; 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;2.&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Create &lt;/SPAN&gt;&lt;SPAN class=""&gt;db&lt;/SPAN&gt;&lt;SPAN class=""&gt; table for Booking&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'tbale for booking details' 
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE 
@AbapCatalog.tableCategory : #TRANSPARENT 
@AbapCatalog.deliveryClass : #A 
@AbapCatalog.dataMaintenance : #RESTRICTED 
define table zpd_dt_booking { 

key client : abap.clnt not null; 
@AbapCatalog.foreignKey.label : 'Travel' 
@AbapCatalog.foreignKey.screenCheck : false 
key travel_id : /dmo/travel_id not null 
with foreign key [0..*,1] zpd_dt_travel 
where travel_id = zpd_dt_booking.travel_id; 
key booking_id : /dmo/booking_id not null; 
booking_date : /dmo/booking_date; 
customer_id : /dmo/customer_id; 
carrier_id : /dmo/carrier_id; 
connection_id : /dmo/connection_id; 
flight_date : /dmo/flight_date; 
@Semantics.amount.currencyCode : 'zpd_dt_booking.currency_code' 
flight_price : /dmo/flight_price; 
currency_code : /dmo/currency_code; 
booking_status : /dmo/booking_status; 
last_changed_at : abp_locinst_lastchange_tstmpl; 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&amp;nbsp;3.Crete a db table for Booking suppliment&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'booking supplimnet' 
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE 
@AbapCatalog.tableCategory : #TRANSPARENT 
@AbapCatalog.deliveryClass : #A 
@AbapCatalog.dataMaintenance : #RESTRICTED 
define table zpd_dt_bsupplmnt { 

key client : abap.clnt not null; 
@AbapCatalog.foreignKey.label : 'Travel' 
@AbapCatalog.foreignKey.screenCheck : false 
key travel_id : /dmo/travel_id not null 
with foreign key [0..*,1] zpd_dt_travel 
where travel_id = zpd_dt_bsupplmnt.travel_id; 
@AbapCatalog.foreignKey.label : 'Booking' 
@AbapCatalog.foreignKey.screenCheck : false 
key booking_id : /dmo/booking_id not null 
with foreign key [0..*,1] zpd_dt_booking 
where travel_id = zpd_dt_bsupplmnt.travel_id 
and booking_id = zpd_dt_bsupplmnt.booking_id; 
key booking_supplement_id : /dmo/booking_supplement_id not null; 
supplement_id : /dmo/supplement_id; 
@Semantics.amount.currencyCode : 'zpd_dt_bsupplmnt.currency_code' 
price : /dmo/supplement_price; 
currency_code : /dmo/currency_code; 
last_changed_at : abp_locinst_lastchange_tstmpl; 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;4.Create a root view entity for travel&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;AbapCatalog.viewEnhancementCategory: [#NONE] 
@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'root view for travel' 
@Metadata.ignorePropagatedAnnotations: true 
@ObjectModel.usageType:{ 
serviceQuality: #X, 
sizeCategory: #S, 
dataClass: #MIXED 

} 

define root view entity zi_travel_detail as select from zpd_dt_travel 
composition [0..*] of ZI_BOOKING_DETAIL as _booking 
association [0..1] to /DMO/I_Agency as _agency on $projection.AgencyId = _agency.AgencyID  
association [0..1] to /DMO/I_Customer as _customer on $projection.CustomerId = _customer.CustomerID 
association [1..1] to I_Currency as _currency on $projection.CurrencyCode = _currency.Currency 
association [1..1] to /DMO/I_Overall_Status_VH as _status on $projection.OverallStatus = _status.OverallStatus 

{ 

key travel_id as TravelId, 
agency_id as AgencyId, 
customer_id as CustomerId, 
begin_date as BeginDate, 
end_date as EndDate, 
@Semantics.amount.currencyCode: 'CurrencyCode' 
booking_fee as BookingFee, 
@Semantics.amount.currencyCode: 'CurrencyCode' 
total_price as TotalPrice, 
currency_code as CurrencyCode, 
description as Description, 
overall_status as OverallStatus, 
@Semantics.user.createdBy: true 
created_by as CreatedBy, 
@Semantics.systemDateTime.createdAt: true 
created_at as CreatedAt, 
@Semantics.user.localInstanceLastChangedBy: true 
last_changed_by as LastChangedBy, 
@Semantics.systemDateTime.localInstanceLastChangedAt: true 
last_changed_at as LastChangedAt, 
_agency, 
_customer, 
_currency, 
_status, 
_booking 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;5.Create interface view&amp;nbsp; for booking&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label: 'root view for booking' 
@Metadata.ignorePropagatedAnnotations: true 
@ObjectModel.usageType:{ 
serviceQuality: #X, 
sizeCategory: #S, 
dataClass: #MIXED 

} 

define view entity ZI_BOOKING_DETAIL as select from zpd_dt_booking association to parent zi_travel_detail as _travel 
on $projection.TravelId = _travel.TravelId 
composition [0..*] of zi_booking_supp as _bookingsuppl  
association [1..1] to /DMO/I_Carrier as _carrier on $projection.CarrierId = _carrier.AirlineID 
association [1..1] to /DMO/I_Customer as _customer on $projection.CustomerId = _customer.CustomerID  
association [1..1] to /DMO/I_Connection as _connection on $projection.CarrierId = _connection.AirlineID 
and $projection.ConnectionId = _connection.ConnectionID 
association[1..1] to /DMO/I_Booking_Status_VH as _booking_status on $projection.BookingStatus = _booking_status.BookingStatus  

{  

key travel_id as TravelId, 
key booking_id as BookingId, 
booking_date as BookingDate, 
customer_id as CustomerId, 
carrier_id as CarrierId, 
connection_id as ConnectionId, 
flight_date as FlightDate, 
@Semantics.amount.currencyCode: 'CurrencyCode' 
flight_price as FlightPrice, 
currency_code as CurrencyCode, 
booking_status as BookingStatus, 
@Semantics.systemDateTime.localInstanceLastChangedAt: true 
last_changed_at as LastChangedAt, 
_carrier, 
_customer,
_connection,
_booking_status, 
_travel, 
_bookingsuppl 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;6.Create Interface view for Booking suppliment&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE] 
@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'root view for booking suppliment' 
@Metadata.ignorePropagatedAnnotations: true 
@ObjectModel.usageType:{ 
serviceQuality: #X, 
sizeCategory: #S, 
dataClass: #MIXED 
} 

define view entity zi_booking_supp as select from zpd_dt_bsupplmnt 
association to parent ZI_BOOKING_DETAIL as _booking on $projection.TravelId = _booking.TravelId 
and $projection.BookingId = _booking.BookingId 
association[1..1] to zi_travel_detail as _travel on $projection.TravelId = _travel.TravelId 
association [1..1] to /DMO/I_Supplement as _suppliment on $projection.SupplementId = _suppliment.SupplementID 
association[1..*] to /DMO/I_SupplementText as _supplimentText on $projection.SupplementId = _supplimentText.SupplementID  

{ 

key travel_id as TravelId,  
key booking_id as BookingId, 
key booking_supplement_id as BookingSupplementId, 
supplement_id as SupplementId, 
@Semantics.amount.currencyCode: 'CurrencyCode' 
price as Price, 
currency_code as CurrencyCode, 
@Semantics.systemDateTime.localInstanceLastChangedAt: true 
last_changed_at as LastChangedAt, 
_travel, 
_supplimentText, 
_suppliment, 
_booking 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;7.&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Define projection for travel root entity&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'consumption view for travel' 
@Metadata.ignorePropagatedAnnotations: true 
@Metadata.allowExtensions: true 
define root view entity zc_travel_det provider contract transactional_query 
as projection on zi_travel_detail 

{ 

key TravelId, 
@ObjectModel.text.element: [ 'AgencyName' ] 
AgencyId, 
_Agency.Name as AgencyName, 
@ObjectModel.text.element: [ 'CustomerName' ] 
CustomerId, 
_Customer.LastName as CustomerName, 
BeginDate, 
EndDate, 
@Semantics.amount.currencyCode: 'CurrencyCode' 
BookingFee, 
@Semantics.amount.currencyCode: 'CurrencyCode' 
TotalPrice, 
CurrencyCode, 
Description, 
@ObjectModel.text.element: [ 'OverallStatusText' ] 
OverallStatus, 
_Status._Text.Text as OverallStatusText : localized, 
CreatedBy, 
CreatedAt, 
LastChangedBy, 
LastChangedAt, 
/* Associations */ 
_Agency, 
_booking : redirected to composition child zc_booking_det, 
_Currency, 
_Customer, 
_Status 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;8.&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Define projection for booking&amp;nbsp; entity&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'consumption view for booking' 
@Metadata.ignorePropagatedAnnotations: true 
@Metadata.allowExtensions: true 
define view entity zc_booking_det  
as projection on ZI_BOOKING_DETAIL 
{ 

key TravelId, 
key BookingId, 
BookingDate, 
@ObjectModel.text.element: [ 'CustomerName' ] 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Customer', 
element: 'CustomerID' 

} }] 

CustomerId, 
_customer.LastName as CustomerName, 
@ObjectModel.text.element: [ 'CarrierName' ] 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Carrier', 
element: 'AirlineId' 

} }] 

CarrierId, 
_carrier.Name as CarrierName, 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Flight', 
element: 'Connection Id' 

}  

}] 
ConnectionId,  
FlightDate, 
@Semantics.amount.currencyCode: 'CurrencyCode' 
FlightPrice, 
CurrencyCode, 
@ObjectModel.text.element: [ 'BookingStatusText' ] 
_booking_status._Text.Text as BookingStatusText : localized, 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Booking_Status_VH', 
element: 'Booking_Status' 

} }] 
BookingStatus, 
LastChangedAt, 
/* Associations */ 
_bookingsuppl : redirected to composition child zc_booking_supp, 
_booking_status, 
_carrier, 
_connection, 
_customer, 
_travel : redirected to parent zc_travel_det 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;9.&lt;SPAN&gt;&lt;SPAN class=""&gt;Define projection for booking&amp;nbsp; suppliment&amp;nbsp; entity&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'consumption view for booking suppliment' 
@Metadata.ignorePropagatedAnnotations: true 
@Metadata.allowExtensions: true 
define view entity zc_booking_supp  
as projection on zi_booking_supp 

{ 

key TravelId, 
key BookingId, 
key BookingSupplementId, 
@ObjectModel.text.element: [ 'SupplemenDesc' ] 
SupplementId, 
_SupplementText.Description as SupplemenDesc : localized, 
@Semantics.amount.currencyCode: 'CurrencyCode' 
Price, 
CurrencyCode, 
LastChangedAt, 
/* Associations */ 
_Travel : redirected to zc_travel_det,
_Booking : redirected to parent zc_booking_det, 
_Supplement, 
_SupplementText 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;10.provide metada extension for projected views&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Metadata.layer: #CORE 

@Search.searchable: true 
@UI.headerInfo: { 
typeName: 'Travel', 
typeNamePlural: 'Travels', 

title: { 
type: #STANDARD, 
label: 'Travel', 
value: 'TravelId' 

} 

} 
annotate view zc_travel_det 
with  

{ 

@UI.facet: [{ 
id: 'Travel', 
purpose: #STANDARD, 
position: 10 , 
label: 'Travel', 
type: #IDENTIFICATION_REFERENCE 

}, 

{ 

id: 'Booking', 
purpose: #STANDARD, 
position: 20 , 
label: 'Booking', 
type: #LINEITEM_REFERENCE, 
targetElement: '_booking' 

} 

] 

@UI.lineItem: [{ position: 10 }, { type:#FOR_ACTION, dataAction: 'CopyTravel', label: 'Copy Travel' } 
,{ type:#FOR_ACTION, dataAction: 'AcceptTravel', label: 'AcceptTravel' } 
,{ position: 30 },{ type:#FOR_ACTION, dataAction: 'RejectTravel', label: 'RejectTravel' }] 
@UI.identification: [{ position: 10 }] 
@Search.defaultSearchElement: true 
TravelId; 
@UI: { lineItem: [{ position: 40 }], 
selectionField: [{ position: 40 }], 
identification: [{ position: 40 }] 

} 

@Search.defaultSearchElement: true 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Agency', 
element: 'AgencyID' 

} }] 

AgencyId; 
// AgencyName; 
@UI: { lineItem: [{ position: 50 }], 
selectionField: [{ position: 50 }], 
identification: [{ position: 50 }] 
} 
@Search.defaultSearchElement: true 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Customer', 
element: 'CustomerID' 

} }] 
CustomerId; 
// CustomerName; 
@UI.lineItem: [{ position: 60 }] 
@UI.identification: [{ position: 60 }] 
BeginDate; 
@UI.lineItem: [{ position: 70 }] 
@UI.identification: [{ position: 70 }] 
EndDate; 
@UI.identification: [{ position: 75 }] 
BookingFee; 
@UI.lineItem: [{ position: 80 }] 
@UI.identification: [{ position: 80 }] 
TotalPrice; 
@Consumption.valueHelpDefinition: [{ entity: { 
name: 'I_Currency', 
element: 'Currency' 
} }] 

CurrencyCode; 
@UI.identification: [{ position: 85 }] 
Description; 
@UI: { lineItem: [{ position: 90 }],
selectionField: [{ position: 60 }], 
identification: [{ position: 90 }],
textArrangement: #TEXT_ONLY 
} 
@Search.defaultSearchElement: true 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Overall_Status_VH', 
element: 'OverallStatus' 
} }] 

OverallStatus; 
// OverallStatusText;
// .hidden: true 
// LastChangedAt; 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;11. metadata extension for booking entity&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Metadata.layer: #CORE 

@Search.searchable: true 
@UI.headerInfo: { 
typeName: 'Booking',
typeNamePlural: 'Bookings', 

title: { 
type: #STANDARD, 
label: 'Booking', 
value: 'BookingId' 

} 

} 

annotate view zc_booking_det 

with  

{ 

@UI.facet: [{ 
id: 'Booking', 
purpose: #STANDARD,
position: 10 , 
label: 'Booking', 
type: #IDENTIFICATION_REFERENCE 

}, 

{ 

id: 'BookingSuppl', 
purpose: #STANDARD, 
position: 20 ,  
label: 'Booking Suppliments', 
type: #LINEITEM_REFERENCE, 
targetElement: '_bookingsuppl' 

} 

] 

// .defaultSearchElement: true 
// TravelId; 

@UI.lineItem: [{ position: 10 }] 
@UI.identification: [{ position: 10 }] 
@Search.defaultSearchElement: true 
BookingId; 
@UI.lineItem: [{ position: 20 }] 
@UI.identification: [{ position: 20 }] 

BookingDate; 
@UI.lineItem: [{ position: 30 }] 
@UI.identification: [{ position: 30 }] 
@Search.defaultSearchElement: true 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Customer',
element: 'CustomerID' 

} }] 

CustomerId; 
@UI.lineItem: [{ position: 40 }] 
@UI.identification: [{ position: 40 }] 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Carrier', 
element: 'AirlineID' 

} }] 

CarrierId; 
@UI.lineItem: [{ position: 50 }] 
@UI.identification: [{ position: 50 }] 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Flight', 
element: 'ConnectionId' 

}, 

additionalBinding: [{ element: 'ConnectionId' ,  
localElement: 'ConnectionID'}, 
{ element: 'AirlineID' ,  
localElement: 'CarrierId'},  
{ element: 'CurrencyCode' ,  
localElement: 'CurrencyCode'}, 
{ element: 'Price' ,  
localElement: 'FlightPrice'} ] 

}]  

ConnectionId; 
@UI.lineItem: [{ position: 60 }] 
@UI.identification: [{ position: 60 }] 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Flight', 
element: 'FlightDate' 

}, 

additionalBinding: [{ element: 'FlightDate' ,  
localElement: 'FlightDate'}, 
{ element: 'AirlineID' ,  
localElement: 'CarrierId'},  
{ element: 'CurrencyCode' ,  

localElement: 'CurrencyCode'}, 
{ element: 'Price' ,  
localElement: 'FlightPrice'} ] 

}]  

FlightDate; 
@UI.lineItem: [{ position: 70 }] 
@UI.identification: [{ position: 70 }] 
FlightPrice; 
// @Consumption.valueHelpDefinition: [{ entity: { 
// name: 'I_Currency', 
// element: 'Currency' 

// } }] 

// CurrencyCode; 
@UI.lineItem: [{ position: 80 }]
@UI.identification: [{ position: 80 }] 
@UI.textArrangement: #TEXT_ONLY 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Booking_Status_VH', 
element: 'BookingStatus' 

} }] 

BookingStatus; 
// LastChangedAt; 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;12. Metadata extension for booking entity&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Metadata.layer: #CORE 

@Search.searchable: true 
@UI.headerInfo: { 
typeName: 'Booking', 
typeNamePlural: 'Bookings', 
title: { 
type: #STANDARD, 
label: 'Booking', 
value: 'BookingId' 

} 

} 
annotate view zc_booking_det 
with  

{ 

@UI.facet: [{ 
id: 'Booking', 
purpose: #STANDARD, 
position: 10 , 
label: 'Booking', 
type: #IDENTIFICATION_REFERENCE 

}, 

{ 

id: 'BookingSuppl', 
purpose: #STANDARD, 
position: 20 ,  
label: 'Booking Suppliments', 
type: #LINEITEM_REFERENCE, 
targetElement: '_bookingsuppl' 

} 

] 
// .defaultSearchElement: true 
// TravelId; 

@UI.lineItem: [{ position: 10 }] 
@UI.identification: [{ position: 10 }] 
@Search.defaultSearchElement: true 
BookingId; 
@UI.lineItem: [{ position: 20 }] 
@UI.identification: [{ position: 20 }] 
BookingDate; 
@UI.lineItem: [{ position: 30 }] 
@UI.identification: [{ position: 30 }] 
@Search.defaultSearchElement: true 
@Consumption.valueHelpDefinition: [{ entity: {
name: '/DMO/I_Customer', 
element: 'CustomerID' 

} }] 

CustomerId; 
@UI.lineItem: [{ position: 40 }] 
@UI.identification: [{ position: 40 }] 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Carrier', 
element: 'AirlineID' 

} }] 

CarrierId; 
@UI.lineItem: [{ position: 50 }] 
@UI.identification: [{ position: 50 }] 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Flight', 
element: 'ConnectionId' 

}, 
additionalBinding: [{ element: 'ConnectionId' ,  
localElement: 'ConnectionID'}, 

{ element: 'AirlineID' ,  
localElement: 'CarrierId'},  
{ element: 'CurrencyCode' ,  
localElement: 'CurrencyCode'}, 
{ element: 'Price' , 
localElement: 'FlightPrice'} ] 

}]  
ConnectionId; 
@UI.lineItem: [{ position: 60 }] 
@UI.identification: [{ position: 60 }] 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Flight', 
element: 'FlightDate' 

}, 

additionalBinding: [{ element: 'FlightDate' ,  
localElement: 'FlightDate'}, 
{ element: 'AirlineID' ,  
localElement: 'CarrierId'},  
{ element: 'CurrencyCode' ,  
localElement: 'CurrencyCode'}, 
{ element: 'Price' ,  
localElement: 'FlightPrice'} ] 

}]  
FlightDate; 
@UI.lineItem: [{ position: 70 }] 
@UI.identification: [{ position: 70 }] 

FlightPrice; 
// @Consumption.valueHelpDefinition: [{ entity: { 
// name: 'I_Currency', 
// element: 'Currency' 
// } }] 

// CurrencyCode; 
@UI.lineItem: [{ position: 80 }] 
@UI.identification: [{ position: 80 }] 
@UI.textArrangement: #TEXT_ONLY 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_Booking_Status_VH', 
element: 'BookingStatus' 

} }] 
BookingStatus; 
// LastChangedAt; 


} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;13.&amp;nbsp;Metadata extension for booking&amp;nbsp; suppliment entity&lt;/P&gt;&lt;PRE&gt;@Metadata.layer: #CORE 

@Search.searchable: true 
@UI.headerInfo: { 
typeName: 'BookingSuppl', 
typeNamePlural: 'BookingSuppls', 
title: { 
type: #STANDARD, 
label: 'Booking Suppliments', 
value: 'BookingSupplementId' 

} 
} 

annotate view zc_booking_supp 
with  
{ 
@UI.facet: [{ 
id: 'BookingSuppl', 
purpose: #STANDARD, 
position: 10 ,
label: 'Booking Suppliments', 
type: #IDENTIFICATION_REFERENCE 
} 
] 
// @Search.defaultSearchElement: true 
// TravelId; 
@Search.defaultSearchElement: true 
BookingId; 
@UI.lineItem: [{ position: 10 }] 
@UI.identification: [{ position: 10 }] 
BookingSupplementId; 
@UI.lineItem: [{ position: 20 }] 
@UI.identification: [{ position: 20 }] 
@Consumption.valueHelpDefinition: [{ entity: { 
name: '/DMO/I_SUPPLEMENT', 
element: 'SupplementID' 
}, 

additionalBinding: [{ element: 'SupplementID' , 
localElement: 'SupplementId'}, 
{ element: 'Price' , 
localElement: 'Price'}, 
{ element: 'CurrencyCode' , 
localElement: 'CurrencyCode'} 

] 

}] 
SupplementId; 
@UI.lineItem: [{ position: 30 }] 
@UI.identification: [{ position: 30 }] 

Price; 
// @Consumption.valueHelpDefinition: [{ entity: { 
// name: 'I_Currency', 
// element: 'Currency' 
// } }] 
// CurrencyCode; 
// @UI.hidden: true 
// LastChangedAt; 

} &lt;/PRE&gt;&lt;P&gt;14.&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Create&lt;/SPAN&gt;&lt;SPAN class=""&gt; behaviour definition travel root entity&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;managed; 

strict ( 2 ); 
define behavior for zi_travel_detail //alias &amp;lt;alias_name&amp;gt; 
implementation in class zcl_bp_travel_maa unique 
persistent table zpd_dt_travel 
lock master 
authorization master ( global ) 
etag master LastChangedAt 
early numbering 

{ 

field ( readonly ) TravelId; 
action AcceptTravel result [1] $self; 
action RejectTravel result [1] $self; 

factory action CopyTravel [1]; 
internal action RecalcTotalPrice; 
determination CalcTotalPrice on modify { create; field BookingFee, CurrencyCode; } 

// authorization ( global ), 
create; 
update; 
delete; 
// field ( readonly ) TravelId; 
association _booking { create; } 
mapping for zpd_dt_travel 
{ 

TravelId = travel_id; 
AgencyId = agency_id; 
CustomerId = customer_id; 
BeginDate = begin_date; 
EndDate = end_date; 
BookingFee = booking_fee; 
TotalPrice = total_price; 
CurrencyCode = currency_code; 
Description = description; 
OverallStatus = overall_status; 
CreatedBy = created_by; 
CreatedAt = created_at; 
LastChangedBy = last_changed_by; 
LastChangedAt = last_changed_at; 

} 
} 
define behavior for ZI_BOOKING_DETAIL //alias &amp;lt;alias_name&amp;gt; 
implementation in class zcl_bp_booking_ma unique 
persistent table zpd_dt_booking 
lock dependent by _Travel 
//authorization dependent by _travel 
authorization master ( global ) 
etag master LastChangedAt 
early numbering 
{ 
update; 
delete; 
field ( readonly ) TravelId, BookingId;

determination CalcTotalPrice on modify { create; field FlightPrice, CurrencyCode; } 
association _travel; 
association _bookingsuppl { create; } 
mapping for zpd_dt_booking 

{ 
TravelId = travel_id; 
BookingId = booking_id; 
BookingDate = booking_date; 
CustomerId = customer_id; 
CarrierId = carrier_id; 
ConnectionId = connection_id; 
FlightDate = flight_date; 
FlightPrice = flight_price; 

CurrencyCode = currency_code; 
BookingStatus = booking_status; 
LastChangedAt = last_changed_at; 

} 

} 
define behavior for zi_booking_supp //alias &amp;lt;alias_name&amp;gt; 
implementation in class zcl_bp_booking_ma unique 
persistent table zpd_dt_bsupplmnt 
lock dependent by _Travel 
//authorization dependent by _Travel 
authorization master ( global ) 
etag master LastChangedAt 
early numbering 

{ 
update; 
delete; 
field ( readonly ) TravelId, BookingId, BookingSupplementId; 
determination CalcTotalPrice on modify { create; field Price, CurrencyCode; } 
association _Travel; 
association _Booking; 
mapping for zpd_dt_bsupplmnt 
{ 

SupplementId = supplement_id; 
TravelId = travel_id; 
BookingId = booking_id; 
BookingSupplementId = booking_supplement_id; 
Price = price; 
CurrencyCode = currency_code; 
LastChangedAt = last_changed_at; 

} 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;15.&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Define &lt;/SPAN&gt;&lt;SPAN class=""&gt;behavior definition&lt;/SPAN&gt;&lt;SPAN class=""&gt; for projection root entity&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;projection; 

strict ( 2 );
define behavior for zc_travel_det //alias &amp;lt;alias_name&amp;gt; 

{ 
use create; 
use update; 
use delete; 

use action AcceptTravel; 
use action RejectTravel; 
use action CopyTravel; 
use association _booking { create; } 

} 
define behavior for zc_booking_det //alias &amp;lt;alias_name&amp;gt; 

{ 

use update; 
use delete; 
use association _travel; 
use association _bookingsuppl { create; } 

} 

define behavior for zc_booking_supp //alias &amp;lt;alias_name&amp;gt; 
{ 

use update; 
use delete; 

use association _Travel; 
use association _Booking; 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;16. Create Service Definition&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label: 'service def for travel' 
define service Zsr_travel_det { 

expose zc_travel_det; 
expose zc_booking_det; 
expose zc_booking_supp;
expose /DMO/I_Supplement_StdVH as Supplement; 
expose /DMO/I_SupplementCategory_VH as SupplementCategory; 
expose /DMO/I_Customer_StdVH as Passenger; 
expose /DMO/I_Agency_StdVH as TravelAgency; 
expose /DMO/I_Carrier_StdVH as Airline; 
expose /DMO/I_Connection_StdVH as FlightConnection; 
expose /DMO/I_Flight_StdVH as Flight; 
expose /DMO/I_Airport_StdVH as Airport; 
expose /DMO/I_Overall_Status_VH as OverallStatus; 
expose /DMO/I_Booking_Status_VH as BookingStatus; 
expose I_CurrencyStdVH as Currency; 
expose I_CountryVH as Country; 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;17.&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Create service binding&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Pradeep555_0-1751354700486.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281015iFEA8DEFC3496780A/image-size/large?v=v2&amp;amp;px=999" role="button" title="Pradeep555_0-1751354700486.png" alt="Pradeep555_0-1751354700486.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;18. Implement the class&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;CLASS lhc_zi_travel_detail DEFINITION INHERITING FROM cl_abap_behavior_handler. 

PRIVATE SECTION. 

METHODS get_global_authorizations FOR GLOBAL AUTHORIZATION 
IMPORTING REQUEST requested_authorizations FOR zi_travel_detail RESULT result. 
METHODS accepttravel FOR MODIFY 
IMPORTING keys FOR ACTION zi_travel_detail~accepttravel RESULT result. 
METHODS copytravel FOR MODIFY 
IMPORTING keys FOR ACTION zi_travel_detail~copytravel. 
METHODS recalctotalprice FOR MODIFY 
IMPORTING keys FOR ACTION zi_travel_detail~recalctotalprice. 
METHODS rejecttravel FOR MODIFY 
IMPORTING keys FOR ACTION zi_travel_detail~rejecttravel RESULT result. 
METHODS calctotalprice FOR DETERMINE ON MODIFY 
IMPORTING keys FOR zi_travel_detail~calctotalprice. 
METHODS earlynumbering_cba_booking FOR NUMBERING 
IMPORTING entities FOR CREATE zi_travel_detail\_booking. 
METHODS earlynumbering_create FOR NUMBERING 
IMPORTING entities FOR CREATE zi_travel_detail. 

ENDCLASS. 

CLASS lhc_zi_travel_detail IMPLEMENTATION. 
METHOD get_global_authorizations. 
ENDMETHOD. 

METHOD earlynumbering_create. 
DATA(lt_entities) = entities. 
DELETE lt_entities WHERE TravelId IS NOT INITIAL . 
TRY. 
cl_numberrange_runtime=&amp;gt;number_get( 

EXPORTING 
nr_range_nr = '01' 
object = '/DMO/TRV_M' 
quantity = CONV #( lines( lt_entities ) ) 
IMPORTING 
number = DATA(lv_latest_num) 
returncode = DATA(lv_code) 
returned_quantity = DATA(lv_qty) 

). 
CATCH cx_nr_object_not_found. 
CATCH cx_number_ranges INTO DATA(lo_error). 

LOOP AT lt_entities INTO DATA(ls_entities). 
APPEND VALUE #( %cid = ls_entities-%cid 
%key = ls_entities-%key ) 
TO failed-zi_travel_detail. 
APPEND VALUE #( %cid = ls_entities-%cid 
%key = ls_entities-%key 
%msg = lo_error ) 
TO reported-zi_travel_detail. 
ENDLOOP. 
EXIT. 
ENDTRY.. 

ASSERT lv_qty = lines( lt_entities ). 
DATA(lv_curr_num) = lv_latest_num - lv_qty. 
LOOP AT lt_entities INTO ls_entities. 
lv_curr_num = lv_curr_num + 1. 
APPEND VALUE #( %cid = ls_entities-%cid 
TravelId = lv_curr_num ) 
TO mapped-zi_travel_detail. 
ENDLOOP. 
ENDMETHOD. 

METHOD earlynumbering_cba_Booking. 

DATA : lv_max_booking TYPE /dmo/booking_id. 
READ ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail BY \_booking 
FROM CORRESPONDING #( entities ) 
LINK DATA(lt_link_data). 
LOOP AT entities ASSIGNING FIELD-SYMBOL(&amp;lt;ls_group_entity&amp;gt;) 
GROUP BY &amp;lt;ls_group_entity&amp;gt;-TravelId. 

lv_max_booking = REDUCE #( INIT lv_max = CONV /dmo/booking_id( '0' ) 
FOR ls_link IN lt_link_data USING KEY entity 
WHERE ( source-TravelId = &amp;lt;ls_group_entity&amp;gt;-TravelId ) 
NEXT lv_max = COND /dmo/booking_id( WHEN lv_max &amp;lt; ls_link-target-BookingId 
THEN ls_link-target-BookingId 
ELSE lv_max ) ). 

lv_max_booking = REDUCE #( INIT lv_max = lv_max_booking 
FOR ls_entity IN entities USING KEY entity 
WHERE ( TravelId = &amp;lt;ls_group_entity&amp;gt;-TravelId ) 
FOR ls_booking IN ls_entity-%target 
NEXT lv_max = COND /dmo/booking_id( WHEN lv_max &amp;lt; ls_booking-BookingId 
THEN ls_booking-BookingId 
ELSE lv_max ) ). 
LOOP AT entities ASSIGNING FIELD-SYMBOL(&amp;lt;ls_entities&amp;gt;) 
USING KEY entity 
WHERE TravelId = &amp;lt;ls_group_entity&amp;gt;-TravelId. 

LOOP AT &amp;lt;ls_entities&amp;gt;-%target ASSIGNING FIELD-SYMBOL(&amp;lt;ls_booking&amp;gt;). 
IF &amp;lt;ls_booking&amp;gt;-BookingId IS INITIAL. 
lv_max_booking += 10. 
APPEND CORRESPONDING #( &amp;lt;ls_booking&amp;gt; ) TO mapped-zi_booking_detail ASSIGNING FIELD-SYMBOL(&amp;lt;ls_new_map_book&amp;gt;). 
&amp;lt;ls_new_map_book&amp;gt;-BookingId = lv_max_booking. 

ENDIF. 
ENDLOOP. 
ENDLOOP. 

ENDLOOP. 
ENDMETHOD. 

METHOD AcceptTravel. 
MODIFY ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail 

UPDATE FIELDS ( OverallStatus ) 
WITH VALUE #( FOR ls_keys IN keys ( %tky = ls_keys-%tky 
OverallStatus = 'A') ). 
READ ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail 
ALL FIELDS WITH CORRESPONDING #( keys ) 
RESULT DATA(lt_result). 
result = VALUE #( FOR ls_result IN lt_result ( %tky = ls_result-%tky 
%param = ls_result ) ). 

ENDMETHOD. 
METHOD CopyTravel. 
ENDMETHOD. 

 

METHOD RecalcTotalPrice.

TYPES : BEGIN OF ty_total, 
price TYPE /dmo/total_price, 
curr TYPE /dmo/currency_code, 
END OF ty_total. 

DATA : lt_total TYPE TABLE OF ty_total, 
lv_conv_price TYPE ty_total-price. 

READ ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail 
FIELDS ( BookingFee CurrencyCode ) 
WITH CORRESPONDING #( keys ) 
RESULT DATA(lt_travel). 
DELETE lt_travel WHERE CurrencyCode IS INITIAL. 

READ ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail BY \_booking 
FIELDS ( FlightPrice CurrencyCode ) 
WITH CORRESPONDING #( lt_travel ) 
RESULT DATA(lt_ba_booking) . 

READ ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_booking_detail BY \_bookingsuppl 
FIELDS ( Price CurrencyCode ) 
WITH CORRESPONDING #( lt_ba_booking ) 
RESULT DATA(lt_ba_bookingsupp) . 
LOOP AT lt_travel ASSIGNING FIELD-SYMBOL(&amp;lt;ls_travel&amp;gt;). 
lt_total = VALUE #( ( price = &amp;lt;ls_travel&amp;gt;-BookingFee curr = &amp;lt;ls_travel&amp;gt;-CurrencyCode ) ). 

LOOP AT lt_ba_booking ASSIGNING FIELD-SYMBOL(&amp;lt;ls_booking&amp;gt;) 
USING KEY entity 
WHERE TravelId = &amp;lt;ls_travel&amp;gt;-TravelId 
AND CurrencyCode IS NOT INITIAL.

APPEND VALUE #( price = &amp;lt;ls_booking&amp;gt;-FlightPrice curr = &amp;lt;ls_booking&amp;gt;-CurrencyCode ) 
TO lt_total. 

LOOP AT lt_ba_bookingsupp ASSIGNING FIELD-SYMBOL(&amp;lt;ls_bookingsupp&amp;gt;) 
USING KEY entity 
WHERE TravelId = &amp;lt;ls_booking&amp;gt;-TravelId 

AND BookingId = &amp;lt;ls_booking&amp;gt;-BookingId 
AND CurrencyCode IS NOT INITIAL. 
APPEND VALUE #( price = &amp;lt;ls_bookingsupp&amp;gt;-Price curr = &amp;lt;ls_bookingsupp&amp;gt;-CurrencyCode ) 

TO lt_total. 
ENDLOOP. 
ENDLOOP. 

LOOP AT lt_total ASSIGNING FIELD-SYMBOL(&amp;lt;ls_total&amp;gt;). 
IF &amp;lt;ls_total&amp;gt;-curr = &amp;lt;ls_travel&amp;gt;-CurrencyCode . 
lv_conv_price = &amp;lt;ls_total&amp;gt;-price . 
ELSE. 

/dmo/cl_flight_amdp=&amp;gt;convert_currency( 

EXPORTING 
iv_amount = &amp;lt;ls_total&amp;gt;-price 
iv_currency_code_source = &amp;lt;ls_total&amp;gt;-curr 
iv_currency_code_target = &amp;lt;ls_travel&amp;gt;-CurrencyCode 
iv_exchange_rate_date = cl_abap_context_info=&amp;gt;get_system_date( ) 
IMPORTING 
ev_amount = lv_conv_price 

). 

ENDIF. 
&amp;lt;ls_travel&amp;gt;-TotalPrice = &amp;lt;ls_travel&amp;gt;-TotalPrice + lv_conv_price. 
ENDLOOP.

MODIFY ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail 
UPDATE FIELDS ( TotalPrice ) 
WITH CORRESPONDING #( lt_travel ). 
ENDLOOP. 

ENDMETHOD. 
METHOD RejectTravel. 

MODIFY ENTITIES OF zi_travel_detail IN LOCAL MODE 

ENTITY zi_travel_detail 
UPDATE FIELDS ( OverallStatus ) 
WITH VALUE #( FOR ls_keys IN keys ( %tky = ls_keys-%tky 
OverallStatus = 'X') ) 
REPORTED DATA(lt_travel). 

READ ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail 
ALL FIELDS WITH CORRESPONDING #( keys ) 
RESULT DATA(lt_result). 
result = VALUE #( FOR ls_result IN lt_result ( %tky = ls_result-%tky 
%param = ls_result ) ). 
ENDMETHOD. 

METHOD CalcTotalPrice. 

MODIFY ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail 
EXECUTE RecalcTotalPrice 
FROM CORRESPONDING #( keys ). 
ENDMETHOD. 

ENDCLASS. &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;18.&amp;nbsp;&lt;SPAN&gt;Here we are calculating the total&amp;nbsp; price , whenever somebody changes the total&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;Price and currency manually this determination&amp;nbsp; should call on transactional phase(on modify)&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;METHOD CalcTotalPrice. 

MODIFY ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail 
EXECUTE RecalcTotalPrice 
FROM CORRESPONDING #( keys ). 

ENDMETHOD. &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;19.&amp;nbsp;&amp;nbsp;&lt;SPAN&gt;will call RecacTotalPrice for each determination&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;All the travel id which we modify&amp;nbsp; will trigger when we are calculating total price&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;RecacTotalPrice--&amp;gt; will be called . We need to write the logic to modify&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;Our BO instance based on travel ID And it will read and updae the price&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;Here the action will take care of the process – when we change the price&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;( based on determination ) action will be called&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;And as soon as price filed changes, determination happens&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;And we need to read the travel entity with fields booking fee and currency code&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;And we need to provide travel IDs which is present in keys&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;Result is taken in LT_TRAVEL&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Same thing we need to do it for boking and booking suppliment&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;METHOD RecalcTotalPrice. 

TYPES : BEGIN OF ty_total, 
price TYPE /dmo/total_price, 
curr TYPE /dmo/currency_code, 
END OF ty_total. 

DATA : lt_total TYPE TABLE OF ty_total, 
lv_conv_price TYPE ty_total-price. 

READ ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail 
FIELDS ( BookingFee CurrencyCode ) 
WITH CORRESPONDING #( keys ) 
RESULT DATA(lt_travel). 

DELETE lt_travel WHERE CurrencyCode IS INITIAL. 
READ ENTITIES OF zi_travel_detail IN LOCAL MODE 

ENTITY zi_travel_detail BY \_booking 
FIELDS ( FlightPrice CurrencyCode ) 
WITH CORRESPONDING #( lt_travel ) 
RESULT DATA(lt_ba_booking) . 
READ ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_booking_detail BY \_bookingsuppl 
FIELDS ( Price CurrencyCode ) 
WITH CORRESPONDING #( lt_ba_booking ) 

RESULT DATA(lt_ba_bookingsupp) . 

LOOP AT lt_travel ASSIGNING FIELD-SYMBOL(&amp;lt;ls_travel&amp;gt;). 
lt_total = VALUE #( ( price = &amp;lt;ls_travel&amp;gt;-BookingFee curr = &amp;lt;ls_travel&amp;gt;-CurrencyCode ) ). 

LOOP AT lt_ba_booking ASSIGNING FIELD-SYMBOL(&amp;lt;ls_booking&amp;gt;) 
USING KEY entity 
WHERE TravelId = &amp;lt;ls_travel&amp;gt;-TravelId 
AND CurrencyCode IS NOT INITIAL. 
APPEND VALUE #( price = &amp;lt;ls_booking&amp;gt;-FlightPrice curr = &amp;lt;ls_booking&amp;gt;-CurrencyCode ) 
TO lt_total. 
LOOP AT lt_ba_bookingsupp ASSIGNING FIELD-SYMBOL(&amp;lt;ls_bookingsupp&amp;gt;) 
USING KEY entity 

WHERE TravelId = &amp;lt;ls_booking&amp;gt;-TravelId 
AND BookingId = &amp;lt;ls_booking&amp;gt;-BookingId 
AND CurrencyCode IS NOT INITIAL. 

APPEND VALUE #( price = &amp;lt;ls_bookingsupp&amp;gt;-Price curr = &amp;lt;ls_bookingsupp&amp;gt;-CurrencyCode ) 
TO lt_total. 

ENDLOOP. 
ENDLOOP. 


LOOP AT lt_total ASSIGNING FIELD-SYMBOL(&amp;lt;ls_total&amp;gt;). 

IF &amp;lt;ls_total&amp;gt;-curr = &amp;lt;ls_travel&amp;gt;-CurrencyCode . 
lv_conv_price = &amp;lt;ls_total&amp;gt;-price . 
ELSE. 

/dmo/cl_flight_amdp=&amp;gt;convert_currency( 
EXPORTING 
iv_amount = &amp;lt;ls_total&amp;gt;-price 
iv_currency_code_source = &amp;lt;ls_total&amp;gt;-curr 
iv_currency_code_target = &amp;lt;ls_travel&amp;gt;-CurrencyCode 
iv_exchange_rate_date = cl_abap_context_info=&amp;gt;get_system_date( ) 
IMPORTING 
ev_amount = lv_conv_price 

). 
 
ENDIF. 

&amp;lt;ls_travel&amp;gt;-TotalPrice = &amp;lt;ls_travel&amp;gt;-TotalPrice + lv_conv_price. 

ENDLOOP. 

MODIFY ENTITIES OF zi_travel_detail in LOCAL MODE 
ENTITY zi_travel_detail 
UPDATE FIELDS ( TotalPrice ) 
WITH CORRESPONDING #( lt_travel ). 
ENDLOOP. 

ENDMETHOD. &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;20.&amp;nbsp;&amp;nbsp;&lt;SPAN class=""&gt;Class for booking&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp; suppliment&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;CLASS lhc_zi_booking_supp DEFINITION INHERITING FROM cl_abap_behavior_handler. 

PRIVATE SECTION. 

METHODS CalcTotalPrice FOR DETERMINE ON MODIFY 
IMPORTING keys FOR zi_booking_supp~CalcTotalPrice. 
METHODS get_global_authorizations FOR GLOBAL AUTHORIZATION 
IMPORTING REQUEST requested_authorizations FOR zi_booking_supp RESULT result. 
ENDCLASS. 

CLASS lhc_zi_booking_supp IMPLEMENTATION. 
METHOD CalcTotalPrice. 

ENDMETHOD. 
METHOD get_global_authorizations. 
ENDMETHOD. 

ENDCLASS. 
 
CLASS lhc_zi_booking_detail DEFINITION INHERITING FROM cl_abap_behavior_handler. 

PRIVATE SECTION. 
METHODS earlynumbering_cba_Bookingsupp FOR NUMBERING 

IMPORTING entities FOR CREATE zi_booking_detail\_Bookingsuppl. 
METHODS CalcTotalPrice FOR DETERMINE ON MODIFY 
IMPORTING keys FOR zi_booking_detail~CalcTotalPrice. 

METHODS get_global_authorizations FOR GLOBAL AUTHORIZATION 
IMPORTING REQUEST requested_authorizations FOR zi_booking_detail RESULT result. 

ENDCLASS. 


CLASS lhc_zi_booking_detail IMPLEMENTATION. 

METHOD earlynumbering_cba_Bookingsupp. 
DATA: max_booking_suppl_id TYPE /dmo/booking_supplement_id . 
READ ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_booking_detail BY \_Bookingsuppl 
FROM CORRESPONDING #( entities ) 
LINK DATA(booking_supplements). 

" Loop over all unique tky (TravelID + BookingID) 
LOOP AT entities ASSIGNING FIELD-SYMBOL(&amp;lt;booking_group&amp;gt;) GROUP BY &amp;lt;booking_group&amp;gt;-%tky. 

" Get highest bookingsupplement_id from bookings belonging to booking 
max_booking_suppl_id = REDUCE #( INIT max = CONV /dmo/booking_supplement_id( '0' ) 

FOR booksuppl IN booking_supplements USING KEY entity 
WHERE ( source-TravelId = &amp;lt;booking_group&amp;gt;-TravelId 
AND source-BookingId = &amp;lt;booking_group&amp;gt;-BookingId ) 
NEXT max = COND /dmo/booking_supplement_id( WHEN booksuppl-target-BookingSupplementId &amp;gt; max 
THEN booksuppl-target-BookingSupplementId 
ELSE max ) 

). 
" Get highest assigned bookingsupplement_id from incoming entities 

max_booking_suppl_id = REDUCE #( INIT max = max_booking_suppl_id 
FOR entity IN entities USING KEY entity 
WHERE ( TravelId = &amp;lt;booking_group&amp;gt;-TravelId 
AND BookingId = &amp;lt;booking_group&amp;gt;-BookingId ) 
FOR target IN entity-%target 
NEXT max = COND /dmo/booking_supplement_id( WHEN target-BookingSupplementId &amp;gt; max 
THEN target-BookingSupplementId 
ELSE max ) 

). 
" Loop over all entries in entities with the same TravelID and BookingID
LOOP AT entities ASSIGNING FIELD-SYMBOL(&amp;lt;booking&amp;gt;) USING KEY entity WHERE TravelId = &amp;lt;booking_group&amp;gt;-TravelId 
AND BookingId = &amp;lt;booking_group&amp;gt;-BookingId. 

" Assign new booking_supplement-ids 
LOOP AT &amp;lt;booking&amp;gt;-%target ASSIGNING FIELD-SYMBOL(&amp;lt;booksuppl_wo_numbers&amp;gt;). 
APPEND CORRESPONDING #( &amp;lt;booksuppl_wo_numbers&amp;gt; ) TO mapped-zi_booking_supp ASSIGNING FIELD-SYMBOL(&amp;lt;mapped_booksuppl&amp;gt;). 
IF &amp;lt;booksuppl_wo_numbers&amp;gt;-BookingSupplementId IS INITIAL. 
max_booking_suppl_id += 1 . 
&amp;lt;mapped_booksuppl&amp;gt;-BookingSupplementId = max_booking_suppl_id . 
ENDIF. 
ENDLOOP. 
ENDLOOP. 
ENDLOOP.
ENDMETHOD. &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;21.&amp;nbsp;&lt;SPAN&gt;Based on the booking fee&amp;nbsp; we need to calculate the total price&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;,&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;So we need to write the logic in calcTotal price&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;method&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;METHOD CalcTotalPrice. 

DATA : it_travel TYPE STANDARD TABLE OF zpd_dt_travel WITH UNIQUE HASHED KEY key COMPONENTS travel_id. 
it_travel = CORRESPONDING #( keys DISCARDING DUPLICATES MAPPING travel_id = TravelId ). 

MODIFY ENTITIES OF zi_travel_detail IN LOCAL MODE 
ENTITY zi_travel_detail 
EXECUTE RecalcTotalPrice 
FROM CORRESPONDING #( it_travel ). 

ENDMETHOD. &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;22. OUTPUT&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Pradeep555_1-1751356413745.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281056i9F607E3B71E7BBD6/image-size/large?v=v2&amp;amp;px=999" role="button" title="Pradeep555_1-1751356413745.png" alt="Pradeep555_1-1751356413745.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;23.&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Edit--&amp;gt; changing booking fee from 140 USD to 240&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;USD&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Pradeep555_3-1751356464751.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281061i80F49161DD120248/image-size/large?v=v2&amp;amp;px=999" role="button" title="Pradeep555_3-1751356464751.png" alt="Pradeep555_3-1751356464751.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Pradeep555_4-1751356486334.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281062iBFFF53176F80B0A8/image-size/large?v=v2&amp;amp;px=999" role="button" title="Pradeep555_4-1751356486334.png" alt="Pradeep555_4-1751356486334.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;24.&amp;nbsp; &amp;nbsp;&lt;SPAN&gt;Click on save&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;lt;&amp;lt; after saving , the total price is still the same ---&amp;gt; not updated at the screen level&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Pradeep555_5-1751356553915.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281066iE1EEC86B86A98E04/image-size/large?v=v2&amp;amp;px=999" role="button" title="Pradeep555_5-1751356553915.png" alt="Pradeep555_5-1751356553915.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;25.&amp;nbsp;&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;When we refresh the page—the total price gets updated&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Pradeep555_6-1751356589520.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281067iB2E6360B32F2DBFB/image-size/large?v=v2&amp;amp;px=999" role="button" title="Pradeep555_6-1751356589520.png" alt="Pradeep555_6-1751356589520.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;26.&amp;nbsp; N&lt;SPAN&gt;ow we need to use the side effects to make the data refreshed on save at screen level&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;, So n&lt;/SPAN&gt;&lt;SPAN&gt;ow it should not only be updated in the transactional buffer – it should&amp;nbsp; also be updated in the front end&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Pradeep555_7-1751356689309.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281068iF69F21F2160CCEBB/image-size/large?v=v2&amp;amp;px=999" role="button" title="Pradeep555_7-1751356689309.png" alt="Pradeep555_7-1751356689309.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;27.&amp;nbsp;&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Change the booking fee 258 USD&amp;nbsp; and click on save&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Pradeep555_8-1751356741975.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281069i705DAB1959677231/image-size/large?v=v2&amp;amp;px=999" role="button" title="Pradeep555_8-1751356741975.png" alt="Pradeep555_8-1751356741975.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;28.&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;As soon as you click on save&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Pradeep555_9-1751356776648.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281070i48252591EEDCAC73/image-size/large?v=v2&amp;amp;px=999" role="button" title="Pradeep555_9-1751356776648.png" alt="Pradeep555_9-1751356776648.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Thanks and regards&amp;nbsp;&lt;/P&gt;&lt;P&gt;-PRADEEP ISHWAR DEVADIGA&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/application-development-and-automation-blog-posts/side-effects-in-rap-explained-with-determination-example/ba-p/14140206"/>
    <published>2025-07-02T10:28:03.987000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/application-development-and-automation-blog-posts/determine-action-in-rap/ba-p/14140181</id>
    <title>Determine action in RAP</title>
    <updated>2025-07-02T10:28:17.775000+02:00</updated>
    <author>
      <name>Dadapeer</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1451098</uri>
    </author>
    <content>&lt;P&gt;&lt;SPAN&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Introduction&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;BR /&gt;&lt;BR /&gt;This blo&lt;/SPAN&gt;&lt;SPAN&gt;g provides a step-by-step guide on creating a Inventory&amp;nbsp;Management and archiving the &lt;/SPAN&gt;&lt;SPAN&gt;Determine action&lt;/SPAN&gt;&lt;SPAN&gt; u&lt;/SPAN&gt;&lt;SPAN&gt;sing RAP in a managed scenario.&lt;/SPAN&gt;&lt;SPAN&gt; In RAP, determinations and &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;validations&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; are typically executed &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;implicitly&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; during save operations.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In this blog, where I will calculate the &lt;/SPAN&gt;&lt;SPAN&gt;total value&lt;/SPAN&gt;&lt;SPAN&gt; in an &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Inventory&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; object &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;only after&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; the &lt;/SPAN&gt;&lt;SPAN&gt;lastchangeat&lt;/SPAN&gt;&lt;SPAN&gt; timestamp was set. We'll solve this challenge using a &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Determine Action.&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;Determine action &lt;/SPAN&gt;&lt;SPAN&gt;allows to execute Determination and validation &lt;STRONG&gt;on request&lt;/STRONG&gt;. Whenever a determine action is executed.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;U&gt;&lt;STRONG&gt;Scenario for Determine action:&amp;nbsp;&lt;/STRONG&gt;&lt;/U&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;When a user creates an Inventory entry with product details, the following must happen:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;A default RAP determination should calculate total_value&amp;nbsp; during create.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;The total_value should be calculated after the lastchangeat field is populated (which happens after the entity is saved).&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;To achieve this, a custom Determine Action should be used post-save to trigger the actual determination.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;U&gt;&lt;STRONG&gt;Procedure:&lt;/STRONG&gt;&lt;/U&gt;&lt;STRONG&gt;&amp;nbsp; &lt;/STRONG&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;C&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;reated one database table '&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;ZDP_inventory&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label : 'inventory table'
@AbapCatalog.enhancement.category : #NOT_EXTENSIBLE
@AbapCatalog.tableCategory : #TRANSPARENT
@AbapCatalog.deliveryClass : #A
@AbapCatalog.dataMaintenance : #RESTRICTED
define table zdp_inventory {

  key product_id : abap.int1 not null;
  product_name   : abap.char(50);
  quantity       : zdp_de_pdt_quantity;
  @Semantics.amount.currencyCode : 'zdp_inventory.currency_code'
  unit_price     : zdp_de_unit_price;
  currency_code  : abap.cuky;
  @Semantics.amount.currencyCode : 'zdp_inventory.currency_code'
  total_value    : abap.curr(13,2);
  last_change_at : timestampl;

}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Now we need to create &lt;/SPAN&gt;&lt;SPAN class=""&gt;an interface&lt;/SPAN&gt;&lt;SPAN class=""&gt; view on top of &lt;/SPAN&gt;&lt;SPAN class=""&gt;DB&lt;/SPAN&gt;&lt;SPAN class=""&gt; table.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE]
@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'interface entity view for inventory'
@Metadata.ignorePropagatedAnnotations: true
@ObjectModel.usageType:{
    serviceQuality: #X,
    sizeCategory: #S,
    dataClass: #MIXED
}
@Metadata.allowExtensions: true
define root view entity zdp_i_cds_inventory as 
select from zdp_inventory

{
    key product_id as ProductId,
    product_name as ProductName,
    quantity as Quantity,
    @Semantics.amount.currencyCode : 'currencycode'
    unit_price as UnitPrice,
    currency_code as CurrencyCode,
    @Semantics.amount.currencyCode : 'currencycode'
    total_value as totalvalue,
    @Semantics.systemDateTime.lastChangedAt: true
    last_change_at as lastchangeat
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Now we need to create a projection view on top of &lt;/SPAN&gt;&lt;SPAN class=""&gt;Interface&lt;/SPAN&gt;&lt;SPAN class=""&gt; view&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'projection view on inventory'
@Metadata.ignorePropagatedAnnotations: true
@Metadata.allowExtensions: true
define root view entity zdp_p_cds_inventory 
provider contract transactional_query 
as projection on zdp_i_cds_inventory
{
    key ProductId,
    ProductName,
    Quantity,
    @Semantics.amount.currencyCode : 'currencycode'
    UnitPrice,
    CurrencyCode,
    @Semantics.amount.currencyCode : 'currencycode'
    totalvalue,
    lastchangeat
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Now we need to create the behavior definition on top of &lt;/SPAN&gt;&lt;SPAN class=""&gt;interface&lt;/SPAN&gt;&lt;SPAN class=""&gt; view.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;managed implementation in class zbp_dp_i_cds_inventory unique;
strict ( 2 );

define behavior for zdp_i_cds_inventory //alias &amp;lt;alias_name&amp;gt;
persistent table zdp_inventory
lock master
authorization master ( none )

{
  create ;
  update ( authorization : none  );
  delete ;
  
  field ( readonly ) lastchangeat;
  action Trigger_detmine_action result[1] $self;

  determine action calc_total
    {
       determination ( always ) totalCalc;
      validation checkQuantity;
    }

  determination totalCalc
    on save
    { field lastchangeat; create; }

  validation checkQuantity
    on save
    { field Quantity; }

  mapping for zdp_inventory
  {
   ProductId = product_id;
   ProductName = product_name;
   Quantity = quantity;
   UnitPrice = unit_price;
   CurrencyCode = currency_code;
   totalvalue = total_value;
   lastchangeat = last_change_at;

  }
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;I&gt;&lt;SPAN&gt;Now create a behavior definition on top of consumption view:&lt;/SPAN&gt;&lt;/I&gt;&lt;SPAN&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Code of Behavior Definition of Projection:&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;projection;
strict ( 2 );

define behavior for zdp_p_cds_inventory //alias &amp;lt;alias_name&amp;gt;
{
  use create;
  use update;
  use delete;
  use action Trigger_detmine_action;
  use action calc_total;
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;To declare Determine action in Behavior Definition.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Dadapeer_0-1751279317704.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/280571iBF1985E2B7F6BC56/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Dadapeer_0-1751279317704.png" alt="Dadapeer_0-1751279317704.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;To trigger Determine action :&lt;BR /&gt;The determine action calc_total is executed with the statement&amp;nbsp;MODIFY ENTITIES&amp;nbsp;for entity instances.&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Dadapeer_0-1751278622761.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/280545i03B6D4EBDD9524D7/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Dadapeer_0-1751278622761.png" alt="Dadapeer_0-1751278622761.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Behavior implementation.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;CLASS lhc_zdp_i_cds_inventory DEFINITION INHERITING FROM cl_abap_behavior_handler.
  PRIVATE SECTION.

    METHODS checkquantity FOR VALIDATE ON SAVE
      IMPORTING keys FOR zdp_i_cds_inventory~checkquantity.
    METHODS trigger_detmine_action FOR MODIFY
      IMPORTING keys FOR ACTION zdp_i_cds_inventory~trigger_detmine_action RESULT result.
    METHODS totalcalc FOR DETERMINE ON SAVE
      IMPORTING keys FOR zdp_i_cds_inventory~totalcalc.

ENDCLASS.

CLASS lhc_zdp_i_cds_inventory IMPLEMENTATION.

  METHOD checkQuantity.
    READ ENTITIES OF zdp_i_cds_inventory IN LOCAL MODE
    ENTITY zdp_i_cds_inventory
    FIELDS ( quantity )
    WITH CORRESPONDING #( keys )
    RESULT DATA(lt_result_qua).

    DATA(ls_res_qua) = lt_result_qua[ 1 ].
    IF ls_res_qua-Quantity IS INITIAL.
      APPEND VALUE #( %tky = ls_res_qua-%tky
                    %msg = new_message_with_text(
                    severity = if_abap_behv_message=&amp;gt;severity-error
                    text = 'Please provide quantity'
                    ) ) TO reported-zdp_i_cds_inventory.
    ENDIF.

  ENDMETHOD.

  METHOD Trigger_detmine_action.
    READ ENTITIES OF zdp_i_cds_inventory IN LOCAL MODE
    ENTITY zdp_i_cds_inventory
    FIELDS ( ProductId )
    WITH CORRESPONDING #( keys )
    RESULT DATA(lt_result_prdt).


    LOOP AT lt_result_prdt INTO DATA(ls_result).
      MODIFY ENTITIES OF zdp_i_cds_inventory IN LOCAL MODE
           ENTITY zdp_i_cds_inventory
           EXECUTE calc_total
           FROM VALUE #( ( ProductId = ls_result-ProductId ) )

           MAPPED FINAL(lt_mapped)
           FAILED FINAL(lt_failed)
           REPORTED FINAL(lt_reported).
      mapped-zdp_i_cds_inventory = lt_mapped-zdp_i_cds_inventory.
*    COMMIT ENTITIES.
    ENDLOOP.
  ENDMETHOD.

  METHOD totalCalc.

    READ ENTITIES OF zdp_i_cds_inventory IN LOCAL MODE
    ENTITY zdp_i_cds_inventory
    FIELDS ( quantity  unitprice  )
    WITH CORRESPONDING #( keys )
    RESULT DATA(lt_result).



    LOOP AT keys ASSIGNING FIELD-SYMBOL(&amp;lt;fs_keys&amp;gt;).
      LOOP AT lt_result INTO DATA(ls_result).
        IF ls_result-%tky = &amp;lt;fs_keys&amp;gt;-%tky.
          ls_result-totalvalue = ls_result-quantity * ls_result-unitprice.

          MODIFY ENTITIES OF zdp_i_cds_inventory IN LOCAL MODE
          ENTITY zdp_i_cds_inventory
          UPDATE
          FIELDS ( totalvalue ) WITH VALUE #( ( %tky = &amp;lt;fs_keys&amp;gt;-%tky
                                                 totalvalue = ls_result-totalvalue ) ).
        ENDIF.
      ENDLOOP.
    ENDLOOP.
    .


  ENDMETHOD.

ENDCLASS.&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Output:&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Dadapeer_0-1751278237864.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/280537iADDD05FDEC70260D/image-size/large?v=v2&amp;amp;px=999" role="button" title="Dadapeer_0-1751278237864.png" alt="Dadapeer_0-1751278237864.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;W&lt;/SPAN&gt;&lt;SPAN class=""&gt;hen&lt;/SPAN&gt; &lt;SPAN class=""&gt;we click on &lt;/SPAN&gt;&lt;SPAN class=""&gt;the action&lt;/SPAN&gt;&lt;SPAN class=""&gt; button at that &lt;/SPAN&gt;&lt;SPAN class=""&gt;time,&lt;/SPAN&gt; &lt;SPAN class=""&gt;determine&lt;/SPAN&gt;&lt;SPAN class=""&gt; action will trigger &lt;/SPAN&gt;&lt;SPAN class=""&gt;the total&lt;/SPAN&gt;&lt;SPAN class=""&gt; value is calculated.&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;BR /&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Dadapeer_0-1751278084388.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/280535iB0BF099CB1C13EA3/image-size/large?v=v2&amp;amp;px=999" role="button" title="Dadapeer_0-1751278084388.png" alt="Dadapeer_0-1751278084388.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/application-development-and-automation-blog-posts/determine-action-in-rap/ba-p/14140181"/>
    <published>2025-07-02T10:28:17.775000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/use-of-convert-key-which-is-return-as-a-preliminary-key-pid-from-late/ba-p/14141942</id>
    <title>Use of CONVERT KEY , which is return as a preliminary key %pid from Late Numbering</title>
    <updated>2025-07-04T18:39:01.499000+02:00</updated>
    <author>
      <name>DDEBORSHI</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/156789</uri>
    </author>
    <content>&lt;P&gt;What is Covert Key ? – When we are using standard BDEF for our development, some time we can see standard BDEF using “Late Numbering” for creating preliminary key %pid.&lt;/P&gt;&lt;P&gt;For example, for PO Creation we use BDEF &amp;nbsp;I_PurchaseOrderTP_2 , for Purchase Contract BDEF is &amp;nbsp;I_PurchaseContractTP and for Service Entry Sheet BDEF r_serviceentrysheettp.&lt;/P&gt;&lt;P&gt;During CREATE operation using EML, in MAPPED parameter will only return a preliminary key %pid. Then to retrieve the final key in our application from this preliminary key we must use the&amp;nbsp;CONVERT KEY&amp;nbsp;key word.&lt;/P&gt;&lt;P&gt;This conversion will call in SAVE Sequence in SAVE_MODIFIED&amp;nbsp; method. And for this we need to use either Unmanaged Save or Additional Save.&lt;/P&gt;&lt;P&gt;Note:- &lt;EM&gt;If we want to save this convert key into the persistence of our own RAP business object, then we must use the unmanaged save approach&lt;/EM&gt;.&lt;/P&gt;&lt;P&gt;For Example, here I am using BDEF r_serviceentrysheettp.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;U&gt;Scenario 1&lt;/U&gt;&lt;/EM&gt;- When we are call EML inside our BDEF.&lt;/P&gt;&lt;P&gt;I have created an app where Service Entry Sheet will create when user click on Action Button.&lt;/P&gt;&lt;P&gt;I have used managed with unmanaged save implementation.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DDEBORSHI_0-1751387641421.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281464iE3B1BDA737E7FE8E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="DDEBORSHI_0-1751387641421.png" alt="DDEBORSHI_0-1751387641421.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;In Behavior Implementation class (Global Section) I have defined a variable that will hold the response of my API call.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DDEBORSHI_1-1751387711993.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281465i0B7113DBEA839C5E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="DDEBORSHI_1-1751387711993.png" alt="DDEBORSHI_1-1751387711993.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;In Action “createses” method&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DDEBORSHI_2-1751387765698.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281466iDA99C8FD16AB3716/image-size/medium?v=v2&amp;amp;px=400" role="button" title="DDEBORSHI_2-1751387765698.png" alt="DDEBORSHI_2-1751387765698.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Here in variable mapped_serviceentry_sheet &amp;nbsp;we will hold the response of our API call i.e. MAPPED data.&lt;/P&gt;&lt;P&gt;In debugging we can see the %PID value.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DDEBORSHI_3-1751387792200.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281467i117DEA0AFF401FE1/image-size/medium?v=v2&amp;amp;px=400" role="button" title="DDEBORSHI_3-1751387792200.png" alt="DDEBORSHI_3-1751387792200.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Here we can see EML is returning only preliminary key, that we need to convert in SAVE_MODIFIED method.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DDEBORSHI_4-1751387876195.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281468iD5A488149252C2BF/image-size/medium?v=v2&amp;amp;px=400" role="button" title="DDEBORSHI_4-1751387876195.png" alt="DDEBORSHI_4-1751387876195.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;In debugging -&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DDEBORSHI_5-1751387920372.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281469iDDAB8B6295DB015E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="DDEBORSHI_5-1751387920372.png" alt="DDEBORSHI_5-1751387920372.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Scenario&lt;/EM&gt; 2 – Call EML outside BDEF or normal class.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DDEBORSHI_6-1751388081653.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281470iA148AF2E6C259FE7/image-size/medium?v=v2&amp;amp;px=400" role="button" title="DDEBORSHI_6-1751388081653.png" alt="DDEBORSHI_6-1751388081653.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;In Debugging -&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DDEBORSHI_7-1751388119306.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281471i5D4E36828C7D0C5E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="DDEBORSHI_7-1751388119306.png" alt="DDEBORSHI_7-1751388119306.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Thanks&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/use-of-convert-key-which-is-return-as-a-preliminary-key-pid-from-late/ba-p/14141942"/>
    <published>2025-07-04T18:39:01.499000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/sap-community-leaders-finder/mio-yasutake/ba-p/14145883</id>
    <title>Mio Yasutake</title>
    <updated>2025-07-07T11:21:35.266000+02:00</updated>
    <author>
      <name>KatherineKenneally</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/328</uri>
    </author>
    <content>&lt;P&gt;&lt;A href="https://community.sap.com/t5/user/viewprofilepage/user-id/789" target="_blank"&gt;More about Mio Yasutake in SAP Community&lt;/A&gt;&lt;STRONG&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;/STRONG&gt;&lt;STRONG&gt;&lt;SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-left" image-alt="Mio Yasutake circular.png" style="width: 184px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/283410iC29FE38620C30E31/image-size/small?v=v2&amp;amp;px=200" role="button" title="Mio Yasutake circular.png" alt="Mio Yasutake circular.png" /&gt;&lt;/span&gt;&lt;BR /&gt;&lt;BR /&gt;First Name, Last Name:&amp;nbsp;&lt;/SPAN&gt;&lt;/STRONG&gt;Mio Yasutake&lt;STRONG&gt;&lt;SPAN&gt;&lt;BR /&gt;Location (City, Country): &lt;/SPAN&gt;&lt;/STRONG&gt;Yokohama, Japan&lt;STRONG&gt;&lt;SPAN&gt;&lt;BR /&gt;Occupation: &lt;/SPAN&gt;&lt;/STRONG&gt;Freelance technical consultant&lt;STRONG&gt;&lt;SPAN&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-left" image-alt="People_pictogram.png" style="width: 87px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/51216i6B6C3041A74CC074/image-dimensions/87x87?v=v2" width="87" height="87" role="button" title="People_pictogram.png" alt="People_pictogram.png" /&gt;&lt;/span&gt;&lt;STRONG&gt;&lt;BR /&gt;Mio, tell us about yourself.&lt;BR /&gt;Who are you, what do you like to do, what is important to you?&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;My name is Mio Yasutake. I live in Yokohama, Japan. I’ve been working as a freelance technical consultant for about seven years. I entered the SAP world right at the beginning of my career 15 years ago, as an ABAP developer.&lt;/P&gt;&lt;P&gt;I enjoy investigating things that I don’t know yet or want to know more about. I feel happy when I discover undocumented deployment steps or ways to connect with services — for example, &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-members/how-to-share-tables-across-different-cap-projects/ba-p/13497184" target="_blank"&gt;how to share tables across CAP projects&lt;/A&gt;. What’s important to me is investigating foundational aspects of application development that many developers are likely to need or struggle with, and sharing those findings with others.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-left" image-alt="Desktop_pictogram.png" style="width: 87px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/51217iF7FFD39907D24E76/image-dimensions/87x87?v=v2" width="87" height="87" role="button" title="Desktop_pictogram.png" alt="Desktop_pictogram.png" /&gt;&lt;/span&gt;&lt;STRONG&gt;&lt;BR /&gt;What is your area of expertise?&lt;BR /&gt;What does a usual day at work look like for you?&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;I am currently a member of a Center of Excellence team researching SAP S/4HANA and BTP technologies and supporting projects. My area of expertise is in Fiori elements, ABAP Restful Application Programming Model (RAP) and SAP Cloud Application Programming Model (CAP), but I also explore other technologies and services.&amp;nbsp;&lt;/P&gt;&lt;P&gt;In my daily work, I carry out technical research through hands-on experimentation. At the moment, I support two projects, where I share knowledge and help answer technical questions. I also regularly deliver S/4HANA and BTP development training courses for the engineers of my current client.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-left" image-alt="inspiration_pictogram.png" style="width: 87px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/51218i2605363EFF68DD34/image-dimensions/87x87?v=v2" width="87" height="87" role="button" title="inspiration_pictogram.png" alt="inspiration_pictogram.png" /&gt;&lt;/span&gt;&lt;STRONG&gt;&lt;BR /&gt;What inspired you to become an SAP Champion in SAP Community?&lt;BR /&gt;&lt;BR /&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;I never imagined becoming an SAP Champion, but I was honored to be nominated. When I looked at the &lt;A href="https://community.sap.com/t5/sap-community-leaders-finder/sap-champions/ba-p/13988156" target="_blank"&gt;SAP Champion page&lt;/A&gt;, I realized that Champions are recognized not necessarily for deep technical or product knowledge, but for their contribution to the SAP Community. I felt that some of my efforts aligned with that, so I gratefully accepted the opportunity.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-left" image-alt="bullet_list_pictogram.png" style="width: 87px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/51219i2905480F1FCC6AE2/image-dimensions/87x87?v=v2" width="87" height="87" role="button" title="bullet_list_pictogram.png" alt="bullet_list_pictogram.png" /&gt;&lt;/span&gt;&lt;STRONG&gt;&lt;BR /&gt;How do you learn in SAP Community?&lt;BR /&gt;&lt;/STRONG&gt;&lt;STRONG&gt;What is your daily/weekly routine in SAP Community?&lt;BR /&gt;&lt;BR /&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;I learn by reading blog posts and experimenting with technologies that catch my attention. Every morning, I check the titles of all blog posts published the previous day and read the ones that interest me. I share the most helpful blogs in Japanese on X (formerly Twitter). In the evening I browse the Q&amp;amp;A section for topics of my expertise and answer questions when I can.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-left" image-alt="circles_pictogram.png" style="width: 87px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/51220i73C820D745D17725/image-dimensions/87x87?v=v2" width="87" height="87" role="button" title="circles_pictogram.png" alt="circles_pictogram.png" /&gt;&lt;/span&gt;&lt;BR /&gt;&lt;STRONG&gt;What is your suggestion to get the most out of SAP Community?&lt;BR /&gt;&lt;BR /&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;When you publish a blog post, try to share not only what worked well but also what didn’t. It helps others who face similar challenges —and sometimes, others may even offer solutions or suggestions you hadn't thought of.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-left" image-alt="Arrow_pictogramm_new.png" style="width: 87px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/51221i1EA57128883E9979/image-dimensions/87x87?v=v2" width="87" height="87" role="button" title="Arrow_pictogramm_new.png" alt="Arrow_pictogramm_new.png" /&gt;&lt;/span&gt;&lt;STRONG&gt;Mio's question to you:&lt;BR /&gt;&lt;/STRONG&gt;&lt;STRONG&gt;What blog post or answer have you written that you're most proud of—and why?&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/sap-community-leaders-finder/mio-yasutake/ba-p/14145883"/>
    <published>2025-07-07T11:21:35.266000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/application-development-and-automation-blog-posts/designing-a-fiori-ready-cds-view-with-ui-facets-value-helps-and/ba-p/14147853</id>
    <title>Designing a Fiori-Ready CDS View with UI Facets, Value Helps, and Associations in RAP</title>
    <updated>2025-07-23T11:53:03.236000+02:00</updated>
    <author>
      <name>raghu_ps</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/150897</uri>
    </author>
    <content>&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Introduction&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;In this blog post, I will explain how to design a CDS view entity in ABAP RAP (RESTful ABAP Programming Model) that is well-suited for use with Fiori Elements. We'll use annotations such as ui&lt;FONT size="4"&gt;&lt;STRONG&gt;.&lt;/STRONG&gt;facet&lt;/FONT&gt;, Consumption.valueHelpDefinition, ObjectModel.association, and search.defaultSearchElement to enhance the user interface and behavior.&lt;/P&gt;&lt;P&gt;The example is based on a Flight Management scenario, where we create a CDS view to manage flight connections and set up associations to carrier and flight-related data.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Use Case&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;Display flight connection details as the header, along with the related flight entries as line items&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Provide value help functionality for airport-related fields&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Use associations to link the CDS view to related entities such as carrier and airport information&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Enable search capabilities and ensure the data is optimized for Fiori Elements&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;CDS View Entity Code&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;ZPS_FLIGHT_R - &lt;/SPAN&gt;&lt;SPAN&gt;Flight Information&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE] 
@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'Flight Information' 
@Metadata.ignorePropagatedAnnotations: true 
@ObjectModel.usageType:{ 
serviceQuality: #X, 
sizeCategory: #S, 
dataClass: #MIXED 
} 
@Search.searchable: true 
define view entity ZPS_FLIGHT_R 
as select from /dmo/flight 
association[1] to ZPS_CARRIER_R as _Airline on $projection.CarrierId = _Airline.CarrierId  
{ 
@UI.lineItem: [{ position: 10 }] 
@ObjectModel.text.association: '_Airline' 
key carrier_id as CarrierId, 
@UI.lineItem: [{ position: 20 }] 
key connection_id as ConnectionId, 
@UI.lineItem: [{ position: 30 }] 
key flight_date as FlightDate, 
@UI.lineItem: [{ position: 40 }] 
@Semantics.amount.currencyCode: 'CurrencyCode' 
price as Price, 
@UI.lineItem: [{ position: 50 }] 
currency_code as CurrencyCode, 
@UI.lineItem: [{ position: 60 }] 
@Search.defaultSearchElement: true 
plane_type_id as PlaneTypeId, 
@UI.lineItem: [{ position: 70 }] 
seats_max as SeatsMax, 
@UI.lineItem: [{ position: 80 }] 
seats_occupied as SeatsOccupied, 
_Airline 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;ZPS_CARRIER_R - &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Carrier detail&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE] 
@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'Carrier detail' 
@Metadata.ignorePropagatedAnnotations: true 
@ObjectModel.usageType:{ 
serviceQuality: #X, 
sizeCategory: #S, 
dataClass: #MIXED 
} 
@Search.searchable: true 
define view entity ZPS_CARRIER_R 
as select from /dmo/carrier 
{ 
key carrier_id as CarrierId, 
@Search.defaultSearchElement: true 
@Semantics.text: true 
@Search.fuzzinessThreshold: 0.8 
name as Name, 
currency_code as CurrencyCode 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;ZPS_AIRPORT_VH - &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Value help for airport&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE] 
@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'Value help for airport' 
@Metadata.ignorePropagatedAnnotations: true 
@ObjectModel.usageType:{ 
serviceQuality: #X, 
sizeCategory: #S, 
dataClass: #MIXED 
} 
@Search.searchable: true 
define view entity ZPS_AIRPORT_VH 
as select from /dmo/airport 
{ 
@Search.defaultSearchElement: true 
key airport_id as AirportId, 
@Search.defaultSearchElement: true 
@Search.fuzzinessThreshold: 0.7 
name as Name, 
@Search.defaultSearchElement: true 
@Search.fuzzinessThreshold: 0.7 
city as City, 
@Search.defaultSearchElement: true 
@Search.fuzzinessThreshold: 0.7 
country as Country 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;ZPS_CONNECTION_FLIGHT - &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Flight Reference&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.viewEnhancementCategory: [#NONE] 
@AccessControl.authorizationCheck: #NOT_REQUIRED 
@EndUserText.label: 'Flight Reference' 
@Metadata.ignorePropagatedAnnotations: true 
@ObjectModel.usageType:{ 
serviceQuality: #X, 
sizeCategory: #S, 
dataClass: #MIXED 
} 
@UI.headerInfo: { 
typeName: 'Connection', 
typeNamePlural: 'Connections' 
} 
@Search.searchable: true 
define view entity ZPS_CONNECTION_FLIGHT 
as select from /dmo/connection as connection 
association [1..*] to ZPS_FLIGHT_R as _flight on $projection.CarrierId = _flight.CarrierId 
and $projection.ConnectionId = _flight.ConnectionId 
association [1] to ZPS_CARRIER_R as _Airline on $projection.CarrierId = _Airline.CarrierId 
{ 
@UI.facet: [{ id: 'Connection', 
purpose: #STANDARD, 
type: #IDENTIFICATION_REFERENCE, 
position: 10, 
label: 'Connection Detail' }, 
{ id: 'Flight', 
purpose: #STANDARD, 
type: #LINEITEM_REFERENCE, 
position: 20, 
label: 'Flights', 
targetElement: '_flight' 
} 
] 
@UI.lineItem: [{position: 10, label: 'Airline' }] 
@UI.identification: [{ position: 10, label: 'Airline' }] 
@ObjectModel.text.association: '_Airline' 
@Search.defaultSearchElement: true 
key carrier_id as CarrierId, 
@UI.lineItem: [{position: 20 }] 
@UI.identification: [{ position: 20 }] 
@Search.defaultSearchElement: true 
key connection_id as ConnectionId, 
@UI.selectionField: [{ position: 10 }] 
@UI.lineItem: [{position: 30, label: 'Depature Airport Id' }] 
@UI.identification: [{ position: 30, label: 'Depature Airport Id' }] 
@Search.defaultSearchElement: true 
@Consumption.valueHelpDefinition: [{ entity:{ 
name: 'ZPS_AIRPORT_VH', 
element: 'AirportId'} }] 
airport_from_id as AirportFromId, 
@UI.selectionField: [{ position: 20 }] 
@UI.lineItem: [{position: 40 }] 
@UI.identification: [{ position: 40 }] 
@Search.defaultSearchElement: true 
@Consumption.valueHelpDefinition: [{ entity:{ 
name: 'ZPS_AIRPORT_VH', 
element: 'AirportId'} }] 
@EndUserText.label: 'Destination Airport ID' 
airport_to_id as AirportToId, 
@UI.lineItem: [{position: 50, label: 'Departure Time' }] 
@UI.identification: [{ position: 50 }] 
departure_time as DepartureTime, 
@UI.lineItem: [{position: 60, label: 'Arrival Time' }] 
@UI.identification: [{ position: 60 }] 
arrival_time as ArrivalTime, 
@Semantics.quantity.unitOfMeasure: 'DistanceUnit' 
@UI.identification: [{ position: 70 }] 
distance as Distance, 
distance_unit as DistanceUnit, 
//Association--&amp;gt; 
@Search.defaultSearchElement: true 
_flight, 
@Search.defaultSearchElement: true 
_Airline 

} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;Key Concepts Covered&lt;/P&gt;&lt;P&gt;Annotations&lt;BR /&gt;&lt;STRONG&gt;ui.facet&lt;/STRONG&gt; : Creates grouped sections in the Fiori Object Page&lt;BR /&gt;&lt;STRONG&gt;ui.lineItem&lt;/STRONG&gt; : Controls the display of fields in table lists&lt;BR /&gt;&lt;STRONG&gt;Consumption.valueHelpDefinit&lt;/STRONG&gt; : Enables F4 value help for fields&lt;BR /&gt;&lt;STRONG&gt;search.&lt;/STRONG&gt;defaultSearchElement : Makes the field available in the Fiori search bar&lt;BR /&gt;&lt;STRONG&gt;ObjectModel.text.association&lt;/STRONG&gt; : Provides text description for key fields&lt;BR /&gt;Association to entity Enables : navigation and linking to related entities&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;You’ll see:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;A header section labeled "Connection Detail" displaying the main connection information&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;A "Flights" section or tab, enabled through the _flight association, showing related flight entries as line items&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;F4 help (value help) activated for airport_from_id and airport_to_id fields using @Consumption.valueHelpDefinition&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;A search bar that allows filtering by fields such as Airline, Connection ID, Departure Airport, and Destination Airport&lt;/P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="raghu_ps_1-1752036262694.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/284351i865E5E45363C902D/image-size/large?v=v2&amp;amp;px=999" role="button" title="raghu_ps_1-1752036262694.png" alt="raghu_ps_1-1752036262694.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Departure airport value help&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="raghu_ps_2-1752036303518.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/284352iBD555FDD6A270FF1/image-size/large?v=v2&amp;amp;px=999" role="button" title="raghu_ps_2-1752036303518.png" alt="raghu_ps_2-1752036303518.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Line-item record&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="raghu_ps_3-1752036334100.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/284353iDC4F58C299C0314B/image-size/large?v=v2&amp;amp;px=999" role="button" title="raghu_ps_3-1752036334100.png" alt="raghu_ps_3-1752036334100.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Summary&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;This blog demonstrated how to build a Fiori-optimized CDS view using ABAP RAP, with the help of UI annotations, value helps, and text associations.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/application-development-and-automation-blog-posts/designing-a-fiori-ready-cds-view-with-ui-facets-value-helps-and/ba-p/14147853"/>
    <published>2025-07-23T11:53:03.236000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/exposing-sap-s4-onprem-data-to-external-system-odata-service-btp/ba-p/14151915</id>
    <title>Exposing SAP S4 Onprem data to external System || Odata Service || BTP || Destination-Connectivity</title>
    <updated>2025-07-24T09:09:11.979000+02:00</updated>
    <author>
      <name>Ace_D</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1501366</uri>
    </author>
    <content>&lt;H2 id="toc-hId-1735011379"&gt;&lt;STRONG&gt;Prerequisites from BTP Side&lt;/STRONG&gt;&lt;/H2&gt;&lt;OL&gt;&lt;LI&gt;&lt;STRONG&gt;SAP BTP Account&lt;/STRONG&gt;&lt;UL&gt;&lt;LI&gt;Access to SAP Business Technology Platform (BTP) with appropriate entitlements.&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;SAP Cloud Connector Setup&lt;/STRONG&gt;&lt;UL&gt;&lt;LI&gt;SAP Cloud Connector installed and configured to connect your on-premise S/4HANA system to SAP BTP.&lt;/LI&gt;&lt;LI&gt;Destination configured in BTP cockpit pointing to your on-premise system.&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Connectivity Service and Destination Service&lt;/STRONG&gt;&lt;UL&gt;&lt;LI&gt;SAP BTP Connectivity service and destination service instance on the BTP account.&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Cloud Foundry Environment&lt;/STRONG&gt;&lt;UL&gt;&lt;LI&gt;Cloud Foundry space set up in your BTP subaccount to deploy the application.&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&lt;STRONG&gt;Use Case:&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Lets take a simple use case for creating a RAP service on S4, which is a wrapper API call on the reprocess IDOC function module.&lt;/P&gt;&lt;P&gt;For this we will create a RAP service on the S4 box, than activate the service with the &lt;STRONG&gt;/IWFND/MAINT_SERVICE&amp;nbsp;&lt;/STRONG&gt;and activate the &lt;STRONG&gt;ICF Node as well.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Note: In this blog we will not go through the steps of setting cloud connector and destination on the BTP account. We will assume that destination with cloud connector setup is already available on the BTP.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 1: Create and activate the RAP service on the S4 Box.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;We will create a unmanaged rap scenario with custom entity and than we will create a service definition and top of service definition we will create service binding.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_0-1752479114889.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286063i6147300A58FD94EB/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_0-1752479114889.png" alt="Ace_D_0-1752479114889.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Lets create the class for the query implementation.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_1-1752479219667.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286066i8FE4DD17F2125A3B/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_1-1752479219667.png" alt="Ace_D_1-1752479219667.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;/DIV&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_3-1752479284513.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286068i7DF33D859E64B0B5/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_3-1752479284513.png" alt="Ace_D_3-1752479284513.png" /&gt;&lt;/span&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_4-1752479314425.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286069i1ADC607EAFF20853/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_4-1752479314425.png" alt="Ace_D_4-1752479314425.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;We are calling the FM to reprocess the idoc and checking the relevant table to get the latest reprocessed idoc status for the same.&lt;/P&gt;&lt;P&gt;Now we will create a service definition and service binding for the custom entity created.&lt;/P&gt;&lt;P&gt;Service Definition&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_8-1752479854976.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286073i72B0728E2CDB8D9C/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_8-1752479854976.png" alt="Ace_D_8-1752479854976.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;And overall project will look something like this.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_5-1752479511558.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286070iB8D8CB8704C75416/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_5-1752479511558.png" alt="Ace_D_5-1752479511558.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Here i have created two types of service bindings v2 and v4 but we will be using only v2 for this.&lt;/P&gt;&lt;P&gt;So overall we created below 4 artifacts.&lt;/P&gt;&lt;P&gt;1. Custom entity&lt;/P&gt;&lt;P&gt;2. Class&lt;/P&gt;&lt;P&gt;3. Service definition&lt;/P&gt;&lt;P&gt;4. Service binding&lt;/P&gt;&lt;P&gt;Now to test the service we will publish the service first and than call the generated url&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_7-1752479816432.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286072iDC562CE467DBAAA5/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_7-1752479816432.png" alt="Ace_D_7-1752479816432.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;if you see the image, i have published the service and after publish we also got the custom entity that we have created, click on the &lt;STRONG&gt;service url&lt;/STRONG&gt; and it will open in browser asking for authentication of S4 user id and password.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_9-1752480025822.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286074iD29880ABB4A5E44A/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_9-1752480025822.png" alt="Ace_D_9-1752480025822.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Once the authentication is successful you should be able to see this.&lt;/P&gt;&lt;P&gt;Now lets open the SAP GUI so that i can show you the ICF node activation, which is generally taken care by basis team.&lt;/P&gt;&lt;P&gt;Open the Tcode:&amp;nbsp;&lt;STRONG&gt;/IWFND/MAINT_SERVICE&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_10-1752480290098.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286075i2C11D72626448B10/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_10-1752480290098.png" alt="Ace_D_10-1752480290098.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Here you can find your activated service binding and make sure all components of the service looks as it is in the image.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Assuming cloud connector and destination is setup on BTP.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;With this we completed the S4 box setup, now its ready to communicate with other external systems.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 2: Creating the Destination service and Connectivity service on the BTP Account.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Login in to BTP account and lets create 2 service instances with service keys.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_11-1752483153170.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286097iDCC3A3321CE1ECB0/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_11-1752483153170.png" alt="Ace_D_11-1752483153170.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;1.&amp;nbsp;&lt;STRONG&gt;Destination service&lt;/STRONG&gt;, this will help us to get the destination details, Destination service gets all the registered destinations on the BTP, from which we can filter out the destination that is up for our S4 onprem box.&lt;/P&gt;&lt;P&gt;Destination service will give us all the relevant things like user id passwd, location and etc. for that destination.&lt;/P&gt;&lt;P&gt;Service key for the destination service&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_12-1752483270245.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286098iBE180D64FD0F615E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_12-1752483270245.png" alt="Ace_D_12-1752483270245.png" /&gt;&lt;/span&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_13-1752483330309.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286099i127A1F287FB75995/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_13-1752483330309.png" alt="Ace_D_13-1752483330309.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;2. &lt;STRONG&gt;Connectivity Service,&amp;nbsp;&lt;/STRONG&gt;Since we are trying to get the data out of onprem system we will have to use connectivity service from btp, which will provide us proxies, this proxies will be use to call the onprem odata url.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_14-1752483491742.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286106i3806395799EEF5CB/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_14-1752483491742.png" alt="Ace_D_14-1752483491742.png" /&gt;&lt;/span&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_15-1752483598535.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286107iCD11D07C5A492C3E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_15-1752483598535.png" alt="Ace_D_15-1752483598535.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;It is important to paste here the service keys for better understanding since we will be using many things from the service key into our application&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 3: Lets create a python application to call the onprem service.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Important things to consider here.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;By using destination and connectivity service we cannot test the application on local system, we will have to deploy our app on CF to test the same.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;We will use the flask requests and certain other libraries for the python programming&lt;/P&gt;&lt;P&gt;file: .env file to store all the secrets this secrets are from the service keys only.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_2-1752492372749.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286202iF6300349E7896528/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_2-1752492372749.png" alt="Ace_D_2-1752492372749.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;File: Requirements.txt&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_0-1752492015085.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286200i27F53BD3C09B09AE/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_0-1752492015085.png" alt="Ace_D_0-1752492015085.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;File: Runtime.txt&lt;/P&gt;&lt;P&gt;python-3.11.*&lt;/P&gt;&lt;P&gt;file: manifest.yaml&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_1-1752492157202.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286201iA56CB734CFA3967C/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_1-1752492157202.png" alt="Ace_D_1-1752492157202.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;file:idocapis.py (should be same as mentioned in Manifest.yml file&lt;/P&gt;&lt;P&gt;Load all the required libraries.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_3-1752492555784.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286203iEB454EAAAAA7E66C/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_3-1752492555784.png" alt="Ace_D_3-1752492555784.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;define the function to get the token&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_4-1752493129840.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286204i152BA582C8BA1F8B/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_4-1752493129840.png" alt="Ace_D_4-1752493129840.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Define function to get the list of all destinations on the BTP&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_5-1752493241781.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286205iA640B84C01B00E5E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_5-1752493241781.png" alt="Ace_D_5-1752493241781.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Define the function to construct the URL for the odata call&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_6-1752493319173.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286206i83806D03EC8AE6C7/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_6-1752493319173.png" alt="Ace_D_6-1752493319173.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Define function to get token for the connectivity service&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_7-1752493411094.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286213i4C439E0B0047EB4E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_7-1752493411094.png" alt="Ace_D_7-1752493411094.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Define function to call the odata service with connectivity things&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_8-1752493551879.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286242iDE3AED9EE0D95C35/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_8-1752493551879.png" alt="Ace_D_8-1752493551879.png" /&gt;&lt;/span&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_9-1752493573946.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286243i670226B5E2674B07/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_9-1752493573946.png" alt="Ace_D_9-1752493573946.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Now lets define the final route in flask to call this service&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_13-1752494450583.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286281i0C7C7F657EECF5CA/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_13-1752494450583.png" alt="Ace_D_13-1752494450583.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;One thing to note here the&amp;nbsp;&lt;STRONG&gt;RESOURCE variable will depend on the destination url of the onprem that is setup on BTP.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_11-1752494105816.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286279i7A1D0EA83E29C50A/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_11-1752494105816.png" alt="Ace_D_11-1752494105816.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_12-1752494133009.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286280iBAC4EB399CB3AEFD/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_12-1752494133009.png" alt="Ace_D_12-1752494133009.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;STEP 4: Deployment&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Lets deploy the app on the CF by pushing the app to the cloud foundry from the BAS&lt;/P&gt;&lt;P&gt;Use command &lt;STRONG&gt;cf push&lt;/STRONG&gt; after successful authentication for your cloud foundry space.&lt;/P&gt;&lt;P&gt;After the deployment on the cloud we can get the url that is generated on the cloud.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_14-1752495094785.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286283iF188D4ACAB2AC66A/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_14-1752495094785.png" alt="Ace_D_14-1752495094785.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Testing the application:&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Lets create a small python program to call this API in local now to test it.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Ace_D_15-1752495325813.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286284iA1C1678704489B7A/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Ace_D_15-1752495325813.png" alt="Ace_D_15-1752495325813.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;You should get response coming from your S4 onPrem system.&lt;/P&gt;&lt;P&gt;Thanks for staying till the end!!!&lt;span class="lia-unicode-emoji" title=":smiling_face_with_smiling_eyes:"&gt;😊&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/exposing-sap-s4-onprem-data-to-external-system-odata-service-btp/ba-p/14151915"/>
    <published>2025-07-24T09:09:11.979000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/a-step-by-step-guide-to-implementing-an-excel-upload-button-in-a-fiori-app/ba-p/14156420</id>
    <title>A Step-by-Step Guide to Implementing an Excel Upload Button in a Fiori App using RAP</title>
    <updated>2025-07-24T09:18:19.224000+02:00</updated>
    <author>
      <name>KPShekhar</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1617455</uri>
    </author>
    <content>&lt;H2 id="toc-hId-1735155555"&gt;&lt;STRONG&gt;Live Demo&lt;/STRONG&gt;&lt;/H2&gt;&lt;P class=""&gt;Here is a short video demonstrating the final Excel upload functionality in action.&lt;/P&gt;&lt;P class=""&gt;&lt;div class="video-embed-center video-embed"&gt;&lt;iframe class="embedly-embed" src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FcFcxJPgTAa8%3Ffeature%3Doembed&amp;amp;display_name=YouTube&amp;amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DcFcxJPgTAa8&amp;amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FcFcxJPgTAa8%2Fhqdefault.jpg&amp;amp;type=text%2Fhtml&amp;amp;schema=youtube" width="400" height="225" scrolling="no" title="Excel Upload Button in SAP RAP Fiori Application Demo Run" frameborder="0" allow="autoplay; fullscreen; encrypted-media; picture-in-picture;" allowfullscreen="true"&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;For this demonstration, I've built a simple RAP application with a V4 UI. The application features an "Employee" table with three fields. The base of the application was created using the RAP generator, and I've also included early numbering logic for the&amp;nbsp;&lt;/SPAN&gt;Employee ID.&lt;/P&gt;&lt;H2 id="toc-hId-1538642050"&gt;&lt;STRONG&gt;Step 1: Create a Fiori Project&lt;/STRONG&gt;&lt;/H2&gt;&lt;P class=""&gt;To begin, create a new SAP Fiori project using the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;List Report&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;template. This will serve as the foundation for our application.&lt;/P&gt;&lt;H2 id="toc-hId-1342128545"&gt;&lt;STRONG&gt;Step 2: Add a Custom Button&lt;/STRONG&gt;&lt;/H2&gt;&lt;P class=""&gt;With the project set up, the next step is to add a custom button. You can do this by using the open guided development feature. From there, choose the option to&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;Add a Custom Action to a Page Using Extensions&lt;/STRONG&gt;. Follow the prompts in the guide to insert the necessary code snippets for the "Excel Upload" button.&lt;/P&gt;&lt;P class=""&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Screenshot 2025-07-18 at 12.33.43 PM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/288514i7A9DB78C413A5FF8/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-07-18 at 12.33.43 PM.png" alt="Screenshot 2025-07-18 at 12.33.43 PM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Screenshot 2025-07-18 at 12.36.47 PM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/288515i92DDB5C0BBCE2331/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-07-18 at 12.36.47 PM.png" alt="Screenshot 2025-07-18 at 12.36.47 PM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P class=""&gt;or&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-1145615040"&gt;&lt;STRONG&gt;Step 2: Configure the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;manifest.json&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;File&lt;/STRONG&gt;&lt;/H2&gt;&lt;P class=""&gt;The&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;manifest.json&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;file is the application descriptor, defining its structure, data sources, and routing. To add the "Excel Upload" button, you need to modify this file to define a custom action and extend the standard List Report controller with our custom logic&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P class=""&gt;You can either use the "Add a Custom Action to a Page Using Extensions" option in the guided development tool or update the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;manifest.json&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;file directly with the following configuration&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;Pay close attention to the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;controlConfiguration&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;and&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;extends&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;sections, which are key to enabling this functionality.&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;{
  "_version": "1.53.0",
  "sap.app": {
    "id": "uploadempexcel",
    "type": "application",
    "i18n": "i18n/i18n.properties",
    "applicationVersion": {
      "version": "0.0.1"
    },
    "title": "{{appTitle}}",
    "description": "{{appDescription}}",
    "resources": "resources.json",
    "sourceTemplate": {
      "id": "@sap/generator-fiori:lrop",
      "version": "1.18.2",
      "toolsId": "f8a70d19-c3d7-40bf-9b4b-03ba34f86143"
    },
    "dataSources": {
      "mainService": {
        "uri": "/sap/opu/odata4/sap/zui_upload_emp_o4/srvd/sap/zui_upload_emp_o4/0001/",
        "type": "OData",
        "settings": {
          "annotations": ["annotation"],
          "localUri": "localService/mainService/metadata.xml",
          "odataVersion": "4.0"
        }
      }
    }
  },
  "sap.ui5": {
    "flexEnabled": true,
    "dependencies": {
      "minUI5Version": "1.114.9",
      "libs": {
        "sap.m": {},
        "sap.ui.core": {},
        "sap.fe.templates": {}
      }
    },
    "routing": {
      "routes": [
        {
          "pattern": ":?query:",
          "name": "ZC_UPLOAD_EMPList",
          "target": "ZC_UPLOAD_EMPList"
        }
      ],
      "targets": {
        "ZC_UPLOAD_EMPList": {
          "type": "Component",
          "id": "ZC_UPLOAD_EMPList",
          "name": "sap.fe.templates.ListReport",
          "options": {
            "settings": {
              "contextPath": "/ZC_UPLOAD_EMP",
              "controlConfiguration": {
                "@com.sap.vocabularies.UI.v1.LineItem": {
                  "actions": {
                    "uploadExcelController.controller": {
                      "press": ".extension.uploadempexcel.ext.controller.uploadExcelController.uploadExcel",
                      "visible": true,
                      "enabled": true,
                      "requiresSelection": false,
                      "text": "Upload Excel"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "extends": {
      "extensions": {
        "sap.ui.controllerExtensions": {
          "sap.fe.templates.ListReport.ListReportController": {
            "controllerName": "uploadempexcel.ext.controller.uploadExcelController"
          }
        }
      }
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-949101535"&gt;&lt;STRONG&gt;Step 3: Create a Fragment for the Pop-up Screen&lt;/STRONG&gt;&lt;/H2&gt;&lt;P class=""&gt;You'll need to create a fragment in the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;ext&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;folder. This fragment will define the pop-up screen that appears when a user clicks the "Excel Upload" button.&lt;/P&gt;&lt;P class=""&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Screenshot 2025-07-18 at 12.43.56 PM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/288516i792D93DDC3EE4AF3/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-07-18 at 12.43.56 PM.png" alt="Screenshot 2025-07-18 at 12.43.56 PM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:upload="sap.m.upload"&amp;gt;
    &amp;lt;Dialog id="uploadDialogSet" title="Excel Upload"&amp;gt;
        &amp;lt;content&amp;gt;
            &amp;lt;upload:UploadSet
                id="uploadSet"
                maxFileNameLength="200"
                fileTypes="xlsx, xls"
                afterItemAdded=".onAfterItemAdded"
                afterItemRemoved=".onAfterItemRemoved"
                uploadEnabled="true"
                /&amp;gt;
        &amp;lt;/content&amp;gt;
        &amp;lt;!-- CORRECTED: Changed from &amp;lt;buttons&amp;gt; to &amp;lt;beginButton&amp;gt; and &amp;lt;endButton&amp;gt; --&amp;gt;
        &amp;lt;beginButton&amp;gt;
            &amp;lt;Button id="idUploadB" text="Upload" press=".onUploadPress" type="Emphasized" enabled="false"/&amp;gt;
        &amp;lt;/beginButton&amp;gt;
        &amp;lt;endButton&amp;gt;
            &amp;lt;Button id="idCancelB" text="Cancel" press=".onCloseDialog" /&amp;gt;
        &amp;lt;/endButton&amp;gt;
    &amp;lt;/Dialog&amp;gt;
&amp;lt;/core:FragmentDefinition&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-752588030"&gt;&lt;STRONG&gt;Step 4: Implement the Controller Logic&lt;/STRONG&gt;&lt;/H2&gt;&lt;P class=""&gt;The main logic for handling the file upload is contained within the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;uploadExcelController.controller.js&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;file. You can adapt the code below for your own application. Make sure to adjust the file name and payload column names to fit your specific needs.&lt;/P&gt;&lt;pre class="lia-code-sample language-javascript"&gt;&lt;code&gt;sap.ui.define(
  [
    "sap/ui/core/mvc/ControllerExtension",
    "sap/m/MessageToast",
    "sap/ui/core/Fragment",
    "xlsx",
  ],
  function (ControllerExtension, MessageToast, Fragment, XLSX) {
    "use-strict";

    return ControllerExtension.extend(
      "uploadempexcel.ext.controller.uploadExcelController",
      {
        _pDialog: null,
        _file: null,

        uploadExcel: function () {
          if (!this._pDialog) {
            this._pDialog = Fragment.load({
              id: this.base.getView().getId(),
              name: "uploadempexcel.ext.fragment.uploadExcelFragment",
              controller: this,
            }).then(
              function (oDialog) {
                this.base.getView().addDependent(oDialog);
                return oDialog;
              }.bind(this)
            );
          }

          this._pDialog.then(
            function (oDialog) {
              oDialog.open();
              oDialog.getContent()[0].removeAllItems();
              this._file = null;
              var oUploadButton = oDialog.getBeginButton();
              if (oUploadButton) {
                oUploadButton.setEnabled(false);
              }
            }.bind(this)
          );
        },

        onCloseDialog: function () {
          this._pDialog.then(function (oDialog) {
            oDialog.close();
          });
        },

        onAfterItemAdded: function (oEvent) {
          this._file = oEvent.getParameter("item").getFileObject();
          if (this._file) {
            MessageToast.show(
              "File '" + this._file.name + "' is ready for upload."
            );
          }
          this._pDialog.then(
            function (oDialog) {
              var oUploadButton = oDialog.getBeginButton();
              if (oUploadButton) {
                oUploadButton.setEnabled(!!this._file);
              }
            }.bind(this)
          );
        },

        onAfterItemRemoved: function (oEvent) {
          this._file = null;
          this._pDialog.then(function (oDialog) {
            var oUploadButton = oDialog.getBeginButton();
            if (oUploadButton) {
              oUploadButton.setEnabled(false);
            }
          });
          MessageToast.show("File removed.");
        },

        onUploadPress: function () {
          if (!this._file) {
            MessageToast.show("Please select a file first.");
            return;
          }

          var oReader = new FileReader();
          oReader.onload = function (e) {
            try {
              var data = e.target.result;
              var workbook = XLSX.read(data, { type: "buffer" });
              var sheetName = workbook.SheetNames[0];
              var excelData = XLSX.utils.sheet_to_row_object_array(
                workbook.Sheets[sheetName]
              );

              if (excelData.length &amp;gt; 0) {
                this._callOdataService(excelData);
              } else {
                MessageToast.show("No data found in the Excel file.");
              }
            } catch (error) {
              MessageToast.show("Error reading Excel file: " + error.message);
            }
          }.bind(this);

          oReader.readAsArrayBuffer(this._file);
        },

        _callOdataService: function (excelData) {
          try {
            // --- START: FINAL CORRECTED CODE ---
            // Get the main OData V4 model from the view.
            var oModel = this.base.getView().getModel();

            // Create a ListBinding directly for the entity set of the List Report.
            // The path MUST match the 'contextPath' in your manifest.json for the List Report target.
            var oListBinding = oModel.bindList("/ZC_UPLOAD_EMP");
            // --- END: FINAL CORRECTED CODE ---

            if (!oListBinding) {
              // This error is now highly unlikely to occur.
              throw new Error(
                "Could not create a ListBinding for the path /ZC_UPLOAD_EMP."
              );
            }

            excelData.forEach(function (rowData) {
              // IMPORTANT: Make sure your Excel column headers match exactly
              var oPayload = {
                //EmpID: rowData.EmployeeID.toString(), auto generated by Early Numbering in RAP Application
                Empname: rowData.EmployeeName.toString(),
                Contact: rowData.Contact.toString(),
              };
              // The create operation is performed on the ListBinding instance.
              oListBinding.create(oPayload);
            });

            MessageToast.show("Uploading " + excelData.length + " records...");

            // The model holds the batch queue, so we submit the changes on the model.
            oModel
              .submitBatch("$auto")
              .then(
                function () {
                  MessageToast.show("Data uploaded successfully.");
                  this.base.getExtensionAPI().refresh(); // Refresh the table to show new data
                  this.onCloseDialog();
                }.bind(this)
              )
              .catch(function (oError) {
                MessageToast.show("Error during upload: " + oError.message);
              });
          } catch (error) {
            MessageToast.show("Error processing data: " + error.message);
          }
        },
      }
    );
  }
);&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-556074525"&gt;&lt;STRONG&gt;Dependencies&lt;/STRONG&gt;&lt;/H2&gt;&lt;P class=""&gt;Before you can run the application, you'll need to install the necessary dependencies. You can do this by running the following commands in your terminal.&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;npm i ui5-tooling-modules
npm i xlsx&lt;/code&gt;&lt;/pre&gt;&lt;P class=""&gt;&lt;SPAN&gt;We also need to update your&amp;nbsp;&lt;/SPAN&gt;ui5.yaml&lt;SPAN&gt;&amp;nbsp;file by adding the following custom tasks.&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-yaml"&gt;&lt;code&gt;builder:
customTasks:
- name: ui5-tooling-modules-task
afterTask: replaceVersion
- name: ui5-tooling-modules-middleware
afterMiddleware: compression&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-359561020"&gt;&lt;STRONG&gt;Conclusion&lt;/STRONG&gt;&lt;/H2&gt;&lt;P class=""&gt;By following these steps, you can add a fully functional Excel upload feature to your SAP Fiori application. This enhancement provides a more convenient way for users to handle bulk data uploads, ultimately improving the user experience. I have also prepared a demo Excel file with sample data that you can use for testing purposes.&lt;/P&gt;&lt;P class=""&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P class=""&gt;&amp;nbsp;&lt;/P&gt;&lt;P class=""&gt;&amp;nbsp;&lt;/P&gt;&lt;P class=""&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/a-step-by-step-guide-to-implementing-an-excel-upload-button-in-a-fiori-app/ba-p/14156420"/>
    <published>2025-07-24T09:18:19.224000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/event-driven-architecture-creating-fullstate-events-in-sap-s-4hana-for-sap/ba-p/14153666</id>
    <title>Event-driven Architecture:  Creating Fullstate Events in SAP S/4HANA for SAP EMIS</title>
    <updated>2025-07-31T12:41:30.451000+02:00</updated>
    <author>
      <name>vanessadayanc</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/126506</uri>
    </author>
    <content>&lt;P&gt;&lt;SPAN&gt;In modern SAP S/4HANA landscapes, Event-driven architecture (EDA) enables decoupled, and scalable integrations across systems. SAP business events are often represented as &lt;STRONG&gt;n&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;otification events&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; especially in context master data events, such as&amp;nbsp; business partner creation or changes. Notification events merely signal that something happened (e.g., "Business Partner Created"), where as &lt;STRONG&gt;f&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;ull state events&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; deliver the &lt;/SPAN&gt;&lt;I&gt;&lt;SPAN&gt;complete state of business object &lt;/SPAN&gt;&lt;/I&gt;&lt;SPAN&gt;in real time.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Key Benefits of Full State Events:&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Decoupled Consumers&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;: No need for consumers to call back to S/4HANA — all relevant data is included in the event.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Higher Resilience&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;: Event consumers remain functional even if source systems are temporarily unavailable.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Faster Integration&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;: Downstream applications and services can act immediatly, without additional round trips.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;Simplified Architectures&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;: Reduces dependency on S/4HANA APIs, lowering system coupling and load.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;Full state events are a powerful enabler for real-time, loosely coupled digital processes — especially in complex, hybrid SAP environments. However, since f&lt;/SPAN&gt;&lt;SPAN&gt;ull state events are not available for many business objects in SAP S/4HANA feature scope, this blog series outlines some approaches to fullfill the requirements of a specific event-driven use case in context of business partner events:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;SPAN&gt;Blog Series (1/3): Event-driven Architecture: Creating Fullstate Events in SAP S/4HANA for SAP Event Mesh on Integration Suite (EMIS) – Intro &amp;amp; SAP Standard Business Events&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Blog Series (2/3): Event-driven Architecture: Creating Fullstate Events in SAP S/4HANA for SAP Event Mesh on Integration Suite (EMIS) - RAP Edition&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Blog Series (3/3): Event-driven Architecture: Creating Fullstate Events in SAP S/4HANA for SAP Event Mesh on Integration Suite (EMIS) - Event-enablement Addon Edition &lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;H3 id="toc-hId-1864150953"&gt;&lt;STRONG&gt;&lt;SPAN&gt;Intro&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/H3&gt;&lt;P&gt;&lt;SPAN&gt;Event-driven architecture (EDA) is a software architecture paradigm in which system components interact through the production, detection, and consumption of events. Instead of relying on a synchronous request/response model, EDA uses asynchronous communication, enabling components to react to state changes or occurrences in real time. This approach increas flexibility, scalability, and responsiveness, particularly in complex, distributed systems. In the context of SAP S/4HANA this paradigm shift is reflected in concept of so called “business events”.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;An overview of released business events, for example&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;for the SAP S/4HANA Private Cloud, can be found in the&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;A class="" href="https://api.sap.com/products/SAPS4HANACloudPrivateEdition/events/events" target="_blank" rel="noreferrer noopener"&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;SAP Business Accelorator Hub.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/A&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Example: If you want to be notified about the creation or modification of business partner master data, you can use the SAP business event for business partners.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="vanessadayanc_0-1752651776823.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/287152i146D264070AF4D32/image-size/medium?v=v2&amp;amp;px=400" role="button" title="vanessadayanc_0-1752651776823.png" alt="vanessadayanc_0-1752651776823.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Many of SAP &lt;/SPAN&gt;&lt;SPAN class=""&gt;standard&lt;/SPAN&gt; &lt;SPAN class=""&gt;business&lt;/SPAN&gt; &lt;SPAN class=""&gt;events&lt;/SPAN&gt; &lt;SPAN class=""&gt;are&lt;/SPAN&gt;&amp;nbsp;n&lt;SPAN class=""&gt;otification&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;events. &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;No&lt;/SPAN&gt;&lt;SPAN class=""&gt;tification events i&lt;/SPAN&gt;&lt;SPAN class=""&gt;nform s&lt;/SPAN&gt;&lt;SPAN class=""&gt;ubscribers about the occurrence of an event, triggering actions or workflows without providing detailed context. They typically&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;c&lt;/SPAN&gt;&lt;SPAN class=""&gt;ontain&lt;/SPAN&gt;&lt;SPAN class=""&gt; minimal informations, like an event ID or type, sufficient for consumers to decide whether further data retrieval is necessary. &lt;/SPAN&gt;&lt;SPAN class=""&gt;In case of our business partner e&lt;/SPAN&gt;&lt;SPAN class=""&gt;xample,&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;only includes&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;the &lt;/SPAN&gt;&lt;SPAN class=""&gt;Busin&lt;/SPAN&gt;&lt;SPAN class=""&gt;e&lt;/SPAN&gt;&lt;SPAN class=""&gt;ssPartner&lt;/SPAN&gt;&lt;SPAN class=""&gt; ID. Additionally SAP standard events&lt;/SPAN&gt; &lt;SPAN class=""&gt;can’&lt;/SPAN&gt;&lt;SPAN class=""&gt;t&lt;/SPAN&gt;&lt;SPAN class=""&gt; be &lt;/SPAN&gt;&lt;SPAN class=""&gt;filter&lt;/SPAN&gt;&lt;SPAN class=""&gt;e&lt;/SPAN&gt;&lt;SPAN class=""&gt;d&lt;/SPAN&gt;&lt;SPAN class=""&gt; in SAP S/4HANA&lt;/SPAN&gt;&amp;nbsp;out of the box, meaning s&lt;SPAN class=""&gt;ubscribers receive notifications for all creation or change events of every business partner even if only a dedicated type or group is relevant for them.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;Depending on the specific use case, it is advisable to evaluate whether notification events or full state events are more suitable. A comparison can be found below.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;TABLE width="693px"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Criterion&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Notification Event&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Full State Event&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Definition&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;SPAN&gt;Announces that &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN&gt;something happened&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;with&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; minor &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;context&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;information&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Announces&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;that&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;something&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;happened&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;and&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;i&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;ncludes&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt; &lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;entire&lt;/SPAN&gt; &lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;current&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;state&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN class=""&gt; &lt;SPAN class=""&gt;of&lt;/SPAN&gt;&lt;SPAN class=""&gt; an &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;business&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;object&lt;/SPAN&gt;&lt;SPAN class=""&gt; &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Content&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Minimal &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;info&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; (e.g., &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;event&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; type, &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;object&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; ID)&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Full&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;object&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;payload&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;/STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;of&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt; &lt;SPAN class=""&gt;affected&lt;/SPAN&gt; &lt;SPAN class=""&gt;entity&lt;/SPAN&gt;&lt;SPAN class=""&gt; (e.g., &lt;/SPAN&gt;&lt;SPAN class=""&gt;full&lt;/SPAN&gt; &lt;SPAN class=""&gt;business&lt;/SPAN&gt; &lt;SPAN class=""&gt;partner&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;u&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;pdated)&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Typical Example&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;BusinessPartner.Created.v&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;1 (&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;only&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;partner&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; ID)&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;BusinessPartner.Updated.v&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;1 &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;(&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;full&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;object&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;payload&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;)&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Use Case&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;For&lt;/SPAN&gt; &lt;SPAN class=""&gt;triggering&lt;/SPAN&gt; &lt;SPAN class=""&gt;workflows&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;, &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;alerts&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;, &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;initiates&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; follow-&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;up&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; API &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;calls&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt; &lt;SPAN class=""&gt;or&lt;/SPAN&gt;&lt;SPAN class=""&gt; simple &lt;/SPAN&gt;&lt;SPAN class=""&gt;notifications&lt;/SPAN&gt;&lt;SPAN class=""&gt; &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;For&lt;/SPAN&gt; &lt;SPAN class=""&gt;replication&lt;/SPAN&gt;&lt;SPAN class=""&gt;, &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;synchronization&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;, &lt;/SPAN&gt;&lt;SPAN class=""&gt;or&lt;/SPAN&gt; &lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;direct&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;downstream&lt;/SPAN&gt; &lt;SPAN class=""&gt;processing&lt;/SPAN&gt;&lt;SPAN class=""&gt; &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Data Dependency&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Requires&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;consumers&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;fetch&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; additional &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;data&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/STRONG&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;from&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;producer&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Self-&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;contained&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; — &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;no&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;need&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;for&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; follow-&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;up&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; API &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;calls&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Coupling&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Tightly coupled&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; – consumers&amp;nbsp;de&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;pend&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; on &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;producer&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; APIs&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Loosely coupled&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; – events are self-contained&lt;/SPAN&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;, &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;no&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;need&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;for&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; follow-&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;up&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; API &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;calls&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Failure Tolerance&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;SPAN&gt;Lower – &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;if&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;producer&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;is&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; down, &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;data&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;retrieval&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;may&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; fail&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;SPAN&gt;Higher –&amp;nbsp;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;consumers&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;can&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;act&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;without&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;producer&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;availability&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Payload Size&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;SPAN&gt;Small&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;SPAN&gt;Larger&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Producer Complexity&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;SPAN&gt;Low – &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;only&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;basic&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;metadata&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;required&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;SPAN&gt;Higher – &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;must&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;serialize&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; and &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;include&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;full&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;object&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;state&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139.858px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Example Payload&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="260.668px"&gt;&lt;P&gt;&lt;SPAN&gt;{ "event": "BusinessPartnerCreated", "partnerId": "BP12345" }&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="291.562px"&gt;&lt;P&gt;&lt;SPAN&gt;{ "event": "BusinessPartnerUpdated", "partner": { ...full partner data... } &lt;/SPAN&gt;&lt;SPAN&gt;}&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="vanessadayanc_0-1753097963462.png" style="width: 621px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/289310i2B29551E66A0EE15/image-dimensions/621x210?v=v2" width="621" height="210" role="button" title="vanessadayanc_0-1753097963462.png" alt="vanessadayanc_0-1753097963462.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Check: &lt;A href="https://learning.sap.com/learning-journeys/discovering-event-driven-integration-with-sap-integration-suite-advanced-event-mesh/presenting-event-sources_e4194f4f-a986-418d-9c3b-ee71bb4ed101" target="_self" rel="noopener noreferrer"&gt;Presenting Event Sources&lt;/A&gt;&lt;/P&gt;&lt;H4 id="toc-hId-1796720167"&gt;&lt;SPAN&gt;The Use Case&lt;/SPAN&gt;&lt;/H4&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;The use case aims &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;enable&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; automatic validation of&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;SPAN class=""&gt; country-&lt;/SPAN&gt;&lt;SPAN class=""&gt;specific&lt;/SPAN&gt;&lt;SPAN class=""&gt; VAT &lt;/SPAN&gt;&lt;SPAN class=""&gt;number&lt;/SPAN&gt; &lt;SPAN class=""&gt;for&lt;/SPAN&gt;&amp;nbsp;b&lt;SPAN class=""&gt;usiness partners&lt;/SPAN&gt; &lt;SPAN class=""&gt;with&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt; &lt;SPAN class=""&gt;country&lt;/SPAN&gt;&lt;SPAN class=""&gt; code 'CH'. Whenever a b&lt;/SPAN&gt;&lt;SPAN class=""&gt;usiness&lt;/SPAN&gt;&amp;nbsp;p&lt;SPAN class=""&gt;artner&lt;/SPAN&gt;&lt;SPAN class=""&gt; VAT &lt;/SPAN&gt;&lt;SPAN class=""&gt;number is provided, it&lt;/SPAN&gt; &lt;SPAN class=""&gt;should&lt;/SPAN&gt; &lt;SPAN class=""&gt;automatically&lt;/SPAN&gt; &lt;SPAN class=""&gt;checked&lt;/SPAN&gt; &lt;SPAN class=""&gt;against&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;SPAN class=""&gt; VAT IDs service&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;published&lt;/SPAN&gt; &lt;SPAN class=""&gt;by&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt; &lt;SPAN class=""&gt;authorities&lt;/SPAN&gt;&lt;SPAN class=""&gt;. &lt;/SPAN&gt;&lt;SPAN class=""&gt;Each&lt;/SPAN&gt; &lt;SPAN class=""&gt;country&lt;/SPAN&gt;&amp;nbsp;maintains&amp;nbsp;&lt;SPAN class=""&gt;its&lt;/SPAN&gt;&lt;SPAN class=""&gt; own &lt;/SPAN&gt;&lt;SPAN class=""&gt;tax&lt;/SPAN&gt; &lt;SPAN class=""&gt;administration, e.g. Switzerland offers a public SOAP API&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;for&lt;/SPAN&gt; &lt;SPAN class=""&gt;validating&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;SPAN class=""&gt; Swiss VAT ID. This&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;automated&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;VAT &lt;/SPAN&gt;&lt;SPAN class=""&gt;number check&lt;/SPAN&gt;&amp;nbsp;&lt;SPAN class=""&gt;ensures&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt; &lt;SPAN class=""&gt;complete&lt;/SPAN&gt;&lt;SPAN class=""&gt; and &lt;/SPAN&gt;&lt;SPAN class=""&gt;correct&lt;/SPAN&gt; &lt;SPAN class=""&gt;management&lt;/SPAN&gt; &lt;SPAN class=""&gt;of&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt;&amp;nbsp;b&lt;SPAN class=""&gt;usiness&lt;/SPAN&gt;&amp;nbsp;p&lt;SPAN class=""&gt;artner&lt;/SPAN&gt; &lt;SPAN class=""&gt;master&lt;/SPAN&gt; &lt;SPAN class=""&gt;data&lt;/SPAN&gt;&lt;SPAN class=""&gt;. In this specific case,&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;correct&lt;/SPAN&gt; &lt;SPAN class=""&gt;use&lt;/SPAN&gt; &lt;SPAN class=""&gt;of&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;SPAN class=""&gt; VAT &lt;/SPAN&gt;&lt;SPAN class=""&gt;number&lt;/SPAN&gt; &lt;SPAN class=""&gt;is&lt;/SPAN&gt;&lt;SPAN class=""&gt; also important&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;for&lt;/SPAN&gt; &lt;SPAN class=""&gt;tax&lt;/SPAN&gt; &lt;SPAN class=""&gt;audits conducted&lt;/SPAN&gt; &lt;SPAN class=""&gt;by&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt; &lt;SPAN class=""&gt;tax&lt;/SPAN&gt; &lt;SPAN class=""&gt;authorities&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;H4 id="toc-hId-1600206662"&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;Expected&amp;nbsp;features/functionalities&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/H4&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;If a business partner is created or changed and has the country value 'CH' in any of its addresses, the VAT ID with the BPTaxNumberType = 'CH1' should be validated using the public SOAP API. If the VAT validation was successful, no further action is required. However if no VAT is maintained or the validation fails, both an email and a message to a webhook should be generated.&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;H4 id="toc-hId-1403693157"&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Environment&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/H4&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;The event is produced in the SAP S/4HANA Private Cloud. The requirement is implemented using the SAP Integration Suite and its components: SAP Event Mesh Integration Suite (EMIS) and Cloud Integration. A mail adapter and a webhook are used as consumers of the event. Alternatively, instead of SAP EMIS you can also use the SAP Advanced Event Mesh (AEM). &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Schaubild.jpg" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/293441i38896C0AEFEA7A73/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Schaubild.jpg" alt="Schaubild.jpg" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Simplified presentation of the use case with a full state event in a high level architecture.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Set-Up-Connectivity:&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;To set up connectivity for SAP S/4HANA Private Cloud and SAP EMIS (or SAP AEM) you can refer to the following blog posts:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL class="lia-list-style-type-circle"&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;A class="" href="https://community.sap.com/t5/technology-blog-posts-by-sap/sap-s-4hana-direct-connectivity-with-event-mesh-in-integration-suite/ba-p/13752534" target="_blank"&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;SAP S/4HANA direct connectivity &lt;/SPAN&gt;&lt;SPAN class=""&gt;w&lt;/SPAN&gt;&lt;SPAN class=""&gt;ith Event Mesh in Integration Suite&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/A&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;A class="" href="https://community.sap.com/t5/integration-blog-posts/rap-business-events-with-sap-integration-suite-advanced-event-mesh-and-sap/ba-p/13913393" target="_self"&gt;RAP Business Events with SAP Integration Suite, Advanced Event Mesh and SAP S/4HANA On Premise 2023&lt;/A&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;H4 id="toc-hId-1207179652"&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Variante&lt;/SPAN&gt;&lt;SPAN class=""&gt; 1 &lt;/SPAN&gt;&lt;SPAN class=""&gt;– &lt;/SPAN&gt;&lt;SPAN class=""&gt;Using &lt;/SPAN&gt;&lt;SPAN class=""&gt;SAP Business Event&lt;/SPAN&gt;&lt;SPAN class=""&gt; for &lt;/SPAN&gt;&lt;SPAN class=""&gt;Business&lt;/SPAN&gt; &lt;SPAN class=""&gt;Partner&lt;/SPAN&gt;&lt;SPAN class=""&gt; Create/Change&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/H4&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="vanessadayanc_1-1752652200462.png" style="width: 504px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/287155iB46B37412A89FDAA/image-dimensions/504x87?v=v2" width="504" height="87" role="button" title="vanessadayanc_1-1752652200462.png" alt="vanessadayanc_1-1752652200462.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;For the standard event, which is used first, a simple structure (notification event) is applied: the message contains only the ID field and the data in JSON format. A connection to EMIS/AEM is used, which requires an additional API call to retrieve the full data &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;before&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;further&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;processing&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;can&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;take&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;place&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;/SPAN&gt;&amp;nbsp;This&lt;/SPAN&gt; &lt;SPAN class=""&gt;iFlo&lt;/SPAN&gt;&lt;SPAN class=""&gt;w&lt;/SPAN&gt;&lt;SPAN class=""&gt; becomes more complex due to the&lt;/SPAN&gt;&amp;nbsp;extra&amp;nbsp;&lt;SPAN class=""&gt;API Call.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;With the HTTPS sender adapter &lt;/SPAN&gt;&lt;SPAN class=""&gt;only &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;JSON-&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;formatted&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;body&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;is&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;sent&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;{ 
"BusinessPartner":"1000540" 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN&gt;Using the received BusinessPartnerNumber a query is made to SAP S/4HANA to retrieve additional data (such as name, address, country, BPTaxNumber, etc.).&amp;nbsp;&lt;/SPAN&gt;There are two options for the receiver adapter to obtain this data:&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN class=""&gt;You can use an HTTP receiver adapter to receive the payload in JSON format or&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN class=""&gt;an OData receiver adapter to receive the payload in XML format.&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN class=""&gt;In this interface there is no option to select the country directly. Therefore it was decided to use OData to retrieve the data in XML format and apply filtering during processing.&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;With the OData receiver a&lt;/SPAN&gt;&lt;SPAN class=""&gt;dapter&lt;/SPAN&gt;&lt;SPAN class=""&gt; the following settings are required&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="vanessadayanc_0-1752664672097.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/287266iC0978C19948709C5/image-size/medium?v=v2&amp;amp;px=400" role="button" title="vanessadayanc_0-1752664672097.png" alt="vanessadayanc_0-1752664672097.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="vanessadayanc_1-1752664721215.png" style="width: 449px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/287267i327E8AAD2CAE12CD/image-dimensions/449x137?v=v2" width="449" height="137" role="button" title="vanessadayanc_1-1752664721215.png" alt="vanessadayanc_1-1752664721215.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;After &lt;/SPAN&gt;&lt;SPAN class=""&gt;receivíng&lt;/SPAN&gt;&lt;SPAN class=""&gt; the data, the next step is t&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;o&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; route &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;messages&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;where&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;country is&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&amp;nbsp;'CH' (S&lt;/SPAN&gt;&lt;SPAN class=""&gt;witzerland&lt;/SPAN&gt;&lt;SPAN class=""&gt;). &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;A &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;message&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;mapping&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;is&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;then&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; performend &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; check &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;if&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;BPTaxType&lt;/SPAN&gt;&lt;SPAN class=""&gt; = 'CH1'. &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="vanessadayanc_4-1752652296718.png" style="width: 475px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/287158iE20A8D9AF81111C7/image-dimensions/475x202?v=v2" width="475" height="202" role="button" title="vanessadayanc_4-1752652296718.png" alt="vanessadayanc_4-1752652296718.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;We&lt;/SPAN&gt; &lt;SPAN class=""&gt;us&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;e&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; a &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;g&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;roovy &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;s&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;cript&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt; &lt;SPAN class=""&gt;set&lt;/SPAN&gt; &lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;p&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;roperties&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;, so &lt;/SPAN&gt;&lt;SPAN class=""&gt;that&lt;/SPAN&gt; &lt;SPAN class=""&gt;we&lt;/SPAN&gt; &lt;SPAN class=""&gt;can&lt;/SPAN&gt; &lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;later&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; send &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;emails&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;containing&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;important&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;information&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;. The &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;p&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;ayload&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;, &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;from&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;which&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;properties&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;are&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;extracted&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; and &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;which&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;has&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;now&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;been&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;converted&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;from&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; XML &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; JSON, &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;looks&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; like &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;this&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;{ 
  "A_BusinessPartner": { 
    "A_BusinessPartnerType": { 
      "BusinessPartner": "1000540", 
      "BusinessPartnerUUID": "6045bd9c-ea28-1fe0-8df5-064c8dfd4727", 
      "BusinessPartnerName": "Test RealCore Schweiz GmbH", 
      "to_BusinessPartnerAddress": { 
        "A_BusinessPartnerAddressType": [ 
          { 
            "BusinessPartner": "1000540", 
            "Country": "CH", 
            "FullName": "Test RealCore Schweiz GmbH", 
            "HouseNumber": "1", 
            "Language": "DE", 
            "StreetName": "Müligässli", 
            "PostalCode": "8598", 
            "AddressID": "29648" 
          }, 
          { 
            "BusinessPartner": "1000540", 
            "Country": "CH", 
            "FullName": "Test RealCore Schweiz GmbH", 
            "HouseNumber": "2", 
            "Language": "DE", 
            "StreetName": "Müligässli", 
            "PostalCode": "8598", 
            "AddressID": "29663" 
          }, 
        ] 
      }, 
      "to_BusinessPartnerTax": { 
        "A_BusinessPartnerTaxNumberType": { 
          "BusinessPartner": "1000540", 
          "BPTaxType": "CH1", 
          "BPTaxNumber": "CHE359123374", 
          "BPTaxLongNumber": "", 
          "AuthorizationGroup": "" 
        } 
      } 
    } 
  } 
} &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;To&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; perform &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;correct&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt; &lt;SPAN class=""&gt;action&lt;/SPAN&gt;&lt;SPAN class=""&gt;, &lt;/SPAN&gt;&lt;SPAN class=""&gt;you&lt;/SPAN&gt; &lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;ne&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;e&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;d&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;&lt;SPAN class=""&gt; &lt;/SPAN&gt;&lt;SPAN class=""&gt;set&lt;/SPAN&gt;&lt;SPAN class=""&gt; and send a &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;h&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;eader&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;in &lt;/SPAN&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;SPAN class=""&gt; API &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;c&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;all&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;. In &lt;/SPAN&gt;&lt;SPAN class=""&gt;our&lt;/SPAN&gt; &lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;use&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;case&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;, &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;header&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;should&lt;/SPAN&gt; &lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;indicate&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&amp;nbsp; &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;that&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;BPTaxNumber&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;requires&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;validation&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;. &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;(&lt;A href="https://www.uid-wse.admin.ch/V5.0/PublicServices.svc" target="_self" rel="nofollow noopener noreferrer"&gt;Link&lt;/A&gt; to webservice and actions)&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;The HTTP receiver adapter &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;is&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;used&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;make&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;API call to &lt;/SPAN&gt;&lt;SPAN class=""&gt;validate&lt;/SPAN&gt;&lt;SPAN class=""&gt; the &lt;/SPAN&gt;&lt;SPAN class=""&gt;BPTaxNumber&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="vanessadayanc_6-1752652391710.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/287161iD64CA3DF9A0186BF/image-size/medium?v=v2&amp;amp;px=400" role="button" title="vanessadayanc_6-1752652391710.png" alt="vanessadayanc_6-1752652391710.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;T&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;he API &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;call&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;returns&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; a simple &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;response&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"&amp;gt; 
  &amp;lt;s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"&amp;gt; 
    &amp;lt;ValidateVatNumberResponse xmlns="http://www.uid.admin.ch/xmlns/uid-wse"&amp;gt; 
      &amp;lt;ValidateVatNumberResult&amp;gt;true&amp;lt;/ValidateVatNumberResult&amp;gt; 
    &amp;lt;/ValidateVatNumberResponse&amp;gt; 
  &amp;lt;/s:Body&amp;gt; 
&amp;lt;/s:Envelope&amp;gt; &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;All &lt;/SPAN&gt;&lt;SPAN class=""&gt;together&lt;/SPAN&gt; &lt;SPAN class=""&gt;the&lt;/SPAN&gt;&amp;nbsp;complete&amp;nbsp;&lt;SPAN class=""&gt;iFlow&lt;/SPAN&gt; &lt;SPAN class=""&gt;looks&lt;/SPAN&gt;&lt;SPAN class=""&gt; like &lt;/SPAN&gt;&lt;SPAN class=""&gt;this&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="vanessadayanc_7-1752652431621.png" style="width: 690px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/287162i17A282525BFB8203/image-dimensions/690x231?v=v2" width="690" height="231" role="button" title="vanessadayanc_7-1752652431621.png" alt="vanessadayanc_7-1752652431621.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;In the teaser one benefit of full state events was &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;highlighted&lt;/SPAN&gt;&lt;/SPAN&gt;: &lt;EM&gt;&lt;STRONG&gt;Simplified Architectures&lt;/STRONG&gt;&lt;/EM&gt;&lt;SPAN&gt;&lt;EM&gt;: Reduceing dependency on S/4HANA APIs, and lowering system coupling and load.&lt;/EM&gt;&amp;nbsp;However, with the interface described above, the simplified architecture is not archieved. &lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;To&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;address&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;this&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;, &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;another&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;solution&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;is&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;requir&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;ed&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;STRONG&gt;RAP event &lt;/STRONG&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;A RAP event can be used to archieve simpler architecture, providing pre-selected and filtered events.&amp;nbsp;Therefore, the solution chosen is to implement a custom RAP event.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;You&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;can&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; find &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;more&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;information&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt; in &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;the&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&amp;nbsp;&lt;SPAN class=""&gt;next&lt;/SPAN&gt;&amp;nbsp;blog of&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;this&lt;/SPAN&gt; &lt;SPAN class=""&gt;serie&lt;/SPAN&gt;&lt;SPAN class=""&gt;: Event-&lt;/SPAN&gt;&lt;SPAN class=""&gt;driven&lt;/SPAN&gt;&lt;SPAN class=""&gt; Architecture: &lt;/SPAN&gt;&lt;SPAN class=""&gt;Creating&lt;/SPAN&gt; &lt;SPAN class=""&gt;Fullstate&lt;/SPAN&gt;&lt;SPAN class=""&gt; Events in SAP S/4HANA &lt;/SPAN&gt;&lt;SPAN class=""&gt;for&lt;/SPAN&gt;&lt;SPAN class=""&gt; SAP Event Mesh on Integration Suite (EMIS) - &lt;/SPAN&gt;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;RAP Edition&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/STRONG&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;(&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;coming&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt; &lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;soon&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;…).&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/event-driven-architecture-creating-fullstate-events-in-sap-s-4hana-for-sap/ba-p/14153666"/>
    <published>2025-07-31T12:41:30.451000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/rap-with-deep-static-action-odata-v4-complete-guide-till-execution-in/ba-p/14170270</id>
    <title>RAP - With Deep Static Action - OData V4 - Complete Guide till Execution in Gateway</title>
    <updated>2025-08-08T10:12:57.005000+02:00</updated>
    <author>
      <name>SuryaRamesh</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2066090</uri>
    </author>
    <content>&lt;P&gt;&lt;STRONG&gt;Summary:&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;In some of SAP RAP (RESTful Application Programming) scenarios, there is a need to pass a request body to an action as &lt;STRONG&gt;input&lt;/STRONG&gt;, execute business logic, and return the output in the response body. While SAP RAP offers a "Deep Action" feature to facilitate such requirements, this capability is currently not supported in OData V2.&amp;nbsp; As a result, developers seeking to implement this pattern must turn to OData V4, which introduces expanded support for complex actions and payload handling.&lt;/P&gt;&lt;P&gt;This blog will walk you through a practical, step-by-step session on how to implement request/response body handling in RAP Actions using OData V4, ensuring you can meet advanced integration and business process needs in your SAP applications. Also this blog explains how to capture your OData V4 service in TR Properly.&lt;/P&gt;&lt;P&gt;The Aim is to create Single Parent Entity and create Deep Action out of it which acts like same OData Deep Entity.&amp;nbsp;&lt;/P&gt;&lt;P&gt;The Action can be exposed to interface where it can be used for POST Operations. ( GET Can be used only to get CSRF Token for security layer.&lt;/P&gt;&lt;P&gt;Before getting deep dive into RAP Deep Actions, first we need to understand that RAP Actions are generally &lt;STRONG&gt;function imports in OData V2&lt;/STRONG&gt; and in OData V4 it shows as &lt;STRONG&gt;Action&lt;/STRONG&gt; itself in Meta Data Extension.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Now let's start with the build.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;1) Create Root View Entity&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Test'
@Metadata.ignorePropagatedAnnotations: true
define root view entity ZCDS_TEST_PARENT_ENTITY as select from ekko
{
    key ebeln as Ebeln,
    bukrs as Bukrs,
    bsart as Bsart,
    lifnr as Lifnr
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;2) Create Behavior Definition on top of Root View Entity&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SuryaRamesh_0-1754192998396.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/295677i26ED82104B375720/image-size/medium?v=v2&amp;amp;px=400" role="button" title="SuryaRamesh_0-1754192998396.png" alt="SuryaRamesh_0-1754192998396.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;3) After Creating Behaviour Definition with appropriate Alias and read only properties, Add Static Action with Deep structure as per your requirement. The syntax is as below. ( Note for the deep action you must create Deep Abstract Entity which I will explain in upcoming points ).&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;static action TestAction deep parameter ZCDS_ROOT_ABSTRACT_TEST_API deep result[1..*] ZCDS_ROOT_ABSTRACT_TEST_API;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;4) While using Deep Action, in &lt;STRONG&gt;Result [1..*]&lt;/STRONG&gt; is important which indicates that Action will expand for Deep structure for Result. But for Input cardinality is not required.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SuryaRamesh_2-1754193545159.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/295679i695C8F2FFB416010/image-size/large?v=v2&amp;amp;px=999" role="button" title="SuryaRamesh_2-1754193545159.png" alt="SuryaRamesh_2-1754193545159.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;5) Create Root Abstract Entity&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label: 'Root Abstract'

define root abstract entity ZCDS_ROOT_ABSTRACT_TEST_API
{
  key Ebeln     : ebeln;
      Bukrs     : bukrs;
      _Parenttochild : composition [1..*] of ZCDS_CHILD_ABSTRACT_TEST_API;
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;6) Create corresponding child Abstract Entity&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label: 'Child Abstract'
define abstract entity ZCDS_CHILD_ABSTRACT_TEST_API
{
    key Ebeln : ebeln;
    key ebelp : Ebelp;
        Matnr_ae : matnr;
     _ChildtoParent : association to parent zcds_root_abstract_test_api on $projection.ebeln = _childtoParent.ebeln;
    
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;7) Create Abstract - Behavior Definition&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;abstract;
strict ( 2 );
with hierarchy;

define behavior for ZCDS_ROOT_ABSTRACT_TEST_API //alias &amp;lt;alias_name&amp;gt;
{
  association _Parenttochild;
}

define behavior for ZCDS_CHILD_ABSTRACT_TEST_API //alias &amp;lt;alias_name&amp;gt;
{
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":smiling_face_with_sunglasses:"&gt;😎&lt;/span&gt;Create Respective Service Definition and Service Binding. ( Note Service Binding to be created in OData - V4 Web API for Interface Based Requirements and OData - V4 UI for Fiori/BTP Based Requirements. Currently Im creating OData - V4 Web API since we are testing in gateway only ).&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@EndUserText.label: 'Test'
define service ZCDS_TEST_ENTITY_SRV {
  expose ZCDS_TEST_PARENT_ENTITY as TestEntity;
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SuryaRamesh_4-1754194294825.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/295681iC406A039776BDEF7/image-size/large?v=v2&amp;amp;px=999" role="button" title="SuryaRamesh_4-1754194294825.png" alt="SuryaRamesh_4-1754194294825.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;9) After creating the service Binding Activate it and publish it. In this Blog we are also going to see how to save/capture V4 OData service in TR Properly.&lt;/P&gt;&lt;P&gt;10) Once Publishing the service, navigate to /n/iwfnd/v4_admin Transaction and find your service Group. Right click on the service and click on&amp;nbsp;&lt;STRONG&gt;Transport Publishing.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SuryaRamesh_5-1754194630607.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/295682i885FD29AA58C44A9/image-size/large?v=v2&amp;amp;px=999" role="button" title="SuryaRamesh_5-1754194630607.png" alt="SuryaRamesh_5-1754194630607.png" /&gt;&lt;/span&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SuryaRamesh_6-1754194653193.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/295683i81AA08C167939D76/image-size/large?v=v2&amp;amp;px=999" role="button" title="SuryaRamesh_6-1754194653193.png" alt="SuryaRamesh_6-1754194653193.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;11) After clicking on Transport Publishing it will ask for Customizing TR, Save the service in Customizing TR and click on&amp;nbsp;&lt;STRONG&gt;LOCAL&amp;nbsp;&lt;/STRONG&gt;system Alias and then select&amp;nbsp;&lt;STRONG&gt;Transport Routing Assignment.&amp;nbsp;&lt;/STRONG&gt;It will ask for Customizing TR again and save it in Customizing TR. With these steps your OData V4 Service will get properly captured in TR.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SuryaRamesh_7-1754194797481.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/295684iAC105F19A6C263BB/image-size/large?v=v2&amp;amp;px=999" role="button" title="SuryaRamesh_7-1754194797481.png" alt="SuryaRamesh_7-1754194797481.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;12) After capturing service in TR, click on the Service and select Service Test.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SuryaRamesh_8-1754194982084.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/295686iD8E6854AE734AA91/image-size/large?v=v2&amp;amp;px=999" role="button" title="SuryaRamesh_8-1754194982084.png" alt="SuryaRamesh_8-1754194982084.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;13) As Mentioned above RAP Action's will be considered as Actions in OData V4 whereas in OData V2 it will be taken as Function Imports. Refer to screenshot below for the same which shows the Action we created as&amp;nbsp;&lt;STRONG&gt;Action &lt;/STRONG&gt;while loading &lt;STRONG&gt;Meta data.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SuryaRamesh_1-1754474054639.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297094i81A4C39FD7E67E6D/image-size/large?v=v2&amp;amp;px=999" role="button" title="SuryaRamesh_1-1754474054639.png" alt="SuryaRamesh_1-1754474054639.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;14) Now let's construct&amp;nbsp;&lt;STRONG&gt;URL and Payload for OData V4 RAP Action.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;URL Format :&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;"1" : &lt;STRONG&gt;/sap/opu/odata4/sap/zcds_test_entity_srv/....&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;"2": &lt;STRONG&gt;TestEntity/&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;"3":&amp;nbsp;&lt;STRONG&gt;com.sap.gateway.srvd_...&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;"4": .&lt;STRONG&gt;TestAction&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Final URL :&amp;nbsp;&lt;/STRONG&gt;"1" &amp;amp;&amp;amp; "2" &amp;amp;&amp;amp; "3" &amp;amp;&amp;amp; "4"&lt;/P&gt;&lt;P&gt;In simple Terms the "1" will be coming by default once you enter the gateway and "2" will be also coming by default once you add the entity. Then "3" is something which is for OData V4 and it's&amp;nbsp;&lt;STRONG&gt;schema namespace&amp;nbsp;&lt;/STRONG&gt;which you will find while loading meta data. Finally "4" is your Action.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;URL Should look like this:&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;/sap/opu/odata4/sap/zcds_test_entity_srv/..../TestEntity/com.sap.gateway.. .TestAction&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Note : Action should be exposed with a dot (.)&amp;nbsp; after Schema Namespace&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Payload;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;The Payload should hold all properties from Action Parameters. It will not play any crucial role with Root CDS View Entity inputs rather static action will expect all the deep parameters to be passed to initiate POST Operation in Input payload.&amp;nbsp;&lt;/P&gt;&lt;P&gt;For Our Scenario let's Pass Payload like this.&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;{
    "Ebeln": "1050001",
    "Bukrs": "001",
    "_Parenttochild": [
        {
            "Ebeln": "1050001",
            "Matnr": "000000000000000001"
        }
    ]
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;15) After passing the payload, we often do get this error while execution which is Authorization block. To resolve this we have to get appropriate authorization from BASIS for Auth objects;&amp;nbsp;&lt;STRONG&gt;S_START&amp;nbsp;&lt;/STRONG&gt;and&amp;nbsp;&lt;STRONG&gt;S_SERVICE.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SuryaRamesh_2-1754474247987.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297095i422A41B53448611E/image-size/large?v=v2&amp;amp;px=999" role="button" title="SuryaRamesh_2-1754474247987.png" alt="SuryaRamesh_2-1754474247987.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;16) Once Necessary Authorization is obtained we do get response like this in Deep structure in Response body.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SuryaRamesh_3-1754474371255.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297096iA92E7668AA2831C5/image-size/large?v=v2&amp;amp;px=999" role="button" title="SuryaRamesh_3-1754474371255.png" alt="SuryaRamesh_3-1754474371255.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;17) Henceforth with this way we can use Deep Action and pass input in Body instead of payload as deep structure. This could be used for Interface as well as Fiori based objects. In Fiori with same way the testing can be done in Fiori Launchpad with deployed app with Action button having deep structure.&amp;nbsp;&lt;/P&gt;&lt;P&gt;18) Static Action should hold whatever Business logic is for POST inside RAP Behavior Implementation class. The UI/3rd party system input can be read from&amp;nbsp;&lt;STRONG&gt;keys&amp;nbsp;&lt;/STRONG&gt;parameter with appropriate&amp;nbsp;&lt;STRONG&gt;%cid_ref&amp;nbsp;&lt;/STRONG&gt;and once all business logic is done the response can be mapped to&amp;nbsp;&lt;STRONG&gt;result&amp;nbsp;&lt;/STRONG&gt;parameter of same action.&lt;/P&gt;&lt;P&gt;19) If you want to read some of the CDS View properties then instead of static action you can use normal action also with deep parameters.&lt;/P&gt;&lt;P&gt;20) If the requirement demands to send&amp;nbsp;&lt;STRONG&gt;Deep structure as output only&amp;nbsp;&lt;/STRONG&gt;or vise versa means then in this case you can avoid deep structure in either parameter or response as shown below;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;static action TestActionDeepInput deep parameter ZCDS_DEEP_ABSTRACT result[1]ZCDS_OUTPUT_ABSTRACT;
static action TestActionDeepOutput parameter ZCDS_INPUT_ABSTRACT deep result[1..*]ZCDS_DEEP_ABSTRACT;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-1736822084"&gt;Conclusive Summary&lt;/H2&gt;&lt;P&gt;I hope this blog has clarified key concepts around OData V4, RAP Deep Actions, Deep Abstraction, and capturing V4 services in a transport request. In future posts, I’ll explore running background jobs with RAP and Application Jobs.&lt;BR /&gt;Thank you for reading!&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/rap-with-deep-static-action-odata-v4-complete-guide-till-execution-in/ba-p/14170270"/>
    <published>2025-08-08T10:12:57.005000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/simple-rap-based-managed-ui-development-with-create-amp-delete-actions-on/ba-p/14173514</id>
    <title>Simple RAP based Managed UI development with Create &amp; Delete actions on custom BillDoc header table</title>
    <updated>2025-08-11T11:51:13.797000+02:00</updated>
    <author>
      <name>AnithaSwamy</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1757477</uri>
    </author>
    <content>&lt;H1 id="toc-hId-1607831439"&gt;&lt;STRONG&gt;Introduction&lt;/STRONG&gt;&lt;/H1&gt;&lt;P class=""&gt;In this project, you set out to build a&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;Simple Managed RAP (ABAP RESTful Application Programming) application&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;on&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;SAP BTP ABAP Environment&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;using&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;Eclipse ADT&lt;/STRONG&gt;.&amp;nbsp;The goal is to design a lightweight&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;Billing Document Header maintenance app&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;with&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;Create&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;and&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;Delete&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;capabilities, following best practices for&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;Managed RAP&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;development.&lt;/P&gt;&lt;P class=""&gt;The application uses a&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;custom transparent table&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;for storing billing document header data and implements&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;standard RAP layers&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;— Database Table, Interface View, Projection View, Metadata Annotations, Behavior Definitions, Service Definition, and Service Binding.&lt;/P&gt;&lt;P class=""&gt;By leveraging Managed RAP,&amp;nbsp; you do not need to write custom CRUD logic — the framework auto-generates this functionality, allowing you to focus purely on&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;data modelling&lt;/STRONG&gt;,&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;UI annotations&lt;/STRONG&gt;, and&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;service exposure&lt;/STRONG&gt;. This demonstrates how RAP accelerates application development in the cloud while complying with&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;ABAP Cloud&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;clean-core principles.&lt;/P&gt;&lt;P class=""&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1411317934"&gt;&lt;SPAN&gt;Objectives:&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;Creating a Simple Managed RAP based UI using BTP and Eclipse IDE with Create &amp;amp; Delete actions on custom Billing Document header table.&lt;/P&gt;&lt;H1 id="toc-hId-1214804429"&gt;&lt;SPAN&gt;Requirements/Task(s):&lt;/SPAN&gt;&lt;/H1&gt;&lt;OL&gt;&lt;LI&gt;&lt;SPAN&gt;Create required Database Table(s)&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Create CDS views for the Database Table – &lt;/SPAN&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Interface View and &lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Consumption (Projection) View&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Create Metadata View on Consumption View&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Create Behavior Definition for Interface View&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Create Behavior Definition for Consumption View&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Create Service Definition for Consumption View&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Service Binding for the Service Definition&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Test the Application&lt;/SPAN&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;H1 id="toc-hId-1018290924"&gt;&lt;SPAN&gt;Objects List&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_0-1754496288291.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297264i93FB136F203F8C6C/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_0-1754496288291.png" alt="AnithaSwamy_0-1754496288291.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-821777419"&gt;&lt;SPAN&gt;Outline the steps/plan for your project:&lt;/SPAN&gt;&lt;/H1&gt;&lt;OL&gt;&lt;LI&gt;Step1: Create Database Table (Eclipse - Data Dictionary-Database Table)&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_1-1754496288295.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297262i2CE4A8D579B10116/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_1-1754496288295.png" alt="AnithaSwamy_1-1754496288295.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Check the created Database Table structure (Right click – Open With - Data Preview)&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_2-1754496288297.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297263i6AD9BF9B9505CE44/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_2-1754496288297.png" alt="AnithaSwamy_2-1754496288297.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 2:&lt;/STRONG&gt; Create Interface Root view CDS for the database table created (right click database table - Data Definitions - Root View template)&lt;/P&gt;&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_3-1754496288300.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297265i904B146112104C43/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_3-1754496288300.png" alt="AnithaSwamy_3-1754496288300.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 3:&lt;/STRONG&gt; Create Consumption/Projection Root view CDS for the database table created (right click database table - Data Definitions - Root View template)&lt;/P&gt;&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_4-1754496288302.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297266iF4C8B97E2843AEEA/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_4-1754496288302.png" alt="AnithaSwamy_4-1754496288302.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 4&lt;/STRONG&gt;: Create Metadata that helps with designing aspects of the UI (Right click on the Projection View you created and select new "Metadata Definition")&lt;/P&gt;&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_5-1754496288310.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297267i36508B05B0899329/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_5-1754496288310.png" alt="AnithaSwamy_5-1754496288310.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 5&lt;/STRONG&gt;: Create Behaviour Definition - one fore Interface view and one for Consumption view you have created&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 5a&lt;/STRONG&gt;: Create Behaviour Definition for the interface view ((Right click the Interface CDS View and choose Behaviour Definition option)&lt;/P&gt;&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_6-1754496288313.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297270iE2B009147269A018/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_6-1754496288313.png" alt="AnithaSwamy_6-1754496288313.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 5b&lt;/STRONG&gt;: Create Behaviour Definition for the Projection view (Right click the Projection CDS View and choose Behaviour Definition option)&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_7-1754496288314.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297269iF99AEE68D9358125/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_7-1754496288314.png" alt="AnithaSwamy_7-1754496288314.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 6&lt;/STRONG&gt;: Create Service definition (Right click CDS Projection View and click "New Service Definition")&lt;/P&gt;&lt;P&gt;Expose the Consumption View CDS.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_8-1754496288316.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297268i56EFB860ABFC0F0F/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_8-1754496288316.png" alt="AnithaSwamy_8-1754496288316.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 7&lt;/STRONG&gt;: Create Service Binding (Right click on the new Service definition you created and choose "New Service Binding" and Choose OData V4 version for the UI)&lt;/P&gt;&lt;P&gt;Select the Service Definition displayed on the versions section of the page and hit "Publish" button.&lt;/P&gt;&lt;P&gt;It will take some time. Once it is done, a Service URL will be created and the binding will be displayed.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_9-1754496288320.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297272iF7768886F9A60683/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_9-1754496288320.png" alt="AnithaSwamy_9-1754496288320.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 8:&amp;nbsp;&lt;/STRONG&gt; Test the Application: Select the Entity and hit Preview button, a new Window will be opened with the RAP UI App you created.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_10-1754496288327.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297271i1D46C62B933F0064/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_10-1754496288327.png" alt="AnithaSwamy_10-1754496288327.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;A new window will open with the UI for the Application we created:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_11-1754496288331.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297273iF1AD866D7D5EB96F/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_11-1754496288331.png" alt="AnithaSwamy_11-1754496288331.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Click “Go” Button, so that the values are pulled from the Database table to be shown on the screen.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="AnithaSwamy_12-1754496288337.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/297274i28F0769CF670AD45/image-size/medium?v=v2&amp;amp;px=400" role="button" title="AnithaSwamy_12-1754496288337.png" alt="AnithaSwamy_12-1754496288337.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;You can see the database records displayed on the screen. The Create and Delete buttons are available for creating new records and deleting existing records. Since this is Managed RAP application, the code necessary for the Create and delete operations are handled automatically by the Framework, there is no explicit code necessary for these simple actions. If customizations are required then it can be handled via Implementation Class (Behaviour Pool Classes) of the Behaviour Definition.&lt;/P&gt;&lt;H1 id="toc-hId-625263914"&gt;&lt;SPAN&gt;Project link:&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;&lt;A href="https://github.com/ABAPAnitha/RAP-for-Bill-doc-header-and-Items" target="_blank" rel="noopener nofollow noreferrer"&gt;https://github.com/ABAPAnitha/RAP-for-Bill-doc-header-and-Items&lt;/A&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;H2 id="" id="toc-hId-557833128"&gt;&lt;STRONG&gt;Conclusion&lt;/STRONG&gt;&lt;/H2&gt;&lt;P class=""&gt;This project highlights how quickly and efficiently a&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;Managed RAP application&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;can be built on SAP BTP using the ABAP RESTful Programming Model.&amp;nbsp;The framework automatically handled the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;Create&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;and&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;Delete&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;operations, proving the advantage of Managed scenarios where minimal custom coding is required.&lt;/P&gt;&lt;P class=""&gt;We also learned how&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;UI metadata annotations&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;can be used to control the look and feel of the Fiori Elements-based UI without any frontend coding, and how RAP’s structured approach — from database table to service binding — enables a clean, maintainable, and extensible application design.&lt;/P&gt;&lt;P class=""&gt;Going forward, you can extend this solution with:&lt;/P&gt;&lt;UL class=""&gt;&lt;LI&gt;&lt;P class=""&gt;&lt;STRONG&gt;Custom business logic&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;in Behavior Pool classes,&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P class=""&gt;&lt;STRONG&gt;Associations&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;to billing item entities for a complete billing document structure,&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P class=""&gt;&lt;STRONG&gt;Advanced annotations&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;for richer UI interactions.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P class=""&gt;Overall, the Managed RAP approach proved to be a fast, cloud-compliant, and developer-friendly way to deliver maintainable SAP applications aligned with the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;ABAP Cloud&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;strategy.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/simple-rap-based-managed-ui-development-with-create-amp-delete-actions-on/ba-p/14173514"/>
    <published>2025-08-11T11:51:13.797000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/application-development-and-automation-blog-posts/simplifying-attachment-downloads-in-rap-with-cds-views-a-step-by-step-guide/ba-p/14153893</id>
    <title>Simplifying Attachment Downloads in RAP with CDS Views: A Step-by-Step Guide</title>
    <updated>2025-08-11T12:12:53.686000+02:00</updated>
    <author>
      <name>kishore_kumar_g</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1438038</uri>
    </author>
    <content>&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; In a recent project, I faced a requirement where we had to allow users to download a file generated dynamically during runtime. The tricky part was that we were working within RAP and wanted to avoid any heavy coding and also it has to be dynamic. The reason it needs to be dynamic is that we need to access the stored file through the conventional ABAP API, which restricts us from directly accessing it in the CDS view.&lt;/P&gt;&lt;P&gt;In this blog, I thought to share my experience that how we achieved it with no UI coding and using the conventional Flight Schedule Details example.&lt;/P&gt;&lt;H2 id="toc-hId-1735070246"&gt;&amp;nbsp;&lt;/H2&gt;&lt;H2 id="toc-hId-1538556741"&gt;&lt;FONT color="#FF9900"&gt;Why This Approach?&lt;/FONT&gt;&lt;/H2&gt;&lt;P&gt;When we were analyzing the requirement to achieve the download of the file through the service, We evaluated a few approaches - one using an extra service entity just for file streaming, and another directly embedding the logic into the existing root view. Will explain it in detail in a separate blog about the first approach,&amp;nbsp; and in this blog, will share the approach(second) that we finally chose. Reasons to choose the second approach:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;We were able to achieve the download of the attachment with changes in the existing entity itself.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;It requires no UI coding.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Achieved with less effort, as the attachment file and its connection link can be exposed through attributes and mapping with annotation.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-1342043236"&gt;&lt;FONT color="#FF9900"&gt;&lt;STRONG&gt;How Does It Look in Action?&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/H2&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Download File.gif" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/287261i3A32C4E5DC7D8A1B/image-size/large?v=v2&amp;amp;px=999" role="button" title="Download File.gif" alt="Download File.gif" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Diagrammatic Representation of the CDS Stack and Object Involved:&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="kishore_kumar_g_0-1753920995292.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/294204i26967678AAC7C7F9/image-size/large?v=v2&amp;amp;px=999" role="button" title="kishore_kumar_g_0-1753920995292.png" alt="kishore_kumar_g_0-1753920995292.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Ideally, the best practice is that the C view in RAP is built on top of the R view. However, for ease of structuring in this example, I have consumed the C view directly from the I view.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H3 id="toc-hId-1274612450"&gt;&lt;FONT color="#FF9900"&gt;&lt;STRONG&gt;Interface View (ZI_SpFlightSchedule):&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/H3&gt;&lt;P&gt;As with every RAP based structuring, we start with a root interface view exposing base flight data. While the &lt;STRONG&gt;dynamic selection of ConnectionLink, MimeType, and Filename can be implemented based on entity keys and logic, we have &lt;STRONG&gt;hardcoded these fields here for simplicity and clarity in demonstrating the attachment download concept.&lt;/STRONG&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;PRE&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED
@Metadata.allowExtensions: true
@EndUserText.label: 'Flight Schedule with Download Link'

define root view entity ZI_SpFlightSchedule
  as select from spfli
{
    key carrid,
    key connid,
        cityfrom,
        cityto,

    'http://localhost:60518/testclient/sap/opu/odata/sap/ZSB_SPFLIGHTSCHEDULE_V2/ZC_SpFlightSchedule(carrid=''AA'',connid=''17'')/$value'
        as ConnectionLink,

    'application/text' as MimeType,
    'Flight_Details.txt' as Filename
}&lt;/PRE&gt;&lt;P&gt;Let me share my understanding of each attribute:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;ConnectionLink:&lt;BR /&gt;&lt;/STRONG&gt;A&amp;nbsp;URL field in your CDS view providing the download link for the attachment associated with the RAP entity. It is used for clickable navigation or API-based download of the attachment.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;MimeType:&lt;BR /&gt;&lt;/STRONG&gt;Specifies the&amp;nbsp;MIME type (file type) of the attachment to inform the browser or consumer how to handle the downloaded content (e.g., application/text, application/pdf).&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;Filename:&lt;BR /&gt;&lt;/STRONG&gt;Defines the default name of the file when the attachment is downloaded, ensuring consistent naming for users (e.g., Flight_Details.txt, Flight_Details.json).&lt;/P&gt;&lt;H3 id="toc-hId-1078098945"&gt;&amp;nbsp;&lt;/H3&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;H3 id="toc-hId-881585440"&gt;&lt;FONT color="#FF9900"&gt;&lt;STRONG&gt;Consumption View (ZC_SpFlightSchedule):&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/H3&gt;&lt;P&gt;Now, Let's go for creation the&amp;nbsp; RAP transactional consumption view.&lt;/P&gt;&lt;PRE&gt;@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Flight data'
@Metadata.ignorePropagatedAnnotations: true
@Metadata.allowExtensions: true
//@Search.searchable: true
@ObjectModel: {
    semanticKey: [ 'carrid', 'connid' ],
    usageType:{
        serviceQuality: #C,
        sizeCategory: #S,
        dataClass: #MIXED
    }
}
@VDM.viewType:#CONSUMPTION
@VDM.usage.type: [ #TRANSACTIONAL_PROCESSING_SERVICE ]

define root view entity ZC_SpFlightSchedule
  provider contract transactional_query
  as projection on ZI_SpFlightSchedule
{
    key carrid,
    key connid,
    cityfrom,
    cityto,
    ConnectionLink,

    @Semantics.largeObject: {
        mimeType: 'MimeType',
        fileName: 'Filename',
        contentDispositionPreference: #ATTACHMENT
    }
    @ObjectModel.virtualElementCalculatedBy: 'ABAP: ZCL_FOR_VIRTUAL_ELEMENTS'
    @EndUserText.label: 'Attachment'
    virtual Attachment : abap.rawstring(3056),

    @Semantics.mimeType: true
    MimeType,
    Filename 
}&lt;/PRE&gt;&lt;P&gt;Here the Attachment virtual element is linked with the attributes to know the properties for the file download.&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;MimeType for MIME type resolution.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Filename for correct naming.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;contentDispositionPreference: #ATTACHMENT to force download instead of browser preview.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;@ObjectModel.virtualElementCalculatedBy indicates runtime content population by ABAP class ZCL_FOR_VIRTUAL_ELEMENTS.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;here it's not necessary to mention the length of the data type like &lt;STRONG&gt;virtual Attachment : abap.rawstring(3056)&lt;/STRONG&gt;, as this does not restrict or impact performance or storage limits. However, to indicate the expected file size for readability/documentation, I have included it.&lt;/P&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV class=""&gt;Also, one challenge I faced was handling large files. Although OData supports streaming, we had to test the performance of files over 1MB. During testing, some downloads triggered browser timeouts or inconsistent behavior. To address this, we decided to enforce a size limit through backend logic for now. In our scenario, there are also possibilities to split or paginate the file content, which is something I plan to explore further in the next phase.&lt;/DIV&gt;&lt;DIV class=""&gt;&lt;BR /&gt;&lt;DIV class=""&gt;Also when checking for the memory limit of the file download got to know that the&amp;nbsp;theoretical maximum will be upto 2 GB, but as mentioned earlier the practical upload/download via OData may face:&lt;UL&gt;&lt;LI&gt;&lt;P&gt;Timeout issues for large files.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Memory limits in the app server.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Frontend limitations (browser limits, network).&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H3 id="toc-hId-685071935"&gt;&lt;FONT color="#FF9900"&gt;Implement Virtual Element Logic:&lt;/FONT&gt;&lt;/H3&gt;&lt;P&gt;Now let's move on to the implementation of the logic required for the&amp;nbsp; file download content. In the class ZCL_FOR_VIRTUAL_ELEMENTS, lets' add the interfaces IF_SADL_EXIT and&lt;BR /&gt;IF_SADL_EXIT_CALC_ELEMENT_READ. Then, Implement the method IF_SADL_EXIT_CALC_ELEMENT_READ~CALCULATE to dynamically populate Attachment with the content of the file in xstring data type.&lt;/P&gt;&lt;P&gt;This allows &lt;STRONG&gt;dynamic downloads for each RAP record seamlessly.&lt;/STRONG&gt;&lt;/P&gt;&lt;PRE&gt;METHOD if_sadl_exit_calc_element_read~calculate.
DATA: lt_original_data TYPE STANDARD TABLE OF ZC_SpFlightSchedule WITH DEFAULT KEY,
ls_original_data TYPE ZC_SpFlightSchedule,
lv_BUFFER  TYPE  xstring.

lt_original_data = CORRESPONDING #( it_original_data ).
ls_original_data = lt_original_data[ 1 ].
SELECT SINGLE * FROM spfli INTO @DATA(line)
      WHERE carrid = @ls_original_data-carrid AND connid = @ls_original_data-connid.

    DATA(lv_csv) = |CARRID,CONNID,CITYFROM,CITYTO{ cl_abap_char_utilities=&amp;gt;newline }|.
    lv_csv &amp;amp;&amp;amp;= |{ line-carrid },{ line-connid },{ line-cityfrom },{ line-cityto }{ cl_abap_char_utilities=&amp;gt;newline }|.

 CALL FUNCTION 'SCMS_STRING_TO_XSTRING'
      EXPORTING
        text     = lv_csv
        mimetype = 'text/plain'
*       ENCODING =
      IMPORTING
        buffer   = lv_BUFFER
      EXCEPTIONS
        failed   = 1
        OTHERS   = 2.
    IF sy-subrc &amp;lt;&amp;gt; 0.
* Implement suitable error handling here
    ENDIF.

    TRY.
        lt_original_data[ 1 ]-attachment = lv_BUFFER.
        ##NO_HANDLER
      CATCH cx_sy_itab_line_not_found cx_dynamic_check.
    ENDTRY.

    ct_calculated_data = CORRESPONDING #( lt_original_data ).

ENDMETHOD.&lt;/PRE&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H3 id="toc-hId-488558430"&gt;&lt;FONT color="#FF9900"&gt;&lt;STRONG&gt;Metadata Extension for UI Annotations:&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/H3&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;To enable a mapping with the connection link and the attribute of the file, let's add a metadata extension.&lt;/FONT&gt;&lt;/P&gt;&lt;PRE&gt;@Metadata.layer: #CORE
@UI: {
  headerInfo: {
      typeName: 'Reconcile Draft Reports',
      typeNamePlural: 'Flight Schedules',
      title: { type: #STANDARD, value: 'carrid' }
  } 
}
annotate entity ZC_SpFlightSchedule
  with 
{
  @UI.facet: [
    {
      id: 'GeneralInfo',
      type: #IDENTIFICATION_REFERENCE,
      label: 'Flight Info',
      position: 10
    }
  ]

  @UI.lineItem: [{ position: 10 }]
  @UI.identification: [{ position: 10, label: 'Carrier ID', importance: #HIGH }]
    carrid;

  @UI.lineItem: [{ position: 30, label: 'Connection ID', type: #WITH_URL, url: 'ConnectionLink' }]
  @UI.identification: [{ position: 30, label: 'Connection ID', type: #WITH_URL, url: 'ConnectionLink' }]
    connid;

  @UI.identification: [{ position: 40, label: 'Departure City' }]
    cityfrom;

  @UI.identification: [{ position: 50, label: 'Arrival City' }]
    cityto;

  @UI.hidden: true
    ConnectionLink;

  @UI.hidden: true
    Attachment;

  @UI.hidden: true
    MimeType;

  @UI.hidden: true
    Filename;
}&lt;/PRE&gt;&lt;P data-unlink="true"&gt;In the&amp;nbsp;metadata extension, the &amp;nbsp;&lt;A href="https://community.sap.com/t5/user/viewprofilepage/user-id/1445379" target="_blank"&gt;@ui&lt;/A&gt;.lineItem and &amp;nbsp;&lt;A href="https://community.sap.com/t5/user/viewprofilepage/user-id/1445379" target="_blank"&gt;@ui&lt;/A&gt;.identification annotations use:&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;type: #WITH_URL&lt;BR /&gt;&lt;/STRONG&gt;This instructs &lt;STRONG&gt;Fiori Elements&lt;/STRONG&gt; to render the field as a &lt;STRONG&gt;clickable hyperlink&lt;/STRONG&gt; in the UI (List Report or Object Page), instead of displaying it as plain text.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;url: 'ConnectionLink'&lt;BR /&gt;&lt;/STRONG&gt;This specifies &lt;STRONG&gt;which field in your entity contains the URL&lt;/STRONG&gt; that should be used as the hyperlink target when the user clicks the displayed field (e.g., connid).&lt;/LI&gt;&lt;/UL&gt;&lt;H3 id="toc-hId-292044925"&gt;&amp;nbsp;&lt;/H3&gt;&lt;H3 id="toc-hId-95531420"&gt;&lt;FONT color="#FF9900"&gt;Service Definition and Binding:&lt;/FONT&gt;&lt;/H3&gt;&lt;P&gt;Then finally, let's create and expose your &lt;STRONG&gt;RAP service definition and OData V4/V2 binding &lt;/STRONG&gt;to allow consumption by Fiori Elements apps and testing.&lt;/P&gt;&lt;H3 id="toc-hId--176213454"&gt;&amp;nbsp;&lt;/H3&gt;&lt;H3 id="toc-hId--372726959"&gt;&lt;FONT color="#FF9900"&gt;Testing the created service in Swagger:&lt;/FONT&gt;&lt;/H3&gt;&lt;P&gt;In RAP and OData, the $value segment is used to&amp;nbsp;retrieve the raw binary or textual content of a property, often for&amp;nbsp;streaming large objects like attachments.&lt;/P&gt;&lt;P&gt;In our scenario:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;When the user clicks the &lt;STRONG&gt;ConnectionLink&lt;/STRONG&gt; (which points to the RAP entity’s URL with / $value)&lt;STRONG&gt;,&lt;/STRONG&gt;&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;It triggers the RAP runtime to execute your virtual element logic,&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Returning the attachment’s raw content for download using the MIME type and filename you defined.&lt;/P&gt;&lt;P&gt;Example URL:/sap/opu/odata/sap/ZSB_SPFLIGHTSCHEDULE_V2/ZC_SpFlightSchedule(carrid='AA',connid='17')/$value&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="kishore_kumar_g_2-1752663842978.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/287259iA9D9437035E0E6EE/image-size/large?v=v2&amp;amp;px=999" role="button" title="kishore_kumar_g_2-1752663842978.png" alt="kishore_kumar_g_2-1752663842978.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Happy Coding&amp;nbsp;&lt;/EM&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;&lt;span class="lia-unicode-emoji" title=":smiling_face_with_smiling_eyes:"&gt;😊&lt;/span&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/application-development-and-automation-blog-posts/simplifying-attachment-downloads-in-rap-with-cds-views-a-step-by-step-guide/ba-p/14153893"/>
    <published>2025-08-11T12:12:53.686000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/behavior-illegal-statement-dump-technical-workarounds/ba-p/14174594</id>
    <title>BEHAVIOR_ILLEGAL_STATEMENT dump | Technical workarounds</title>
    <updated>2025-08-11T13:40:55.450000+02:00</updated>
    <author>
      <name>PranayGaroo</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2116915</uri>
    </author>
    <content>&lt;P&gt;If you're working with SAP RAP, you've probably encountered the infamous&amp;nbsp;&lt;FONT color="#FF0000"&gt;BEHAVIOR_ILLEGAL_STATEMENT&lt;/FONT&gt;&amp;nbsp;dump.&lt;/P&gt;&lt;P&gt;This dump could occur when the following statements are made in a RAP context:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;STRONG&gt;Explicit use of COMMIT WORK or ROLLBACK WORK statements&lt;/STRONG&gt;&amp;nbsp;- the transaction handling and database commit is exclusively handled by RAP&lt;/LI&gt;&lt;/OL&gt;&lt;OL&gt;&lt;LI&gt;&lt;STRONG&gt;Calling update or enqueue functions&lt;/STRONG&gt;&amp;nbsp;that bypass RAP's controlled transaction flow&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Direct database modifications&lt;/STRONG&gt;&amp;nbsp;outside of RAP's managed approach.&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Understanding the Core Challenge&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;The core challenge lies in RAP’s approach to transaction management. The RAP transactional model is built on the concept of Logical Unit of Work (LUW), which ensures data consistency and integrity by treating all operations within a transaction as a single, indivisible unit. It includes a late-save phase followed by a cleanup. RAP follows a&amp;nbsp;&lt;STRONG&gt;controlled Logical Unit of Work (LUW)&lt;/STRONG&gt;&amp;nbsp;pattern with two distinct phases:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Interaction Phase&lt;/STRONG&gt;: Data modifications are stored in a transactional buffer&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Save Sequence&lt;/STRONG&gt;: Data is validated and persisted to the database&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;On the other hand, a COMMIT WORK statement that immediately persist changes to the database. When these two approaches collide, you get runtime errors that can halt your application.&lt;/P&gt;&lt;P&gt;&lt;BR /&gt;&lt;STRONG&gt;Available Solution or Workaround&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Our goal is to call our explicit commit or any other ‘Illegal statement’ in a different task. There are four ways to do that:&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;BGPF (Background Processing Framework)&lt;/STRONG&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P class="lia-indent-padding-left-60px" style="padding-left : 60px;"&gt;SAP Documentation - : &lt;A href="https://help.sap.com/docs/abap-cloud/abap-concepts/background-processing-framework" target="_blank" rel="noopener noreferrer"&gt;Background Processing Framework | SAP Help Portal&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Parallel Processing &lt;/STRONG&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P class="lia-indent-padding-left-60px" style="padding-left : 60px;"&gt;Implementation Examples :- &lt;A href="https://software-heroes.com/en/blog/abap-cloud-parallel-processing" target="_blank" rel="noopener nofollow noreferrer"&gt;ABAP Cloud - Parallel processing&lt;/A&gt; , &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-members/two-different-types-of-parallel-processing-examples/ba-p/13247548" target="_blank"&gt;Two Different types of Parallel Processing example... - SAP Community&lt;/A&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-60px" style="padding-left : 60px;"&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Application Jobs for background Processing &lt;/STRONG&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P class="lia-indent-padding-left-60px" style="padding-left : 60px;"&gt;Implementation Examples :- &lt;A href="https://help.sap.com/docs/btp/sap-business-technology-platform/example-implementation-using-interfaces-if-apj-dt-exec-object-and-if-apj-rt-exec-object" target="_blank" rel="noopener noreferrer"&gt;Example Implementation Using Interfaces IF_APJ_DT_EXEC_OBJECT and IF_APJ_RT_EXEC_OBJECT | SAP Help Portal&lt;/A&gt; ,&lt;/P&gt;&lt;P class="lia-indent-padding-left-60px" style="padding-left : 60px;"&gt;&lt;A href="https://learning.sap.com/learning-journeys/administrating-the-sap-s-4hana-cloud-public-edition/introducing-application-jobs_cf77594e-9dd1-454b-b8d1-05079dfee508" target="_blank" rel="noopener noreferrer"&gt;Introducing Application Jobs&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;RFC Workaround (On-Premise Only)&lt;/STRONG&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P class="lia-indent-padding-left-60px" style="padding-left : 60px;"&gt;We can create a wrapper RFC FM with our logic and call that using DESTINATION 'NONE' statement. Which will be called in a different task.&lt;/P&gt;&lt;P class="lia-indent-padding-left-60px" style="padding-left : 60px;"&gt;&lt;U&gt;&lt;STRONG&gt;Note :&amp;nbsp;&lt;/STRONG&gt;&lt;/U&gt;This workaround are not supported by Cloud Environments.&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/behavior-illegal-statement-dump-technical-workarounds/ba-p/14174594"/>
    <published>2025-08-11T13:40:55.450000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/application-development-and-automation-blog-posts/sap-btp-hackathon-at-saphila-2025-celebrating-the-winners-and-innovation-in/ba-p/14172106</id>
    <title>SAP BTP Hackathon at SAPHILA 2025: Celebrating the Winners and Innovation in Action</title>
    <updated>2025-08-13T09:12:43.763000+02:00</updated>
    <author>
      <name>winklero</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/426853</uri>
    </author>
    <content>&lt;P&gt;&lt;FONT size="5" color="#3366FF"&gt;&lt;STRONG&gt;From Ideation to Demo Jam: A Journey of Collaboration&lt;/STRONG&gt;&lt;/FONT&gt;&lt;BR /&gt;&lt;FONT color="#000000"&gt;As outlined in the previous blog, the hackathon was more than just a competition, it was a journey. Eighteen teams, representing a broad cross-section of AFSUG members, embarked on an eight-week sprint, supported by SAP BTP experts and coaches. The focus was on building real-world solutions using SAP BTP components like SAP Build, SAP HANA Cloud, SAP Integration Suite and ABAP Cloud amongst other SAP BTP based Services &amp;amp; Solutions.&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;After intensive enablement and development sessions, three teams emerged as finalists and were invited to present their solutions live at SAPHILA 2025’s Demo Jam. The energy in the room was palpable as each team showcased how SAP BTP could be harnessed to solve pressing business challenges.&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#3366FF"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="winklero_9-1754393553994.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/296559i65EFF3CD8612C2A9/image-size/large?v=v2&amp;amp;px=999" role="button" title="winklero_9-1754393553994.png" alt="winklero_9-1754393553994.png" /&gt;&lt;/span&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;FONT size="5" color="#3366FF"&gt;&lt;STRONG&gt;&lt;SPAN&gt;And the Winner Is… PwC South Africa!&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#3366FF"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="winklero_0-1754393299694.jpeg" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/296543iCE5C674A6617840E/image-size/large?v=v2&amp;amp;px=999" role="button" title="winklero_0-1754393299694.jpeg" alt="winklero_0-1754393299694.jpeg" /&gt;&lt;/span&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;In a closely contested finale, the SAPHILA audience voted PwC South Africa as the overall winner for their AI-driven legal services platform “Legal Ease”.&amp;nbsp;This solution stood out for its innovative use of AI to simplify legal document processing and understanding, a pain point for many businesses and consumers alike. “Legal Ease” enables users to scan and summarize complex contracts, ask questions in natural language, and receive clear, actionable insights. The platform even supports translation into local languages and integrates with knowledge bases for related services. &lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;What impressed both the jury and the audience was not just the technical sophistication, but the clear business value: “Legal Ease” addresses real frustrations around contract transparency, billing and accessibility, with the potential to transform how legal services are delivered in Africa and beyond.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;FONT size="5" color="#3366FF"&gt;&lt;STRONG&gt;&lt;SPAN&gt;Honouring the Finalists: Debswana Diamond Company and Bell Equipment&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;Let’s not forget the other two finalists, who also delivered outstanding solutions:&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;FONT color="#000000"&gt;&lt;STRONG&gt;&lt;SPAN&gt;Debswana Diamond Company&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;tackled overtime management with an AI-powered assistant that streamlines scheduling, reduces costs and supports employee well-being.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/LI&gt;&lt;LI&gt;&lt;FONT color="#000000"&gt;&lt;STRONG&gt;&lt;SPAN&gt;Bell Equipment&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;automated shipment tracking and document processing, helping to prevent stock shortages and improve logistics efficiency.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;Both teams demonstrated the breadth of innovation possible with SAP BTP and set a high bar for future Hackathons.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#3366FF"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="winklero_2-1754393465394.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/296552i4ABBA6DEF33DF299/image-size/large?v=v2&amp;amp;px=999" role="button" title="winklero_2-1754393465394.png" alt="winklero_2-1754393465394.png" /&gt;&lt;/span&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;FONT size="5" color="#3366FF"&gt;&lt;STRONG&gt;&lt;SPAN&gt;Reflections and What’s Next&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The Hackathon’s main objective was to foster deep collaboration between SAP and its customers, giving local teams a hands-on opportunity to explore and build with SAP BTP.&amp;nbsp;The quality and diversity of solutions, especially the creative use of AI and automation, highlight the immense potential within the African SAP community.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Amanda Gibbs, CEO of AFSUG, summed it up perfectly:&lt;/SPAN&gt;&lt;/P&gt;&lt;P class="lia-align-center" style="text-align: center;"&gt;&lt;EM&gt;&lt;SPAN&gt;“It is inspiring to witness what can be achieved in just eight weeks using SAP BTP;&lt;/SPAN&gt;&lt;/EM&gt;&lt;/P&gt;&lt;P class="lia-align-center" style="text-align: center;"&gt;&lt;EM&gt;&lt;SPAN&gt;we’ve seen incredible progress and innovation.”&lt;/SPAN&gt;&lt;/EM&gt;&lt;/P&gt;&lt;P class="lia-align-center" style="text-align: center;"&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;FONT size="5" color="#3366FF"&gt;&lt;STRONG&gt;&lt;SPAN&gt;Join the Conversation&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Congratulations again to all teams who participated and especially to PwC South Africa for their winning solution! If you were inspired by the SAP BTP Hackathon or have thoughts on how SAP BTP can drive innovation in your organization, I’d love to hear from you in the comments.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#3366FF"&gt;&lt;STRONG&gt;And if you missed out this year,&amp;nbsp;&lt;/STRONG&gt;&lt;STRONG&gt;keep an eye out for future SAP BTP Hackathons - this is just the beginning!&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="winklero_3-1754393500871.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/296553iB355DF2E2218111A/image-size/medium?v=v2&amp;amp;px=400" role="button" title="winklero_3-1754393500871.png" alt="winklero_3-1754393500871.png" /&gt;&lt;/span&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="winklero_4-1754393507094.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/296554i19D3E337CCE34F01/image-size/medium?v=v2&amp;amp;px=400" role="button" title="winklero_4-1754393507094.png" alt="winklero_4-1754393507094.png" /&gt;&lt;/span&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="winklero_5-1754393513173.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/296555i1F8DCACD879B51EE/image-size/medium?v=v2&amp;amp;px=400" role="button" title="winklero_5-1754393513173.png" alt="winklero_5-1754393513173.png" /&gt;&lt;/span&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="winklero_8-1754393531840.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/296558iDD76EEFFC71232AF/image-size/medium?v=v2&amp;amp;px=400" role="button" title="winklero_8-1754393531840.png" alt="winklero_8-1754393531840.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="winklero_7-1754393525555.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/296557iBED54F1BAA1636EB/image-size/medium?v=v2&amp;amp;px=400" role="button" title="winklero_7-1754393525555.png" alt="winklero_7-1754393525555.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/application-development-and-automation-blog-posts/sap-btp-hackathon-at-saphila-2025-celebrating-the-winners-and-innovation-in/ba-p/14172106"/>
    <published>2025-08-13T09:12:43.763000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/how-to-find-cds-views-in-s-4hana-public-cloud-edition/ba-p/14181383</id>
    <title>How to find CDS views in S/4HANA Public Cloud Edition</title>
    <updated>2025-08-15T06:27:25.148000+02:00</updated>
    <author>
      <name>MikeDoyle</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/13892</uri>
    </author>
    <content>&lt;H3 id="toc-hId-1866859110"&gt;TLDR&lt;/H3&gt;&lt;P&gt;With 3-tier S/4HANA Public Cloud Edition you can now connect your ABAP Developer Tools (ADT, in Eclipse) directly to the system.&amp;nbsp; You can browse development objects including CDS views. Creating an ABAP Repository Tree allows you to browse by component and release status, to find released views to use in your extensions&lt;/P&gt;&lt;H3 id="toc-hId-1670345605"&gt;Remind me, what is&amp;nbsp;S/4HANA Public Cloud Edition?&lt;/H3&gt;&lt;P&gt;S/4HANA Public Cloud Edition (or Public CE) is SAP's &lt;A href="https://csrc.nist.gov/glossary/term/software_as_a_service" target="_blank" rel="noopener nofollow noreferrer"&gt;SaaS&lt;/A&gt; ERP. Formerly known as S/4HANA Cloud, and as S/4HANA Public Cloud, this flavour of S/4 emphasises a tight fit to standard business processes.&amp;nbsp; The solution is hosted and managed by SAP. Only clean-core extensions are possible and upgrades happen according to a published schedule&lt;/P&gt;&lt;H3 id="toc-hId-1473832100"&gt;Why does&amp;nbsp;S/4HANA Public Cloud Edition matter?&lt;/H3&gt;&lt;P&gt;Whilst the largest customers tend to draw most of the limelight in the SAP world, there are only so many of them.&amp;nbsp; As you widen your gaze to include progressively smaller and smaller customers their number increases more than proportionately.&amp;nbsp; In other words there are &lt;EM&gt;a lot&lt;/EM&gt; more companies with 10,000 employees that there are with 100,000 employees.&amp;nbsp; There are a &lt;EM&gt;heck of a lot&lt;/EM&gt; more companies with 1000 employees that there are with 10,000. This means that the total market is huge, even if each individual subscription is smaller&lt;/P&gt;&lt;P&gt;Ceteris paribus, these smaller customers are more likely to go for Public CE, because it can be more cost effective for them.&amp;nbsp; Indeed the inability to perform 'dirty' extensions &amp;amp; enhancements, and the inability to stay on a outdated release can be seen as &lt;EM&gt;advantages&lt;/EM&gt; of Public CE.&amp;nbsp; SAP's vision is that over time more and more customers will switch to Public CE, some after 'cleaning up' their legacy enhancements.&amp;nbsp; They hope that, over time, larger and larger customers will sign up&lt;/P&gt;&lt;H3 id="toc-hId-1277318595"&gt;How can&amp;nbsp;we extend S/4HANA Public Cloud Edition?&lt;/H3&gt;&lt;P&gt;Whilst a fit to standard processes is the goal, Public CE &lt;A href="https://learning.sap.com/learning-journeys/practicing-clean-core-extensibility-for-sap-s-4hana-cloud" target="_blank" rel="noopener noreferrer"&gt;can be extended&lt;/A&gt; and enhanced if needed.&amp;nbsp; There might be a small variation to fit a competitive advantage that that particular customer has, their 'special sauce' if you like.&amp;nbsp; Historically these extensions could be categorised as&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;P&gt;On-stack key-user extensions&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Side-by-side developer-built extensions on BTP&lt;/P&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;To support the latter type we expose data via the SAP-standard &lt;A href="https://api.sap.com/products/SAPS4HANACloud/apis/all" target="_blank" rel="noopener noreferrer"&gt;published APIs&lt;/A&gt;, by creating custom CDS views or by creating custom business objects with a back-end service enabled. Events can also trigger extensions on BTP&lt;/P&gt;&lt;H3 id="toc-hId-1080805090"&gt;Why are&amp;nbsp;&lt;EM&gt;released&lt;/EM&gt; views precious?&lt;/H3&gt;&lt;P&gt;To expose &lt;EM&gt;standard&lt;/EM&gt; data that isn't part of a published API we must (if 2-tier) use the custom CDS view option. We can only use &lt;EM&gt;released&lt;/EM&gt; views as sources, and only a fraction of views are released.&amp;nbsp; Why is that?&amp;nbsp; Well, releasing a view is a big deal for SAP because it represents a promise to keep that view available and up to date.&amp;nbsp; If this wasn't the case our extensions could break every upgrade cycle, as standard views or fields on standard views were removed.&amp;nbsp; This would limit the viability of Public CE altogether&amp;nbsp;&lt;/P&gt;&lt;P&gt;Hence finding released views with the right data is an important part of extension design.&amp;nbsp; Happily, that task is getting easier, with the increased prevalence of the 3-tier landscape with Public CE&lt;/P&gt;&lt;H3 id="toc-hId-884291585"&gt;Why are 3 tiers better than 2?&lt;/H3&gt;&lt;P&gt;When my first customer went live with Public CE in 2019 all setups had Test and Prod environments only.&amp;nbsp; Having a background at big on-prem customers, with their 5 or 6 tier landscapes (e.g. Sandbox / Dev / Test / Pre-Prod / Prod / Training) I found this pretty scary!&lt;/P&gt;&lt;P&gt;Now all new Public CE customers get &lt;A href="https://blog.sap-press.com/the-sap-s4hana-cloud-three-system-landscape" target="_blank" rel="noopener nofollow noreferrer"&gt;3 tiers&lt;/A&gt; ( Dev / Test / Prod ) and existing customers are being migrated.&amp;nbsp; The Dev environment has 2 tenants, for development and for customizing. Under the hood, these represent client 80 and client 100. This facilitates the introduction of a new enhancement technique.&amp;nbsp; Using the embedded ABAP Cloud environment we can use RAP (the &lt;A href="https://help.sap.com/docs/abap-cloud/abap-rap/abap-restful-application-programming-model?version=s4hana_cloud" target="_blank" rel="noopener noreferrer"&gt;ABAP Restful Programming Model&lt;/A&gt;) to build OData services. This gives far greater flexibility that we get &lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('F1866A')/S35" target="_blank" rel="noopener nofollow noreferrer"&gt;building custom CDS views in a Fiori app&lt;/A&gt; (as a 'key-user')&lt;/P&gt;&lt;P&gt;This on-stack extensibility was known for a while as&amp;nbsp;&lt;EM&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/embedded-steampunk-some-more-details-for-abap-developers/ba-p/13532714" target="_blank"&gt;Embedded Steampunk&lt;/A&gt;&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;Of course, finding&amp;nbsp;&lt;EM&gt;released &lt;/EM&gt;CDS views is still important, because ABAP cloud will only allow us to use released CDS views as data sources. So what's the best way to find them?&lt;/P&gt;&lt;H3 id="toc-hId-687778080"&gt;What's the best way to find released CDS views in a 3-tier Public CE landscape?&lt;/H3&gt;&lt;P&gt;Once you've &lt;A href="https://help.sap.com/docs/SAP_S4HANA_CLOUD/6aa39f1ac05441e5a23f484f31e477e7/4b962c243a3342189f8af460cc444883.html?locale=en-US" target="_blank" rel="noopener noreferrer"&gt;connected&lt;/A&gt; your &lt;A href="https://tools.hana.ondemand.com/#abap" target="_blank" rel="noopener nofollow noreferrer"&gt;ABAP Development Tools&lt;/A&gt; to your S/4HANA Public Cloud Edition system (development tenant/client 80) you can browse all of the development objects.&amp;nbsp; This is something that just wasn't possible before, because we were limited to what we could see in various Fiori apps&lt;/P&gt;&lt;P&gt;If you try to browse all of the CDS views, you will likely hit an issue as there are just too many to be rendered.&amp;nbsp; I recommend instead building your own ABAP Repository Tree (via File-&amp;gt;New).&lt;/P&gt;&lt;P&gt;On the first screen (of the repo tree wizard) select Core Data Services&lt;/P&gt;&lt;H3 id="toc-hId-491264575"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-15 at 12.24.56 pm.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/301259iCB813189376FFE23/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-15 at 12.24.56 pm.png" alt="Screenshot 2025-08-15 at 12.24.56 pm.png" /&gt;&lt;/span&gt;&lt;/H3&gt;&lt;P&gt;On the next screen, in the&amp;nbsp;&lt;EM&gt;Selected Tree Levels,&lt;/EM&gt;&amp;nbsp;remove package from level 3, and replace it with &lt;EM&gt;Application Component&lt;/EM&gt;.&amp;nbsp; Then select drag the &lt;EM&gt;API State&lt;/EM&gt; level over to level 4.&lt;/P&gt;&lt;H3 id="toc-hId-294751070"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-15 at 1.10.24 pm.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/301263iD8B6EF4DC1120DB7/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-15 at 1.10.24 pm.png" alt="Screenshot 2025-08-15 at 1.10.24 pm.png" /&gt;&lt;/span&gt;&lt;/H3&gt;&lt;P&gt;Click Finish. Now, in the tree, you can open &lt;EM&gt;Core Data Services&lt;/EM&gt;, &lt;EM&gt;Data Definitions&lt;/EM&gt; and then the component of your choice.&amp;nbsp; The released views are found under &lt;EM&gt;USE_IN_CLOUD_DEVELOPMENT&lt;/EM&gt;. You can open the individual view to see the definition.&lt;/P&gt;&lt;H3 id="toc-hId-98237565"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-15 at 1.15.25 pm.png" style="width: 289px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/301264i0E1F277A115AF0B2/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-15 at 1.15.25 pm.png" alt="Screenshot 2025-08-15 at 1.15.25 pm.png" /&gt;&lt;/span&gt;&lt;/H3&gt;&lt;P&gt;You can confirm that the view is released by considering the &lt;EM&gt;API State&lt;/EM&gt; tab in the properties, on the bottom right of your Eclipse screen. &lt;EM&gt;C1 Use System Internally&lt;/EM&gt; is the key part.&amp;nbsp; If it is &lt;EM&gt;Released&lt;/EM&gt; you should be able to use this view in a custom CDS view or in RAP development&lt;/P&gt;&lt;H3 id="toc-hId--173507309"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-15 at 1.21.02 pm.png" style="width: 333px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/301265i11086DA4417CA3A0/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-15 at 1.21.02 pm.png" alt="Screenshot 2025-08-15 at 1.21.02 pm.png" /&gt;&lt;/span&gt;&lt;/H3&gt;&lt;P&gt;Because you are connected to your dev system you can see the release status of every view which is available on your current release&lt;/P&gt;&lt;H3 id="toc-hId--370020814"&gt;What do you think?&lt;/H3&gt;&lt;P&gt;Are you an expert on extensions already?&amp;nbsp; Or are you surprised at how much scope there is for extension on S/4HANA Public Cloud Edition?&amp;nbsp; Extensions certainly got a little easier, now that we can see every view available. Let me know in the comments what you think, and if you have any tips for finding views&lt;/P&gt;&lt;P&gt;I would love to find a good way to find CDS views which use a given table as a source (directly or indirectly).&amp;nbsp; This &lt;A href="https://community.sap.com/t5/enterprise-resource-planning-q-a/unreleased-cds-views/qaq-p/12675263" target="_blank"&gt;can be done in the View Browser app&lt;/A&gt;, but we &lt;A href="https://me.sap.com/notes/3439701" target="_blank" rel="noopener noreferrer"&gt;won't see all of the views&lt;/A&gt;. Perhaps in future SAP could &lt;A href="https://me.sap.com/notes/28022" target="_blank" rel="noopener noreferrer"&gt;support using the where-used feature&lt;/A&gt; in ADT&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/how-to-find-cds-views-in-s-4hana-public-cloud-edition/ba-p/14181383"/>
    <published>2025-08-15T06:27:25.148000+02:00</published>
  </entry>
</feed>
