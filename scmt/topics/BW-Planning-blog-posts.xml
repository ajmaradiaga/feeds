<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>https://raw.githubusercontent.com/ajmaradiaga/feeds/main/scmt/topics/BW-Planning-blog-posts.xml</id>
  <title>SAP Community - BW Planning</title>
  <updated>2025-07-30T23:10:14.162266+00:00</updated>
  <link href="https://community.sap.com/t5/c-khhcw49343/BW Planning/pd-p/369280904654660339247670897548678" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator>
  <subtitle>BW Planning blog posts in SAP Community</subtitle>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/most-common-issues-with-analysis-for-office-2-8-sp6/ba-p/13517861</id>
    <title>Most common issues with Analysis for Office 2.8 SP6</title>
    <updated>2021-05-20T19:26:14+02:00</updated>
    <author>
      <name>pascaltopolewski</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/491759</uri>
    </author>
    <content>&lt;SPAN style="color: #000000"&gt;Dear SAP Community,&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="color: #000000"&gt;we have rolled out Analysis for Office 2.8 SP6 to a wider group of users. While doing that we gained some experience on the behavior and issues that occured while rolling out this new version. I have collected all issues and the resolution steps in order to help you in case you are facing similar issues. One important remark: I can not judge whether there are any dependencies on other Excel Add-ins or applications that you are using.&lt;/SPAN&gt;&lt;BR /&gt;
&lt;H2 id="toc-hId-958508154"&gt;General:&lt;/H2&gt;&lt;BR /&gt;
&lt;STRONG&gt;&lt;SPAN style="font-size: 13pt;font-family: Arial, sans-serif;color: #3366ff"&gt;Do I need to uninstall my current Analysis for Office? &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif;color: #000000"&gt;It is not required to uninstall your current version of AfO but we have observed that some users where facing issues after directly upgrading with uninstalling the current AfO instance. My suggestion would be to install the latest version first and see if everything is working as excpected.&amp;nbsp;&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;STRONG&gt;&lt;SPAN style="font-size: 13pt;font-family: Arial, sans-serif;color: #3366ff"&gt;Do I have to do anything after the Update?&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif;color: #000000"&gt;Please clear your AfO Cache after the updating by going the following path: &lt;EM&gt;Open AfO&lt;/EM&gt; → &lt;EM&gt;File&lt;/EM&gt; → &lt;EM&gt;Customize Analysis&lt;/EM&gt; → &lt;EM&gt;Options&lt;/EM&gt; → &lt;EM&gt;Platform&lt;/EM&gt; → &lt;EM&gt;Clear Cache&lt;/EM&gt;. Note: there won't be any message coming up after pressing the button. Clearing the cache can resolve the following issues: numbers are displayed incorrectly, functions are not getting executed or the the formatting is disrupted. You may also deactivate the workbook caching.&amp;nbsp;&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: 'Arial',sans-serif;color: #666666"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/03/cache.png" /&gt;&lt;/SPAN&gt;&lt;BR /&gt;
&lt;H2 id="toc-hId-761994649"&gt;Specific error messages:&lt;SPAN style="font-size: 10.5pt;font-family: 'Arial',sans-serif;color: #666666"&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/H2&gt;&lt;BR /&gt;
&lt;STRONG&gt;&lt;SPAN style="font-size: 13pt;font-family: Arial, sans-serif;color: #3366ff"&gt;I am getting a message saying "Unsecure connection". What do I have to do? &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif;color: #000000"&gt;Don't worry, in case your connections have been secure before and if the connections did not change, then this will not be a security problem. If you do not want to receive this message any more you can turn it off by doing the following: open &lt;I&gt;Analysis for Office&lt;/I&gt; → &lt;I&gt;File&lt;/I&gt; → &lt;I&gt;Analysis&lt;/I&gt; → &lt;I&gt;Customize Analysis&lt;/I&gt; → &lt;I&gt;Technical Configuration&lt;/I&gt; → change the setting &lt;I&gt;AllowInsecureConnections&lt;/I&gt; to „yes“.&amp;nbsp;&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;STRONG&gt;&lt;SPAN style="font-size: 13pt;font-family: Arial, sans-serif;color: #3366ff"&gt;I am getting a message saying "Couldn't establish a secure connection". What do I have to do?&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif;color: #000000"&gt;This message comes up when you try to open a file from a local drive which has been saved with an older version of Analysis for Office and the name of the system connection has changed. In order to resolve this you have to open the local file and manually establish a connection by going to &lt;I&gt;Insert Data Source&lt;/I&gt; &lt;I&gt;Define → Select source for Analysis &lt;/I&gt;→ And then connect to your preferred system&lt;I&gt;. &lt;/I&gt;After that you can open and refresh the workbook and then you have to update the settings by going to &lt;I&gt;Analysis for Office&lt;/I&gt; → &lt;I&gt;File&lt;/I&gt; → &lt;I&gt;Analysis&lt;/I&gt; → &lt;I&gt;Customize Analysis&lt;/I&gt; → &lt;I&gt;Technical Configuration&lt;/I&gt; → Tick the box for &lt;I&gt;ForceRefreshConnection&lt;/I&gt; and save the workbook. After that you should be able to open the local file without any problems.&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="color: #000000"&gt;&lt;STRONG&gt;Edit:&lt;/STRONG&gt; This message will occur for different reasons. You can turn this off by starting AfO as an Administrator (Right click on the application icon and select "Run as Administrator" from the context menu). Go to &lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif"&gt;&lt;I&gt;Analysis for Office&lt;/I&gt; → &lt;I&gt;File&lt;/I&gt; → &lt;I&gt;Analysis&lt;/I&gt; → &lt;I&gt;Customize Analysis&lt;/I&gt; → &lt;I&gt;Technical Configuration&lt;/I&gt; → Untick the box for EnableWarningForFailedSnc. After restarting AfO the message should not show up anymore.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;STRONG&gt;&lt;SPAN style="font-size: 13pt;font-family: Arial, sans-serif;color: #3366ff"&gt;I am getting a message saying "An error occurred while trying to apply the default User Interface Customization profile". What do I have to do?&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif"&gt;1. uninstall AfO 2.8&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif"&gt;2. remove manually the outdated EPMAddin folder under C:\Program Files (x86)\SAP BusinessObjects\Office AddIn\Plugins\EPMAddin&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif"&gt;3. reinstall AfO 2.8&lt;/SPAN&gt;&lt;BR /&gt;
&lt;H3 id="toc-hId-694563863"&gt;&lt;STRONG&gt;&lt;SPAN style="color: #3366ff"&gt;I am getting a message saying: "Error details: Could not load file or assembly 'FPMXLClient.Common, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null' or one of its dependencies. The system cannof find the file specified."&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/H3&gt;&lt;BR /&gt;
&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/03/afo-issue.png" /&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif"&gt;If you haven't upgraded yet to AfO 2.8, &lt;B&gt;please uninstall all previous versions of Analysis for Office&lt;/B&gt;. By doing this you can avoid above error message. In addition you should also &lt;B&gt;manually remove the outdated EPM Addin folder&lt;/B&gt; under&lt;I&gt; C:\Program Files (x86)\SAP BusinessObjects\Office AddIn\Plugins\EPMAddin. &lt;/I&gt;Keep in mind that this might remove your Favorites from the SAP Logon Pad and you might want to save them before.&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif"&gt;If you are already getting this error message, please uninstall all previous version of Analysis for Office and check if the issue got resolved. If the error message remains, please also re-install AfO 2.8 SP6. After that the issue should be resolved.&lt;/SPAN&gt;&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif"&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/03/afo-issue-2.png" /&gt;&lt;BR /&gt;
&lt;H3 id="toc-hId-498050358"&gt;&lt;STRONG&gt;&lt;SPAN style="font-size: 13pt;font-family: Arial, sans-serif;color: #3366ff"&gt;After the upgrade AfO is glitching. Eg when using the scrollbar the dropdown menus are randomly opening. What can I do?&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/H3&gt;&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif"&gt;This is issue is mainly occuring when using a secondary monitor. When AfO is opened on the primary monitor there should not be any issue. Please check the following settings.&lt;/SPAN&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/03/MicrosoftTeams-image-8-3.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;H3 id="toc-hId-301536853"&gt;&lt;STRONG&gt;&lt;SPAN style="color: #3366ff"&gt;I am getting a message saying: "The given assembly name or codebase was invalid. (Exception from HRESULT: 0x80131047)&lt;/SPAN&gt;&lt;SPAN style="font-size: 13pt;font-family: Arial, sans-serif;color: #3366ff"&gt;"&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/H3&gt;&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif"&gt;As per SAP Note 2876424 we can try the following:&lt;/SPAN&gt;&lt;BR /&gt;
&lt;OL&gt;&lt;BR /&gt;
 	&lt;LI&gt;Uninstall Analysis for Office&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Afterwards check if the folder "C:\Program Files (x86)\SAP BusinessObjects\Office AddIn" is empty&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Then remove the node "HKEY_CURRENT_USER\Software\Microsoft\Office\Excel\Addins\SapExcelAddIn" via registry settings (i.e. regedit)&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Reinstall AO and check if the issue is solved.&lt;/LI&gt;&lt;BR /&gt;
&lt;/OL&gt;&lt;BR /&gt;
&lt;H3 id="toc-hId-105023348"&gt;&lt;STRONG&gt;&lt;SPAN style="color: #3366ff"&gt;I am getting a message saying: "Downloading file:///C:/Program Files (x86)/SAP BusinessObjects/Office AddIn/&lt;/SPAN&gt;&lt;SPAN style="font-size: 13pt;font-family: Arial, sans-serif;color: #3366ff"&gt;SapExcelAddIn.vsto did not succeed"&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/H3&gt;&lt;BR /&gt;
&lt;SPAN style="font-size: 10.5pt;font-family: Arial, sans-serif"&gt;Please check if the SapExcelAddin.vsto file is available under C:/Program Files (x86)/SAP BusinessObjects/Office AddIn/. If the folder is empty, it might be an indicator that the installation did not work properly. In this case we would advise you to check this with your local IT Team as there might be an issue with your machine or there might be some dependency with older installations of AfO.&lt;/SPAN&gt;&lt;BR /&gt;
&lt;P class="x" style="margin: 0cm;line-height: 16.5pt"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/05/error-2.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;H3 id="toc-hId--91490157"&gt;Summary:&lt;/H3&gt;&lt;BR /&gt;
As you can see in the above list, there were a couple of issues that we were facing when distributing the latest AfO Version to our user community. We were either able to resolve these issues on our own or by reaching out the SAP Support. So i hope that this list will help you in case you are facing similar issues from your end. Please feel free to add any further issues that you are facing or any other tips that would be helpful for the SAP Community.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;Best regards&lt;BR /&gt;
Pascal&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/most-common-issues-with-analysis-for-office-2-8-sp6/ba-p/13517861"/>
    <published>2021-05-20T19:26:14+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/how-to-collect-tvarvc-table-entries-in-transport-request/ba-p/13499811</id>
    <title>How to Collect TVARVC Table Entries in Transport Request</title>
    <updated>2021-11-16T08:09:33+01:00</updated>
    <author>
      <name>siddhesh_kadam</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/775176</uri>
    </author>
    <content>In this Blog post we will understand how can we capture the Entries within TVARVC Table in a Transport Request for moving it across systems.&lt;BR /&gt;
&lt;BR /&gt;
Before we proceed with the steps lets understand the Purpose of TVARVC Table below :&lt;BR /&gt;
&lt;BR /&gt;
&lt;STRONG&gt;TVARVC :&lt;BR /&gt;
&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
TVARVC is&amp;nbsp;&lt;B&gt;standard table given by SAP to store the data under variants&lt;/B&gt;. we can put the values in TVARVC table to avoid hardcoding and/or creation of custom tables.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Now that we have got a bit of overview of the purpose of TVARVC Table existence , lets try to understand how do we move the entries we make within this table across different system (Dev &amp;gt; Quality &amp;gt; Production)&lt;BR /&gt;
&lt;BR /&gt;
Lets try to understand it via Steps below :&lt;BR /&gt;
&lt;OL&gt;&lt;BR /&gt;
 	&lt;LI&gt;Go to SE16 Tcode , and give the Table name which is TVARVC in our case.&lt;/LI&gt;&lt;BR /&gt;
&lt;/OL&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/11/se16.png" height="170" width="504" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
2. Click Enter and the Give the Values you want to Capture in TR in Variable Name Field as in the following Snapshot and Click Execute.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/11/Entry-within-TVARVC.png" height="400" width="511" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
3. Once you are within the Table ,&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;a. Select the Entries that you want to Capture within Transport request.&lt;/P&gt;&lt;BR /&gt;
b. Once you are done selecting entries ,&amp;nbsp; Click More Option from Menu Bar &amp;gt; Table Entry &amp;gt; Transport Entries&lt;BR /&gt;
&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/11/Selecting-Entries.png" height="192" width="524" /&gt;&lt;BR /&gt;
&lt;BR /&gt;
c. Once you click on Transport Entries , It will give you a pop-up to Collect the entries in Transport request , Select the already existing TR or Create a new TR as per your&amp;nbsp; requirement.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/11/TR-Prompt.png" height="246" width="421" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
4. Once you select the Transport Request for capturing Entries , Your entries are captured within that particular TR which you can use for moving the entries across systems.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&lt;STRONG&gt;Conclusion&lt;/STRONG&gt;:&lt;BR /&gt;
&lt;BR /&gt;
By Following the above steps , you can capture the entries you make in TVARVC for your requirements and move it across systems this enables direct capturing of entries from within TVARVC table.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
— Sources of the pictures are screenshots I have taken from SAP and no image is taken from the internet.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Hope the above Information added a bit of value to your time and knowledge .&lt;BR /&gt;
&lt;BR /&gt;
If you enjoyed reading it do give it a Like and would be happy to read your feedback in the comments section.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/how-to-collect-tvarvc-table-entries-in-transport-request/ba-p/13499811"/>
    <published>2021-11-16T08:09:33+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/how-to-process-multiple-files-from-application-server-via-abap-program/ba-p/13539286</id>
    <title>How to Process Multiple Files from Application Server via ABAP Program</title>
    <updated>2021-12-28T20:09:53+01:00</updated>
    <author>
      <name>siddhesh_kadam</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/775176</uri>
    </author>
    <content>In this Blog Post we will understand how to process multiple files of certain File Masks from Application Server (AL11) via ABAP Program.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Lets try to understand it via following steps :&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="text-decoration: underline"&gt;Input to our Executable Program will be following 3 parameters:&lt;/SPAN&gt;&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;File Mask for processing Files from Server (e.g. ABC* , files starting with ABC*)&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Directory path from Application Server where File are stored.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Process Chain to execute that consists of steps for Processing this Files.&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
&lt;OL&gt;&lt;BR /&gt;
 	&lt;LI&gt;In the next step, we will get all the Files from Application Server using Function&amp;nbsp; "&lt;STRONG&gt;EPS2_GET_DIRECTORY_LISTING&lt;/STRONG&gt;" and we will pass directory path and File mask we passed as an Input to this Function Module and the Function will return a table with the details related to the files fetched from Application Server.&lt;/LI&gt;&lt;BR /&gt;
&lt;/OL&gt;&lt;BR /&gt;
&lt;PRE class="language-abap"&gt;&lt;CODE&gt;CALL FUNCTION 'EPS2_GET_DIRECTORY_LISTING' &lt;BR /&gt;
EXPORTING&lt;BR /&gt;
&lt;BR /&gt;
iv_dir_name = lv_iv_dir_name&lt;BR /&gt;
file_mask   = lv_file_mask&lt;BR /&gt;
&lt;BR /&gt;
TABLES&lt;BR /&gt;
dir_list = lt_file_tab&lt;BR /&gt;
&lt;BR /&gt;
EXCEPTIONS&lt;BR /&gt;
&lt;BR /&gt;
invalid_eps_subdir      = 1&lt;BR /&gt;
sapgparam_failed        = 2&lt;BR /&gt;
build_directory_failed  = 3&lt;BR /&gt;
no_authorization        = 4&lt;BR /&gt;
read_directory_failed   = 5&lt;BR /&gt;
too_many_read_errors    = 6&lt;BR /&gt;
empty_directory_list    = 7&lt;BR /&gt;
OTHERS                  = 8.&lt;BR /&gt;
&lt;BR /&gt;
IF sy-subrc = 0.&lt;BR /&gt;
"sorting by name to get the oldest file&lt;BR /&gt;
SORT lt_file_tab BY name.&lt;BR /&gt;
ENDIF.&lt;BR /&gt;
&lt;/CODE&gt;&lt;/PRE&gt;&lt;BR /&gt;
2. As a next step, we wanted the count of Files fetched from server with same File Mask we passed, to achieve this we will make use of Internal table where we have passed data related to Files fetched from Server.&lt;BR /&gt;
&lt;PRE class="language-abap"&gt;&lt;CODE&gt;*Code to get count of Files&lt;BR /&gt;
DESCRIBE TABLE lt_file_tab LINES files_count.&lt;BR /&gt;
&lt;/CODE&gt;&lt;/PRE&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
3. Now since we have the count of files fetched for processing, we will execute a DO Loop based on the the count of files fetched and Call Function "&lt;STRONG&gt;RSPC_API_CHAIN_START&lt;/STRONG&gt;" for executing process chain we passed as a parameter to the program and also which contains the steps that Processes the Files fetched.&lt;BR /&gt;
&lt;PRE class="language-abap"&gt;&lt;CODE&gt;*Code to loop through Files Count and Executing Process chain correspondingly&lt;BR /&gt;
&lt;BR /&gt;
IF files_count &amp;gt;= 1.&lt;BR /&gt;
&lt;BR /&gt;
DO files_count TIMES.&lt;BR /&gt;
&lt;BR /&gt;
CALL FUNCTION 'RSPC API CHAIN START'&lt;BR /&gt;
EXPORTING&lt;BR /&gt;
i_chain  = p_pchain&lt;BR /&gt;
&lt;BR /&gt;
IMPORTING&lt;BR /&gt;
e_loqid = lv_logid.&lt;BR /&gt;
&lt;/CODE&gt;&lt;/PRE&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
4. Once process chain is executed in above step within same DO loop execution , we will check the status of Process chain before beginning the next iteration of DO Loop by calling Function "&lt;STRONG&gt;RSPC_API_CHAIN_GET_STATUS&lt;/STRONG&gt;" and passing process chain name and log id of the Process chain run which we will get as a output from previous function call of "&lt;STRONG&gt;RSPC_API_CHAIN_START&lt;/STRONG&gt;".&lt;BR /&gt;
&lt;PRE class="language-abap"&gt;&lt;CODE&gt;IF sy-subrc &amp;lt;&amp;gt; 0.&lt;BR /&gt;
ELSE.&lt;BR /&gt;
&lt;BR /&gt;
  DO.&lt;BR /&gt;
    WAIT UP TO 2 SECONDS.&lt;BR /&gt;
&lt;BR /&gt;
    CALL FUNCTION ‘RSPC_API_CHAIN_GET_STATUS‘&lt;BR /&gt;
    EXPORTING&lt;BR /&gt;
      i_chain = p_pchain&lt;BR /&gt;
      i_logid = lv_logid&lt;BR /&gt;
&lt;BR /&gt;
    IMPORTING&lt;BR /&gt;
      e_status = lv_status.&lt;BR /&gt;
&lt;BR /&gt;
    IF lv_status = 'G' OR lv_status = 'R'&lt;BR /&gt;
      EXIT.&lt;BR /&gt;
    ENDIF.&lt;BR /&gt;
  ENDDO.&lt;BR /&gt;
    IF lv_status = ‘R'.&lt;BR /&gt;
      MESSAGE ‘File has errors' TYPE "E”&lt;BR /&gt;
      EXIT.&lt;BR /&gt;
    ENDIF.&lt;BR /&gt;
ENDIF.&lt;BR /&gt;
ENDDO.&lt;BR /&gt;
&lt;/CODE&gt;&lt;/PRE&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
5. Once, we get status of Process chain from previous function call of "&lt;STRONG&gt;RSPC_API_CHAIN_GET_STATUS&lt;/STRONG&gt;" if its Green or Red we will exit that particular Iteration of DO Loop to process next file ( In this particular scenario , Process chain has step to move the file to different folders based on the execution status of DTP)&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&lt;STRONG&gt;Conclusion :&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
By following the Steps above, we can process multiple files from Application server with same file masks by harnessing the use of Standard Functions from SAP.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
— Source of the Code I have taken from my SAP system and no code is taken from the internet.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Hope the above Information added a bit of value to your time and knowledge .&lt;BR /&gt;
&lt;BR /&gt;
If you enjoyed reading it do give it a Like and would be happy to read your feedback in the comments section.</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/how-to-process-multiple-files-from-application-server-via-abap-program/ba-p/13539286"/>
    <published>2021-12-28T20:09:53+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/how-to-recover-objects-not-visible-within-infoarea/ba-p/13541917</id>
    <title>How to Recover Objects not visible within InfoArea</title>
    <updated>2021-12-31T09:20:53+01:00</updated>
    <author>
      <name>siddhesh_kadam</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/775176</uri>
    </author>
    <content>In this Blog Post we will understand how to handle a situation when Objects are not visible within InfoArea.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="text-decoration: underline"&gt;&lt;STRONG&gt;Problem Statement :&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
Often when there are Role level and authorization related Changes from Basis or Security Team on User ID, User's might not be able to see the Modelling Objects and Query related Elements within the InfoArea and it creates a kind of confusion when no object is visible to work upon which used to exists before.&lt;BR /&gt;
&lt;BR /&gt;
This issue often occurs due to Shared Buffer that exists on Application Server.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Lets try to Understand how we can resolve this Issue.&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="text-decoration: underline"&gt;&lt;STRONG&gt;Solution&lt;/STRONG&gt;&lt;/SPAN&gt; :&lt;BR /&gt;
&lt;OL&gt;&lt;BR /&gt;
 	&lt;LI&gt;Go to T-Code : &lt;STRONG&gt;RSOSM&lt;/STRONG&gt;, which is often used for BW Search for SAP HANA Maintenance.&lt;/LI&gt;&lt;BR /&gt;
&lt;/OL&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/12/RSOSM.png" height="344" width="461" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
2.&amp;nbsp; You will get the above Screen , Scroll to the bottom of the screen and click on "&lt;STRONG&gt;Configure BW Search&lt;/STRONG&gt;" , You will be presented with the below Screen.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/12/configure_bw_search.png" height="321" width="505" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
3. Once you are within "&lt;STRONG&gt;Configure BW Search&lt;/STRONG&gt;" Section, You can see the status of your Shared Buffer as "&lt;STRONG&gt;Shared Buffer is Filled&lt;/STRONG&gt;" and a Delete Icon besides that Status.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
4. Click on that Delete Icon , it will delete your Shared Buffer and the Status will be changed to "&lt;STRONG&gt;Shared Buffer is not filled&lt;/STRONG&gt;" as below.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2021/12/Pic3.png" height="113" width="508" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
5. Now , go back to your InfoArea and hit Refresh , You will be able to see all your Modelling Objects and Query related Elements back within InfoArea.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="text-decoration: underline"&gt;&lt;STRONG&gt;Conclusion&lt;/STRONG&gt;&lt;/SPAN&gt;:&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
By Following the above steps you will be able to clear up your shared buffer and able to see the missing Objects back within your InfoArea.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
— Sources of the pictures are screenshots I have taken from SAP system and no image is taken from the internet.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Hope the above Information added a bit of value to your time and knowledge .&lt;BR /&gt;
&lt;BR /&gt;
If you enjoyed reading it do give it a Like and would be happy to read your feedback in the comments section.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/how-to-recover-objects-not-visible-within-infoarea/ba-p/13541917"/>
    <published>2021-12-31T09:20:53+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/end-of-bi-ip-what-s-next-a-viewpoint-on-the-sap-planning-portfolio-1/ba-p/13543266</id>
    <title>End of BI-IP – What‘s next? A viewpoint on the SAP Planning Portfolio 1</title>
    <updated>2022-06-04T19:30:27+02:00</updated>
    <author>
      <name>fkatzdobler</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/488307</uri>
    </author>
    <content>&lt;STRONG&gt;Introduction&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
The SAP Portfolio for planning is changing. The system landscape for reporting and planning is enhanced by SAP Analytics Cloud (SAC). Or maybe you are in the middle of a S/4 HANA project or a BW/4 project is going on.&lt;BR /&gt;
However your current planning system landscape looks like, chances are high that you will be impacted by a SAC, S/4 or BW/4 project.&lt;BR /&gt;
&lt;BR /&gt;
The aim of this blog is to help and guide you in case you need answers on how your planning strategy should look like.&lt;BR /&gt;
&lt;BR /&gt;
In this part the approaches, the criteria on how we want to compare, the applications and an outlook will be given.&lt;BR /&gt;
&lt;BR /&gt;
In a second blog which is planned to be released in Q3/2022 we will present more detailed results.&lt;BR /&gt;
&lt;BR /&gt;
&lt;STRONG&gt;Approaches&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
From the authors point of view, coming from the planning and analytics world, there are currently 3 main approaches on how your planning architecture could look like. Of course, there may be different flavors of it:&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;Business Warehouse Approach&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;SAC Native Approach&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;S/4 Approach&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/06/Blog_Approach_1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
Each of the approaches makes sense depending on where you come from and where you want to be in the near future. The tricky question is how to find out what's best for a certain customer with a certain history. And the answer is not a simple one. It might also be the case that you use more than one of the approaches above. And in the long-term perspective also Datawarehouse Cloud (DWC) might play a role.&lt;BR /&gt;
&lt;BR /&gt;
Approach 1 might be especially interesting for you in case you invested heavily in SAP IP in the past and want to reuse your investments. Maybe you would like to use an appealing frontend like SAC instead of BEx and still stay on the same model.&lt;BR /&gt;
&lt;BR /&gt;
Approach 2 might be interesting for all kinds of customers, with or without any history of SAP IP.&lt;BR /&gt;
&lt;BR /&gt;
Approach 3 might be interesting for any S/4 customers.&lt;BR /&gt;
&lt;BR /&gt;
&lt;STRONG&gt;Comparing the Approaches&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
To give direction and also to make experiences in real world environments, we decided to build applications and compare them. For this purpose we will use the following criteria:&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;Master Data Synchronization&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Authorization Management and Generation&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Reference Data Integration&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Disaggregation and Logic&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Automatic Loads&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Performance&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Licence&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Debugging Options&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Look &amp;amp; Feel&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Usability&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Integration&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Flexibility&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
&lt;STRONG&gt;Applications&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
The applications we are currently working on are the following ones:&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;Approach 1: A betting game application for the soccer world cup. The users can enter their bets, the scoring function and more complex functions are implemented in the Business Warehouse and visualized with SAC. Additionally, SAC is also serving as an Application Development Environment&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Approach 2: An application for entering the daily steps is implemented. The users can capture their daily activities and see trends over time. There will be no Business Wareshouse in the system landscape. All logic and all application development is done in SAC&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Approach 3: We plan data live in the S/4 HANA system and write data into the ACDOCP table&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
The implementation of the applications is already quite enhanced, and we are working on comparing the results based on the defined criteria.&lt;BR /&gt;
&lt;BR /&gt;
&lt;STRONG&gt;Outlook&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
In the next blog we will present the results of our comparison and you will get a summary of our experiences. I can already reveal that every approach has its strenghts and that we had emotional discussions about the approaches inside our team.&lt;BR /&gt;
&lt;BR /&gt;
We will also have a look on the degree of maturity of the different products used in the different approaches.&lt;BR /&gt;
&lt;BR /&gt;
The final result will be a decision tree which should serve you in getting a better feeling what is right for your special, unique situation.</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/end-of-bi-ip-what-s-next-a-viewpoint-on-the-sap-planning-portfolio-1/ba-p/13543266"/>
    <published>2022-06-04T19:30:27+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/lessons-learned-while-working-on-bw-planning-tpm-project/ba-p/13523127</id>
    <title>Lessons learned while working on BW Planning – TPM project</title>
    <updated>2022-07-28T16:33:13+02:00</updated>
    <author>
      <name>Kishore_KB</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/11699</uri>
    </author>
    <content>Hello Developers,&lt;BR /&gt;
&lt;BR /&gt;
Recently I got an opportunity to work on a BW TPM project. Compared with pure BW Modeling project I had to explore things related to Planning, Configuration required in BW and CRM and mainly how and where to debug on encountering errors when executing Queries and Planning Functions from Web-UI. Documenting few points which were helpful during the development cycle.&lt;BR /&gt;
&lt;OL&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-1217471104"&gt;BW Queries and Planning Functions Execution&lt;/H4&gt;&lt;BR /&gt;
When BW Queries and Planning Functions (PFs) are called from CRM Web-UI it might encounter errors while executing them. Error description might not help us to identify the root cause because of which we need to debug Class/Method.One of the important Class related to execution of BW Objects is Class *CL_IMP_OBJECT. Below are few of the Methods from the same related to Query and Planning Function execution.&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;STRONG&gt;IF_IMP_OBJECT~EXECUTE_QUERY&lt;/STRONG&gt; – This Method will execute BW Query, we can set Break Point before it’s called to check Filters, Variables etc... being passed.&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/07/B1_1-Execute_Query-1.png" /&gt;&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;STRONG&gt;IF_IMP_OBJECT~HANDLE_EVENT&lt;/STRONG&gt; – This Method will identify which Planning Functions (PFs) to be executed for the selected Query and Event_ID triggered.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;STRONG&gt;EXECUTE_PLANNING_FCT&lt;/STRONG&gt; – This Method executes each of the Planning Function configured for Query and Event_ID identified at HANDLE_EVENT Method.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;STRONG&gt;ENHANCE_QUERY_FILTER&lt;/STRONG&gt; &amp;amp; &lt;STRONG&gt;ENHANCE_EVENT_FILTER&lt;/STRONG&gt; – These Methods check and update Query Filters and PF Filters respectively which gets called when executing Queries and PFs accordingly.When we create Custom Planning Function and configure it for say Event 3 (After Update Cell) still it might not get executed on changing data if PF related filter code is not maintained in Methods of Class *CL_RSCRM_IMP_EVENT_PF_B4.Similarly for New Queries check Methods of Class *CL_RSCRM_IMP_QUERY_B4 and maintain Query Technical name like data maintained for Standard Queries.&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-1020957599"&gt;Types of Custom ‘Planning Function Type’ based on Class&lt;/H4&gt;&lt;BR /&gt;
We can have Class ‘Without Reference data’ OR ‘With Reference data’.For Class Without Reference data Interface and Methods would be:&lt;BR /&gt;
&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/07/B1_2-Interfaces-WO-Ref-1.png" /&gt;&lt;BR /&gt;
&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/07/B1_3-Methods-WO-Ref-1.png" /&gt;&lt;BR /&gt;
For Class With Reference data Interface and Methods would be:&lt;BR /&gt;
&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/07/B1_4-Interfaces-W-Ref-1.png" /&gt;&lt;BR /&gt;
&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/07/B1_5-Methods-W-Ref-1.png" /&gt;&lt;BR /&gt;
Method ‘GET_REF_DATA_SEL’ is used to apply filter for selecting Reference data.We can create Public-Static Methods to include Custom logic in With / Without Reference data Interface types.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-824444094"&gt;Identifying which BW Query is mapped in CRM Web-UI screen&lt;/H4&gt;&lt;BR /&gt;
In CRM Web-UI click on any of the Query Data cell and press Ctrl + Alt + D&lt;BR /&gt;
Pop-up window appears in which select ‘Show Data Source Picker’&lt;BR /&gt;
&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/07/B1_6-Query-Mapped_1-1.png" height="140" width="450" /&gt;&lt;BR /&gt;
In the next screen select ‘queryinfo’&lt;BR /&gt;
&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/07/B1_7-Query-Mapped_2-2.png" height="305" width="450" /&gt;&lt;BR /&gt;
Click ‘Esc’ on keyboard, List of queries on the screen selected is displayed.&lt;BR /&gt;
&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/07/B1_8-Query-Mapped_3-1.png" height="120" width="453" /&gt;&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-627930589"&gt;On encountering IMP_CORE and PE Errors&lt;/H4&gt;&lt;BR /&gt;
When we encounter these errors check for logs generated in “SM21”. If no logs exist then go to TCode “RSTT” and Activate Trace for your ID, perform the same action to reproduce error. Later De-Activate Trace for your ID. If Traces are generated, then Execute them to check errors being reported.&lt;BR /&gt;
&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/07/B1_9-RSTT-Trace-Collection-1.png" height="351" width="500" /&gt;&lt;BR /&gt;
Based on the information we can identify which Function Module to set Break Point for debugging and identify the root cause.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-431417084"&gt;Best practice while performing calculation of Keyfigure in Class&lt;/H4&gt;&lt;BR /&gt;
When populating Keyfigure based on CASE condition, ensure it also has ELSE part to populate.&lt;BR /&gt;
Eg: CASE WHEN INFOPROV = ‘ZADSOX1’ THEN ZADSOX1.ZKF1 &lt;STRONG&gt;ELSE 0&lt;/STRONG&gt; END AS ZKF_CUSTOMThough “ELSE 0” might not be logically and syntactically required, include it to avoid potential technical issues which may arise due to populating NULL value into Keyfigure.&lt;BR /&gt;
&lt;BR /&gt;
Hope this information will help Developers working on BW TPM projects to understand better about Class, Method, TCode to check for identifying root cause of errors encountered. Please share your comments and feedback !!&lt;/LI&gt;&lt;BR /&gt;
&lt;/OL&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/lessons-learned-while-working-on-bw-planning-tpm-project/ba-p/13523127"/>
    <published>2022-07-28T16:33:13+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/move-your-sap-bpc-applications-to-sap-analytics-cloud/ba-p/13541954</id>
    <title>Move your SAP BPC applications to SAP Analytics Cloud</title>
    <updated>2022-08-09T23:05:11+02:00</updated>
    <author>
      <name>pravin_datar</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/199428</uri>
    </author>
    <content>Since 2007, when SAP acquired Outlooksoft, &lt;A href="https://www.sap.com/canada/products/bpc.html/?utm_source=community_blog&amp;amp;utm_medium=pd&amp;amp;utm_campaign=sacp" target="_blank" rel="noopener noreferrer"&gt;SAP BPC&lt;/A&gt; has been a part of SAP’s product portfolio and the number of SAP BPC customers quickly grew from mere 700 customers in 2007 to tens of thousands of customers and users over the years. SAP BPC provided a rock-solid on-premise planning solution for customers. When the world economy embraced cloud technology, SAP was able to satisfy that need with &lt;A href="https://www.sapanalytics.cloud/?utm_source=community_blog&amp;amp;utm_medium=pd&amp;amp;utm_campaign=sacp" target="_blank" rel="nofollow noopener noreferrer"&gt;SAP Analytics Cloud&lt;/A&gt;, its flagship analytics and planning SAAS solution. Though SAP has promised customers using on-premise solutions that their investments are safe and secure as announced in its &lt;A href="https://blogs.sap.com/?p=1447022" target="_blank" rel="noopener noreferrer"&gt;product strategy&lt;/A&gt;, the on-premise users themselves are facing a number of challenges. The current economic, social and technology scenario posed formidable tests and trials for planners of on-premise solutions. This is not only because of Covid-19 but also because of other factors as well. Let us briefly discuss the challenges that posed to planners today.&lt;BR /&gt;
&lt;H4 id="toc-hId-1219266342"&gt;&lt;STRONG&gt;Changing customer expectations driven by disruption in the economy&lt;/STRONG&gt;&lt;/H4&gt;&lt;BR /&gt;
We are living in an era of disruption of all kinds. Supply chain disruptions due to lockdowns, wars, sanctions; monetary and fiscal disruptions due to high inflation, global debt, currency volatility and added to that is the digital disruption where data is the new oil and enterprises that can leverage the ever-growing data to make decisions can thrive while those who can’t, will be left behind. The business planners are facing new challenges like&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;How to empower through process automation to free up time to do more meaningful work&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How do we drive maximum cost synergies to fund innovation&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How do we better engage our employees to attract and retain top talent&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How do we deliver a next-generation customer experience in a world of disruption&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How do we focus on spending and resource requirements today and for tomorrow&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-1022752837"&gt;&lt;STRONG&gt;Covid-19 and beyond&lt;/STRONG&gt;&lt;/H4&gt;&lt;BR /&gt;
Since 2020 Covid-19 has presented unprecedented challenge to all enterprises and tested the technological and managerial limits of planners all over the world. The annual plans and forecasts had to be changed frequently, the drivers for the plans had to be adjusted every week if not every day, the agility of business planning solutions to adapt to changes in the planning models underwent stress test. After this pandemic goes into the history books, for many businesses, it will take a while to return to the pre-pandemic state. The challenge to the business planners is how to smoothen this ride and find opportunities in this challenge.&lt;BR /&gt;
&lt;BR /&gt;
All these factors are leading the organizations to move to the cloud-based planning solution from their traditional on-premise solutions and SAP BPC is no exception. The easiest and smoothest transition for SAP BPC customers to cloud is SAP Analytics Cloud. With SAP Analytics Cloud, customers can leverage Planning and Analysis on a single solution. SAP Analytics Cloud provides a set of rich planning capabilities that allows organizations to plan across various lines of business, connecting operational to financial plans. SAP Analytics Cloud is always online with your most trusted data. It is an unbroken experience of agility and value. All this leads to a world where business decisions and strategies are constantly informed and updated with confident, authoritative planning.&lt;BR /&gt;
&lt;H3 id="toc-hId-697156613"&gt;&lt;STRONG&gt;Why move now?&lt;/STRONG&gt;&lt;/H3&gt;&lt;BR /&gt;
Moving now to SAP Analytics Cloud allows organizations a lot of benefits. Here are a few of them:&lt;BR /&gt;
&lt;H4 style="text-align: left" id="toc-hId-629725827"&gt;Extended Planning and Analysis&lt;/H4&gt;&lt;BR /&gt;
&lt;A href="https://www.sap.com/products/technology-platform/extended-planning-analysis.html" target="_blank" rel="noopener noreferrer"&gt;Extended Planning and Analysis&lt;/A&gt; (xP&amp;amp;A) is the evolution of financial planning and analysis; creating and connecting strategic, financial, and operational plans across the enterprise to optimize performance.SAP Analytics Cloud is well suited to execute Extended Planning and Analysis (xP&amp;amp;A) strategy. Let us discuss this strategy a bit more to understand how SAC helps to execute this strategy.&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;STRONG&gt;Crowdsource plans and budgets&lt;/STRONG&gt; – Typically organizations consist of many lines of business such as sales, marketing, information technology, supply chain, human resources etc. Each line of business in turn plan their annual activities, budgets and monthly/quarterly forecasts. The planning cycle includes preparing the planning model, identifying planning drivers, importing master and transactional data; scheduling planning processes; entering plan data and adjustments; doing the planning calculations, spreading, distributions and allocations; reviewing the actual vs budget variance; and finalizing and publishing the results. Each line of business follows these steps with some minor variations. When an organization prepares strategic plans and annual budgets, they crowdsource the plans budgets from these various lines of businesses. SAP Analytics Cloud can help in planning and forecasting for various lines of business. Moreover, it has delivered content for those lines of business. Crowdsourcing plans and budgets from the lines of business becomes easy with SAP Analytics Cloud since all those models reside within the same solution.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;STRONG&gt;Linking operational and financial planning&lt;/STRONG&gt; – The plans of the individual lines of businesses need to be linked together. If there is no linking through exchange of master data, assumptions and results, the plans and forecasts crowdsourced from the lines of businesses tend to be siloed. For example, operational budget in terms of sales units to be sold in different territories, product mix, supply routes etc. should be in sync with the plans and forecasts of cost of sales, cost center expenses etc. The planning models for various lines of business can share the plan data using the functionality such as public dimensions, cross model data actions etc. within SAP Analytics Cloud thereby facilitating linking of operational and financial planning.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;STRONG&gt;Embed within enterprise applications&lt;/STRONG&gt; – The transactional data required for the actual vs budget variances comes from the enterprise applications. SAP Analytics Cloud has built-in connectors for various enterprise applications such as Success Factors, S/4 HANA, SAP BW, Ariba, Concur, Fieldglass etc. that allow direct acquisition of the required transactional data.&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-433212322"&gt;Next generation FP&amp;amp;A (Financial Planning and Analysis) tools&lt;/H4&gt;&lt;BR /&gt;
The corporate decision making has evolved from being linear or top-down following hierarchical order to dynamic, self-service, involving faster iterations to augmented and decentralized decision making that involves instantaneous and continuous adjustments using artificial intelligence. SAP Analytics Cloud provides the machine learning and predictive tools for augmented analytics.&lt;BR /&gt;
&lt;H4 id="toc-hId-236698817"&gt;Integration with S/4 Hana&lt;/H4&gt;&lt;BR /&gt;
SAP Analytics Cloud provides two-way built-in &lt;A href="https://blogs.sap.com/2021/12/27/sap-analytics-cloud-and-s-4-hana-planning-interactions/" target="_blank" rel="noopener noreferrer"&gt;integration with S/4 Hana&lt;/A&gt; to import and export the data. In addition, it allows you to perform analytics with live connectivity to S/4 Hana where the data never leaves the customer firewall. SAP Analytics Cloud is even embedded within S/4 Hana for analytics.&lt;BR /&gt;
&lt;H4 id="toc-hId-40185312"&gt;Pre-built content&lt;/H4&gt;&lt;BR /&gt;
When you move to SAP analytics Cloud, you can avail the &lt;A href="https://community.sap.com/topics/cloud-analytics/business-content" target="_blank"&gt;pre-built content&lt;/A&gt; available to get a head start for your implementation and get started with SAP analytics Cloud with ease. The available content includes the content developed by SAP as well as the content developed by SAP partners.&lt;BR /&gt;
&lt;H4 id="toc-hId--156328193"&gt;Smart Insight and Smart Discovery&lt;/H4&gt;&lt;BR /&gt;
SAP Analytics Cloud provides a single solution that combines planning, analytics and predictive. You can leverage the &lt;A href="https://community.sap.com/topics/cloud-analytics/business-content" target="_blank"&gt;smart insights smart discovery&lt;/A&gt; provided by the predictive tools to incorporate into your planning models, visualize the results, use advanced features such as visual formulas, simulations using value driver tree etc. to take your planning to the next level by incorporating the strategic business insights into your plans and forecasts.&lt;BR /&gt;
&lt;BR /&gt;
Hence there is no better time than now to move your BPC applications to SAP Analytics Cloud.</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/move-your-sap-bpc-applications-to-sap-analytics-cloud/ba-p/13541954"/>
    <published>2022-08-09T23:05:11+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/introducing-bpc-embedded-access-rights/ba-p/13524670</id>
    <title>Introducing – BPC Embedded Access Rights</title>
    <updated>2022-08-23T17:50:24+02:00</updated>
    <author>
      <name>pravin_datar</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/199428</uri>
    </author>
    <content>&lt;P&gt;SAP recently introduced BPC Embedded Access Rights. In this blog, let us understand the details of this SAP Business Planning and Consolidation Embedded Access Rights.&lt;BR /&gt;&lt;BR /&gt;&lt;STRONG&gt;Why BPC Embedded Access Rights&lt;/STRONG&gt;&lt;BR /&gt;&lt;BR /&gt;The strategic solution that SAP has for XP&amp;amp;A is SAP Analytics Cloud which is offered on public cloud and combines planning, predictive and business intelligence functionality into one product. SAP also has SAP Business Planning and Consolidation to address financial planning requirements for customers who require an on-premise solution. As stated earlier in &lt;A href="https://blogs.sap.com/2021/11/26/sap-business-planning-and-consolidation-sap-bpc-strategy/" target="_blank" rel="noopener noreferrer"&gt;SAP BPC Strategy&lt;/A&gt;, though our cloud-based planning solution, SAP Analytics Cloud, represents our strategic and most innovative business intelligence and planning solution, the SAP BPC product will receive continuous innovations, bug fixes, and investments in infrastructure topics with SAP Analytic Cloud. For the customers to take advantage of the latest innovations that can address the challenges to the planners, the enterprises should be running on SAP Analytics Cloud platform. However, we have thousands of customers that use SAP Business Planning and Consolidation in its various versions. This poses a formidable task of moving these customers quickly and smoothly to SAC. The customers should be allowed to move at their own pace, without disruption of their planning processes and in phased manner if they prefer so. In order to facilitate this process, some customers chose to &lt;A href="https://blogs.sap.com/2020/11/30/complement-your-sap-business-planning-and-consolidation-with-sap-analytics-cloud/" target="_blank" rel="noopener noreferrer"&gt;complement their planning process&lt;/A&gt; with SAC and some others chose to &lt;A href="https://blogs.sap.com/2021/02/02/add-a-new-planning-process-to-your-bpc-implementation-using-sac-planning/" target="_blank" rel="noopener noreferrer"&gt;add new planning process&lt;/A&gt; in SAC.&lt;BR /&gt;&lt;BR /&gt;In addition to moving the business process from BPC to SAC, the BPC customers also used to encounter another obstacle in licensing. A planning user typically required a license for BPC as well as SAC even if he/she wanted to use &lt;A href="https://blogs.sap.com/?p=724691" target="_blank" rel="noopener noreferrer"&gt;BPC Live&lt;/A&gt; to plan in both the systems. The BPC Embedded Access Rights are intended to obviate this dual licensing for BPC Live scenario and facilitate smooth transition to SAP Analytics Cloud. Hence, to summarize, the reason why SAP introduced BPC Embedded Access Rights is to avoid double licensing for customers using BPC Live to plan in SAC and BPC.&lt;BR /&gt;&lt;BR /&gt;&lt;STRONG&gt;What are BPC Embedded Access Rights&lt;/STRONG&gt;&lt;BR /&gt;&lt;BR /&gt;At this time, BPC Embedded Access Rights are applicable only to BPC Live connections. The &lt;A href="https://help.sap.com/docs/SAP_ANALYTICS_CLOUD/00f68c2e08b941f081002fd3691d86a7/3c284ec47d8542b79f5ed82662574f32.html?q=BPC%20Live" target="_blank" rel="noopener noreferrer"&gt;BPC live-connection&lt;/A&gt; is available for the integration of &lt;A href="https://help.sap.com/docs/SAP_BUSINESS_PLANNING_AND_CONSOLIDATION,_VERSION_FOR_SAP_NETWEAVER/a2049170bfeb4178ace32222842c3ec1/a1532226947c49a5b2e2bd32450cb2d1.html?q=embedded%20model" target="_blank" rel="noopener noreferrer"&gt;BPC Embedded models&lt;/A&gt; with SAP Analytics Cloud (It is not available to &lt;A href="https://blogs.sap.com/2014/10/21/concepts-compared-bpc-standard-and-bpc-embedded/" target="_blank" rel="noopener noreferrer"&gt;BPC Standard&lt;/A&gt; models). It can be used in SAC stories, SAC Analytic Designer applications and Analysis for Office, edition for SAC , workbooks. &lt;STRONG&gt;With BPC Embedded Access Rights, users who only input via SAC Planning into BPC (Embedded) with BPC Live connection will no longer require a BPC Standard or Professional license.&lt;/STRONG&gt; This change is:&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Applicable to SAC live planning to BPC Embedded model deployment mode only (Note, BPC Standard model deployment mode does not support live planning access)&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Available for BPC on-premise, PCE or PTO&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Pertinent for BPC for BW Netweaver or BPC for BW/4HANA&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Applies to SAC Planning Standard or Professional users (an SAC BI user can not publish data into BPC)&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Includes ability to plan via Analysis for Office (included in the SAC Planning license)&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&lt;BR /&gt;&lt;BR /&gt;For users requiring SAC BI only access to BPC data, this can be achieved via the BW Live connect (for which no BPC licenses are required)&lt;BR /&gt;&lt;BR /&gt;&lt;STRONG&gt;How a customer can get BPC Embedded Access Rights&lt;/STRONG&gt;&lt;BR /&gt;&lt;BR /&gt;The customer must license at least a minimum quantity of BPC in order for administrators to create and maintain a BPC environment and the BPC Live Connection that is used by SAC to connect to BPC or BW-IP. Beyond that, leveraging the SAP Cloud Extension Policy (CEP) a customer is able shift maintenance cost to a SAP Analytics Cloud subscription.&lt;BR /&gt;&lt;BR /&gt;&lt;STRONG&gt;In which customer situations BPC Embedded Access Rights are not applicable&lt;/STRONG&gt;&lt;BR /&gt;&lt;BR /&gt;As sated above, BPC Embedded Access Rights are currently available only for &lt;A href="https://help.sap.com/docs/SAP_ANALYTICS_CLOUD/00f68c2e08b941f081002fd3691d86a7/3c284ec47d8542b79f5ed82662574f32.html?q=BPC%20Live" target="_blank" rel="noopener noreferrer"&gt;BPC Live&lt;/A&gt; connections. This also means that there can be some customer situations regarding BPC Licenses which are not covered by BPC Embedded Access Rights. Here are some of such scenarios:&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;BPC Embedded Access Rights are not available for BPC Standard models since BPC Live connection is not available for BPC Standard models&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;BPC Embedded Access Rights are applicable only for BPC Standard license and not for &lt;A href="https://www.sapusers.org/uploads/files/5660" target="_blank" rel="noopener nofollow noreferrer"&gt;BPC Professional&lt;/A&gt; If a customer wants to add more BPC Professional users then the license policy for BPC Professional users will apply.&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Customers using BPC Workflows are not covered by BPC Embedded Access Rights&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;BPC Embedded Access Rights are intended for planning scenarios using BPC Live connection and hence customers using BPC only for Consolidation will not be covered under BPC Embedded Access Rights&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;STRONG&gt;What about customers using BW-IP&lt;/STRONG&gt;&lt;BR /&gt;&lt;BR /&gt;BW-IP is an older Netweaver technology customers could use to build highly complex and bespoke planning applications. BW-IP is not available in BW/4HANA and hence BW-IP customers find themselves stuck on the older Netweaver 7.x platform. Often BW-IP customers use tools like BEx for user access. As BEx is end-of-life and not available in BW/4HANA again this becomes a barrier for customers.&lt;BR /&gt;&lt;BR /&gt;While BW-IP is not available in BW/4HANA without BPC license, it is possible to upgrade and access the BW-IP models if the customer adopts BPC; creates a BPC model against the old BW-IP logic to be used in SAC with BPC Live connection. Therefore, with BPC Embedded Access Rights, BW-IP customers now have a way more simplified opportunity to move to BPC for BW/4HANA and preserve their BW-IP models, and then allow user access to these models via SAC Planning.&lt;BR /&gt;&lt;BR /&gt;&lt;STRONG&gt;Where to get more details&lt;/STRONG&gt;&lt;BR /&gt;&lt;BR /&gt;More details about topics around BPC Embedded Access Rights are available at the following locations:&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://launchpad.support.sap.com/#/notes/3150518" target="_blank" rel="noopener noreferrer"&gt;SAP Note 3150518&lt;/A&gt; describing the BPC Embedded Access Rights&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Details about how to set up &lt;A href="https://help.sap.com/docs/SAP_ANALYTICS_CLOUD/00f68c2e08b941f081002fd3691d86a7/1c1b22f136694855ba2fff9e5ecfb9d8.html?q=BPC%20Live" target="_blank" rel="noopener noreferrer"&gt;BPC Live connection with Direct CORS connection&lt;/A&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Details about how to set up &lt;A href="https://help.sap.com/docs/SAP_ANALYTICS_CLOUD/00f68c2e08b941f081002fd3691d86a7/01a161e4d4424d118855730e9e628d87.html?q=BPC%20Live" target="_blank" rel="noopener noreferrer"&gt;BPC Live connection with Tunnel connection&lt;/A&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://launchpad.support.sap.com/#/notes/2969947" target="_blank" rel="noopener noreferrer"&gt;Capabilities and limitations&lt;/A&gt; of BPC Live connection&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/introducing-bpc-embedded-access-rights/ba-p/13524670"/>
    <published>2022-08-23T17:50:24+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/trigger-process-chain-from-sac-with-bpc-live-connection/ba-p/13524319</id>
    <title>Trigger Process Chain from SAC with BPC Live Connection</title>
    <updated>2022-09-22T07:15:38+02:00</updated>
    <author>
      <name>mansi_dandavate</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/198383</uri>
    </author>
    <content>We built a planning application in SAP Analytics Cloud using SAP BPC Live Connection. The requirement was for the users to be able to load the actuals data in the BPC System from the application and also get a real time status whether the data load got completed.&lt;BR /&gt;
&lt;BR /&gt;
Since we have the Planning trigger in SAC Stories, we thought we could use that to trigger a process chain in the backend system. There is a very good blog related to this issue which we followed where we build a planning function using fox formula. Inside the fox formula you can call the function module to trigger the process chain.&lt;BR /&gt;
&lt;BR /&gt;
You can read the link below for this :&lt;BR /&gt;
&lt;BR /&gt;
&lt;A href="https://blogs.sap.com/2015/07/08/how-to-trigger-a-process-chain-using-a-planning-function-in-sap-design-studio/" target="test_blank" rel="noopener noreferrer"&gt;https://blogs.sap.com/2015/07/08/how-to-trigger-a-process-chain-using-a-planning-function-in-sap-design-studio/&lt;/A&gt;&lt;BR /&gt;
&lt;BR /&gt;
However with the above approach since we are going to trigger the planning sequence from SAC, we couldn't find any way to send back messages to SAC about the process chain status. It was becoming difficult for the users to check the latest status of the data load in SAC.&lt;BR /&gt;
&lt;BR /&gt;
So while trying to search a better approach we realized that there are two standard planning function types provided by SAP for this purpose.&lt;BR /&gt;
&lt;OL&gt;&lt;BR /&gt;
 	&lt;LI&gt;0RSPL_START_PROCESS - Start a Process Chain&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;0RSPL_GET_PC_LOG - Get Logs from a Process Chain&lt;/LI&gt;&lt;BR /&gt;
&lt;/OL&gt;&lt;BR /&gt;
As shown below you can find the planning function types in BI Content under Function Type for Planning. When you use these for the first time, you need to activate them from the BI Content.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/1-19.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
Once activated the Planning Function types are ready for use.&lt;BR /&gt;
&lt;BR /&gt;
Now lets look at the step by step process to create the Planning sequence to trigger a process chain.&lt;BR /&gt;
&lt;OL&gt;&lt;BR /&gt;
 	&lt;LI&gt;Since our planning function will have to based on an Aggregation Level, we need a Plan DSO and a Aggregation level as the first step. Create DSO and Aggregation level as shown below. You can create a Custom InfoObject to store Process Chain ID. The DSO is of type Direct Update, Planning enabled.&lt;/LI&gt;&lt;BR /&gt;
&lt;/OL&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/08/20.jpg" height="393" width="405" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/08/21-1.jpg" height="284" width="392" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
2. The next step is to create planning function on this aggregation level that we created.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/5-8.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/6-9.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
Enter the Name of the Process chain in the parameter as shown below :&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/7-3.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
3. Now lets create a planning filters as shown below.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/8-5.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
Enter the process chain name in the Planning Filter as shown below.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/10-2.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
4. Once the planning function and planning filter is created, we have to create a Planning Sequence. Add the planning function and planning filter that we created before in the planning sequence.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/11-3.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
Save the planning sequence and execute it. As shown below you will see a message that the Planning sequence executed without errors.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/12-2.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Go to RSPC and check the logs for the process chain to see if it got executed. As shown our process chain got executed below :&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/13-2.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Now create another planning function and planning sequence to check the process chain logs.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/32.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
5. To use this planning sequence in SAC, we will need a Model in SAC. So lets go to BPC Environment and create a model. You first need to create an environment for your project if you dont already have it, and then create the model.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/22.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Select the plan DSO now that we created before.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/23.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
6. Now lets go to SAC and create a BPC Model from the BPC Live Connection. Create a sample query on the aggregation level as shown below and you can use that in the SAC Model. See below :&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/31.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
As shown below create a SAC Model from BPC Live Connection. In BPC Environment select the environment and the BPC model we created in previous step and then select the BW Query and click on ok and save the model.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/30.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
7. Now create a blank story and add Planning Trigger Object as shown below.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/24.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/25.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
Add a planning trigger in the story and select BPC Planning Sequence Trigger. Here select the model that we created in the previous step.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/26.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/27.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
As shown above my planning trigger is added to the SAC Story. I added one more trigger for the planning sequence ZAGG_PC_PS1 for checking the logs.&lt;BR /&gt;
&lt;BR /&gt;
Now go to view mode and click on the first planning trigger.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/28.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
As shown you get a message that the planning sequence is executed without errors. This means that the process chain is executed in the backend. To check the status of the process chain click on the second planning trigger.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2022/09/29.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
It gives the status of the process chain as ok which means the process chain executed successfully. If the process chain fails you can see the errors here and if the status is active it means the process chain is running. You can click the button multiple times to check the status of the process chain.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/trigger-process-chain-from-sac-with-bpc-live-connection/ba-p/13524319"/>
    <published>2022-09-22T07:15:38+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/how-business-warehouse-can-help-you-in-ibp-projects/ba-p/13551646</id>
    <title>How Business Warehouse can help you in IBP Projects</title>
    <updated>2023-02-16T09:36:55+01:00</updated>
    <author>
      <name>fkatzdobler</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/488307</uri>
    </author>
    <content>&lt;H1 id="toc-hId-832938794"&gt;Introduction and Motivation&lt;/H1&gt;&lt;BR /&gt;
Currently, there are different projects related to Integrated Business Planning ongoing. One motivation could be to have a successor for APO (Advanced Planning and Optimization).&lt;BR /&gt;
&lt;BR /&gt;
In case your system landscape contains a Business Warehouse system, you might be interested on how to utilize it in your IBP Projects. This question is exactly the scope of this blog.&lt;BR /&gt;
&lt;H1 id="toc-hId-636425289"&gt;Architecture&lt;/H1&gt;&lt;BR /&gt;
&lt;H2 id="toc-hId-568994503"&gt;Reference Data for IBP&lt;/H2&gt;&lt;BR /&gt;
Most likely, the IBP system will have a direct connection to your ERP system for synchronization of some master data and some other things. When it comes to special requirements, the ERP system might not be the best source system to take and you will not be able to extract data in a granularity which can be digested by IBP. Let's think about the requirement to aggregate the reference data along a customer planning hierarchy. Instead of reinventing the logic in ERP or in IBP, you might like to reuse it from existing planning applications in Business Warehouse. This is just one example. You will have more harmonization and aggregation requirements for different areas of reference data in your project. For such cases, Business Wareshouse can be a very helpful system.&lt;BR /&gt;
&lt;BR /&gt;
Most likely the level of detail for IBP will be something like:&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;Planning Customer&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Planning Material&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Calender Year&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Calender Month&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Plant&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Sales Organization&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Version&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Quantity&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
The reference data might be on a very different level and it can be very painful to bring all data to a proper granularity without a Business Warehouse.&lt;BR /&gt;
&lt;BR /&gt;
Some data might only be available in Business Warehouse, like external data from the market which you would like to use for your planning process.&lt;BR /&gt;
&lt;H2 id="toc-hId-372480998"&gt;Backwards Integration to ERP&lt;/H2&gt;&lt;BR /&gt;
But not only the integration of reference data is required. You will also most likely find the requirement to write data back from IBP to ERP. Let's take the COPA Module as an example and the retraction transactions KELC and KELR. You can't use those transactions in ERP together with IBP directly, as IBP does not allow you to implement BEx Queries.&lt;BR /&gt;
&lt;BR /&gt;
You could use the Business Warehouse again to write data back from IBP to an aDSO in Business Warehouse first and consume it via BEx Queries and utilize the ERP transactions you already might have in place.&lt;BR /&gt;
&lt;H2 class="ds-heading ds-heading--m ds-blog-post__title" id="toc-hId-175967493"&gt;SAP Cloud Platform Integration for Data Services (CPI-DS)&lt;/H2&gt;&lt;BR /&gt;
Most probably you will also find CPI-DS in your IBP project. CPI-DS can be used to read e.g. the aDSO table, where you put the reference data in. It can also be used to trigger the loading process of the results of IBP into Business Warehouse.&lt;BR /&gt;
&lt;BR /&gt;
On a very high level your architecture could look like the one in the following picture.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/01/Blog_IBP_1-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P class="image_caption" style="text-align: center;font-style: italic"&gt;High Level Architecture&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;H1 id="toc-hId--149628731"&gt;Summary&lt;/H1&gt;&lt;BR /&gt;
During the project preperation, it is very helpful to list all sources which should be integrated to support the process inside IBP. It might be helpful to use an existing Business Warehouse to collect, harmonize and aggregate the data to the needed granularity for IBP.&lt;BR /&gt;
&lt;BR /&gt;
Be prepared for interfaces. Don't underestimate the effort to connect the systems and the integration between the systems.&lt;BR /&gt;
&lt;BR /&gt;
Make sure you have clean master data and harmonized processes.</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/how-business-warehouse-can-help-you-in-ibp-projects/ba-p/13551646"/>
    <published>2023-02-16T09:36:55+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/accelerate-your-move-from-sap-bpc-to-sap-analytics-cloud-sac-for-planning/ba-p/13568864</id>
    <title>Accelerate Your Move from SAP BPC to SAP Analytics Cloud (SAC) for planning with a migration guide</title>
    <updated>2023-03-09T19:02:22+01:00</updated>
    <author>
      <name>pravin_datar</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/199428</uri>
    </author>
    <content>For the last more than 15 years, SAP Business Planning and Consolidaiton (SAP BPC) provided a rock-solid on-premise planning solution for customers. When organizations transitioned to cloud technology, SAP was able to satisfy that need with &lt;A href="https://www.sapanalytics.cloud/?utm_source=community_blog&amp;amp;utm_medium=pd&amp;amp;utm_campaign=sacp" target="_blank" rel="nofollow noopener noreferrer"&gt;SAP Analytics Cloud&lt;/A&gt;, its flagship analytics and planning SAAS solution. Though SAP has promised customers using on-premise solutions that their investments are safe and secure as announced in its &lt;A href="https://blogs.sap.com/?p=1447022" target="_blank" rel="noopener noreferrer"&gt;product strategy&lt;/A&gt;, many on-premise users themselves are facing a number of challenges such as&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;How do we drive maximum cost synergies to fund innovation&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How do we better engage our employees to attract and retain top talent&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How do we engage with Machine Learning and AI to help support planning&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How do we collaborate with plans across enterprise&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
All these factors are leading the organizations to move to the cloud-based planning solution from their traditional on-premise solutions and SAP BPC is no exception. The easiest and smoothest transition for SAP BPC customers to cloud is SAP Analytics Cloud. With SAP Analytics Cloud, customers can leverage Planning and Analysis on a single solution. SAP Analytics Cloud provides a set of rich planning capabilities that allows organizations to plan across various lines of business, connecting operational to financial plans. SAP Analytics Cloud is always online with your most trusted data.&lt;BR /&gt;
&lt;BR /&gt;
Now SAP provides a migration guide for customers who have deployed SAP BPC. This document also provides guidance (for Planning only – not for Consolidation) on how to integrate SAP Analytics Cloud with S/4HANA and SAP BW. This document covers topics such as dimensions and models, calculation logic, validation rules, reports, work status, security, audit etc. to name a few.&lt;BR /&gt;
&lt;BR /&gt;
When you are ready to take the next step, you can get the details at SAP Note 3308697 or contact us at &lt;A href="mailto:movebpc@sap.com" target="_blank" rel="nofollow noopener noreferrer"&gt;movebpc@sap.com&lt;/A&gt; to get the guide and learn more about using SAP Analytics Cloud for Planning to migrate your BPC investment to the Cloud and accelerate your business &amp;amp; financial transformation.</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/accelerate-your-move-from-sap-bpc-to-sap-analytics-cloud-sac-for-planning/ba-p/13568864"/>
    <published>2023-03-09T19:02:22+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/bw-creation-of-custom-keyfigures-infoobject/ba-p/13555961</id>
    <title>BW: Creation of custom KeyFigures InfoObject</title>
    <updated>2023-03-27T15:24:09+02:00</updated>
    <author>
      <name>ondrakfi</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/127667</uri>
    </author>
    <content>When you would like to extend your InfoProvider of some KeyFields which you will create on your own, you cannot use the standard procedure. Usually you would use Transaction FCOM_MET tool for extension, however in this case it is prohibited and you cannot do that this way. These steps need to be performed for ACDOCA/ACDOCP fields which are made for Unit or Quantity.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;For creation a new KeyFigure InfoObject you need to use BW Modeling Tools in Eclipse app. In this app you will locate your system and open it. Then you need to right-click the system and choose: New -&amp;gt; InfoObject...&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/03/2023-03-07_14-16-43.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P class="image_caption" style="text-align: center;font-style: italic"&gt;Creation of InfoObject&lt;/P&gt;&lt;BR /&gt;
This will open pop-up screen, where you define your InfoObject. This can be done in several ways, depending on of what you need at the moment. As an example I will create InfoObject for new Quantity. You can assign it to your InfoArea, or to the Original Package /ERP/SFIN.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/03/2023-03-07_14-21-44.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P class="image_caption" style="text-align: center;font-style: italic"&gt;Definition of InfoObject&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
You can then see your new InfoObject under the InfoArea you chose. The configuration is up to you at this point. It is good to use the same configuration as it is for the delivered one. It might look like this:&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/03/2023-03-07_14-28-34.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
After all of this is done, you can proceed into the backend to do mapping.&lt;BR /&gt;
&lt;BR /&gt;
Open Transaction RSA1 and switch it to Edit Mode, so you can do changes. Select the InfoProvider you want to enhance of this field. It will open 2 new windows on the side. One if for selecting other fields, the other one is your InfoProvider. From the selection you can use the drag-and-drop function to enhance InfoProvider.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/03/2023-03-07_14-30-14.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P class="image_caption" style="text-align: center;font-style: italic"&gt;Selection of new InfoObject&lt;/P&gt;&lt;BR /&gt;
Add the field into the desired location, in this case Quantity under KeyFields. Right-click the InfoObject and select "Provider-Specific Properties".&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/03/2023-03-07_14-31-36.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
Here you can choose to which ACDOCA/ACDOCP field should be your InfoObject refered to (This might be completely different from the field I have chosen).&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/03/2023-03-07_14-32-48.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P class="image_caption" style="text-align: center;font-style: italic"&gt;Assinging of ACDOCA/ACDOCP field.&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
All you need to do now, is to save this InfoProvider, activate it and then you will see your new KeyFigure InfoObject in InfoProvider.&lt;BR /&gt;
&lt;BR /&gt;
When you will create your own Unit as well, you would need to reference it to this Quantity InfoObject, which you would do in Eclipse under: Aggregation - Referenced Characteristic.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Please share your feedback or thoughts in the comment section.&lt;BR /&gt;
&lt;BR /&gt;
Follow me for more tips about BW or BPC in general, so I can create more post about these topics.&lt;BR /&gt;
&lt;BR /&gt;
You can also follow BW Planning, post and answer questions (&lt;A href="https://answers.sap.com/tags/369280904654660339247670897548678" target="_blank" rel="noopener noreferrer"&gt;https://answers.sap.com/tags/369280904654660339247670897548678&lt;/A&gt;), and read other posts on the topic (&lt;A href="https://blogs.sap.com/tags/369280904654660339247670897548678/" target="_blank" rel="noopener noreferrer"&gt;https://blogs.sap.com/tags/369280904654660339247670897548678/&lt;/A&gt;) for more content.&lt;BR /&gt;
&lt;BR /&gt;
You might suggest some topic, you would like to know more about in my DMs as well, so I know on which topics should I focus.</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/bw-creation-of-custom-keyfigures-infoobject/ba-p/13555961"/>
    <published>2023-03-27T15:24:09+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/financial-management-blog-posts-by-sap/how-to-add-hierarchies-into-analytical-queries/ba-p/13563213</id>
    <title>How to add Hierarchies into Analytical Queries</title>
    <updated>2023-03-31T03:52:38+02:00</updated>
    <author>
      <name>ondrakfi</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/127667</uri>
    </author>
    <content>&lt;P&gt;&lt;STRONG&gt;Update October 2024:&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Using Cost Center Hierarchy was a highly requested feature, so it was made as a correction to the standard CDS Views C_CostCenterQ2001 and C_CostCenterPlanActQ2001. You can find the correction under SAP Note &lt;STRONG&gt;3362694&lt;/STRONG&gt;. There are multiple prerequisties, so please go through them.&lt;/P&gt;&lt;P&gt;Additionally, our CDS Views did not support Metadata extensions. This limitation was enabled by SAP Note &lt;STRONG&gt;3509451&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;I mention this here in the article about CDS Views because Metadata extensions can be utilized to transform fields into hierarchies by annotations.&lt;/P&gt;&lt;P&gt;In the example provided, Profit Center was used as an example field because it does not have a hierarchy and may be necessary in certain scenarios.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Metadata.layer: #CUSTOMER
annotate entity ZF_PROFITCENTERPLANACTQ2701
    with 
{
  @Consumption.filter: {  selectionType: #HIERARCHY_NODE, multipleSelections: true, mandatory: false,
                          hierarchyBinding : [    {type : #PARAMETER, value : 'P_ControllingArea'}, 
                                              {type: #USER_INPUT, value: 'ProfitCenterHierachy', variableSequence: 48 }
                                          ] }
    ProfitCenter;
    
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;As this is bound to the Profit Center, you do not need to do any change to the WebDynpro Configuration.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Before the change of standard code:&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;In SAP Delivered CDS View for Cost Centers - Actuals/ Cost Centers - Plan/Actual, or even your own custom-created CDS View, you might need to have Cost Center Hierarchy and Cost Center Node on the selection screen within WebDynpro version of the app. You can select Cost Center Hierarchy as an additional filter, but it will not be visible among other variables.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;In order to be able to see Cost Center Hierarchy on the selection screen, you will need to create your own CDS View, as you cannot modify the SAP Delivered one. You can create a copy of the CDS View C_COSTCENTERQ2001, which has the Cost Center Hierarchy already in the code, but it is commented out by default.&lt;BR /&gt;&lt;BR /&gt;You will find this code under the Rows characteristic:&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AnalyticsDetails.query.axis: #ROWS  

IsStatisticalCostCenter,  

 

@AnalyticsDetails.query.variableSequence: 50

@Consumption.filter: { selectionType: #INTERVAL, multipleSelections: true, mandatory: false }

@AnalyticsDetails.query.totals: #SHOW

@AnalyticsDetails.query.axis: #ROWS

@AnalyticsDetails.query.display: #KEY_TEXT

CostCenter,

 

//@AnalyticsDetails.query.variableSequence: 81

//@Consumption.filter: {  selectionType: #HIERARCHY_NODE, multipleSelections: true, mandatory: false,

//                        hierarchyBinding : [    {type: #USER_INPUT, value: 'CostCenterHierarchy', variableSequence: 80 } ] }

//@AnalyticsDetails.query.displayHierarchy: #FILTER

//@AnalyticsDetails.query.totals: #SHOW

//@AnalyticsDetails.query.axis: #ROWS

//@AnalyticsDetails.query.display: #KEY_TEXT

//CostCenter as CostCenterChildNode,

//_CostCenter[1:ValidityEndDate   &amp;gt;= $parameters.P_KeyDate and 

//                    ValidityStartDate &amp;lt;= $parameters.P_KeyDate]._Text[1:Language = $parameters.P_Language].CostCenterName as CostCenterChildNodeName,

 

 

@AnalyticsDetails.query.variableSequence: 86

@Consumption.filter: {  selectionType: #HIERARCHY_NODE, multipleSelections: true, mandatory: false,

                                      hierarchyBinding : [  { type: #USER_INPUT, value: 'GLAccountHierarchy', variableSequence: 85 } ] }

@AnalyticsDetails.query.displayHierarchy: #FILTER

@AnalyticsDetails.query.axis: #ROWS

@AnalyticsDetails.query.totals: #SHOW

GLAccount,

_GLAccountInChartOfAccounts._Text[1:Language = $parameters.P_Language].GLAccountName,&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;BR /&gt;When you create a copy of this view, or you will use your own, you will need to replace this part of the code for this one:&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AnalyticsDetails.query.axis: #ROWS  

IsStatisticalCostCenter,  

 

 

@AnalyticsDetails.query.variableSequence: 86

@Consumption.filter: {  selectionType: #HIERARCHY_NODE, multipleSelections: true, mandatory: false,

                        hierarchyBinding : [    {type : #PARAMETER, value : 'P_ControllingArea'}, {type: #USER_INPUT, value: 'CostCenterHierarchy', variableSequence: 85 }

                                            ] }

@AnalyticsDetails.query.displayHierarchy: #FILTER

//@Consumption.filter: { selectionType: #INTERVAL, multipleSelections: true, mandatory: false }

@AnalyticsDetails.query.totals: #SHOW

@AnalyticsDetails.query.axis: #ROWS

CostCenter,

_CostCenter[1:ValidityEndDate   &amp;gt;= $parameters.P_KeyDate and 

                    ValidityStartDate &amp;lt;= $parameters.P_KeyDate]._Text[1:Language = $parameters.P_Language].CostCenterName,

 

@AnalyticsDetails.query.variableSequence: 96

@Consumption.filter: {  selectionType: #HIERARCHY_NODE, multipleSelections: true, mandatory: false,

                                      hierarchyBinding : [  { type: #USER_INPUT, value: 'GLAccountHierarchy', variableSequence: 95 } ] }

@AnalyticsDetails.query.displayHierarchy: #FILTER

//@Consumption.filter: { selectionType: #INTERVAL, multipleSelections: true, mandatory: false }

@AnalyticsDetails.query.axis: #ROWS

@AnalyticsDetails.query.totals: #SHOW

GLAccount,

_GLAccountInChartOfAccounts._Text[1:Language = $parameters.P_Language].GLAccountName,&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;BR /&gt;As you can see in the changed code, the part with a single Cost Center was removed completely, and the&amp;nbsp; Cost Center Hierarchy with Cost Center Node took its place. In the Cost Center Hierarchy and GL Account Hierarchy, there is a line:&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;//@Consumption.filter: { selectionType: #INTERVAL, multipleSelections: true, mandatory: false }&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;BR /&gt;This line is there in case, you would like to select it not as a Hierarchy and Node, but just a single selection of Cost Center or GL Account. If you would like to have a single GL Account for selection, you need to uncomment this line and comment these two lines in the code for GL Account:&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Consumption.filter: {  selectionType: #HIERARCHY_NODE, multipleSelections: true, mandatory: false,

                                      hierarchyBinding : [  { type: #USER_INPUT, value: 'GLAccountHierarchy', variableSequence: 95 } ] }

@AnalyticsDetails.query.displayHierarchy: #FILTER&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;BR /&gt;These two lines for Cost Center:&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@Consumption.filter: {  selectionType: #HIERARCHY_NODE, multipleSelections: true, mandatory: false,

                        hierarchyBinding : [    {type : #PARAMETER, value : 'P_ControllingArea'}, {type: #USER_INPUT, value: 'CostCenterHierarchy', variableSequence: 85 }

                                            ] }

@AnalyticsDetails.query.displayHierarchy: #FILTER&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;BR /&gt;At the end, you will need to create your own Fiori Tile with this CDS View in it, to be able to run it in Fiori Launchpad.&lt;BR /&gt;&lt;BR /&gt;The result will look like this in Fiori.&lt;/P&gt;&lt;P&gt;&lt;IMG src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/03/CDS-Cost-Centers-Actual.png" border="0" /&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P class=""&gt;Cost Centers - Actuals with Hierarchy&lt;/P&gt;&lt;P&gt;&lt;BR /&gt;Please share your feedback or thoughts in the comment section.&lt;BR /&gt;&lt;BR /&gt;Follow me for more tips about BW or BPC in general, so I can create more post about these topics.&lt;BR /&gt;&lt;BR /&gt;You can also follow BW Planning, post and answer questions (&lt;A href="https://answers.sap.com/tags/369280904654660339247670897548678" target="_blank" rel="noopener noreferrer"&gt;https://answers.sap.com/tags/369280904654660339247670897548678&lt;/A&gt;), and read other posts on the topic (&lt;A href="https://blogs.sap.com/tags/369280904654660339247670897548678/" target="_blank" rel="noopener noreferrer"&gt;https://blogs.sap.com/tags/369280904654660339247670897548678/&lt;/A&gt;) for more content.&lt;BR /&gt;&lt;BR /&gt;You might suggest some topics you would like to know more about in my DMs as well, so I know on which topics I should focus.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/financial-management-blog-posts-by-sap/how-to-add-hierarchies-into-analytical-queries/ba-p/13563213"/>
    <published>2023-03-31T03:52:38+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/financial-management-blog-posts-by-sap/how-to-adding-profit-center-group-into-selection-screen/ba-p/13567301</id>
    <title>How to: Adding Profit Center Group into selection screen</title>
    <updated>2023-05-02T10:39:23+02:00</updated>
    <author>
      <name>ondrakfi</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/127667</uri>
    </author>
    <content>This guide works only for BW Query which starts with /ERP/SFIN_***&lt;BR /&gt;
&lt;BR /&gt;
Profit Center Group is not available by default in BW queries for Profit Center as:&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-1221286206"&gt;/ERP/SFIN_V01_Q2701 – Profit Centers - Actuals&lt;/H4&gt;&lt;BR /&gt;
&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-1024772701"&gt;/ERP/SFIN_M01_Q2701 – Profit Centers – Plan/Actual&lt;/H4&gt;&lt;BR /&gt;
&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-828259196"&gt;/ERP/SFIN_M01_Q2702 – Profit Centers – Plan/Actual YTD&lt;/H4&gt;&lt;BR /&gt;
&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-631745691"&gt;/ERP/SFIN_M01_Q2703 – Profit Centers – Plan /Actual with Currency Translation&lt;/H4&gt;&lt;BR /&gt;
&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
For enabling this field in BW queries you need to do several steps, before you can create/update WebDynpro Configuration for selected app.&lt;BR /&gt;
&lt;H3 id="toc-hId-306149467"&gt;1)SAP Note 3308885&lt;/H3&gt;&lt;BR /&gt;
This Note is adding two additional variables for the backend. Without this Note in your system, this guide will not work.&lt;BR /&gt;
&lt;H3 id="toc-hId-109635962"&gt;2)Eclipse – BW Modeling Tools&lt;/H3&gt;&lt;BR /&gt;
First you need to locate the query you want to modify(for purpose of example I have created my own as a copy from Profit Center – Actuals)&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/05/2023-03-03_14-45-51-ve-velke-velikosti.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
When you open the query, you need to switch to InfoProvider selection, so you are able to choose from it, but first in case you do not want to select single Profit Center anymore, you can delete variable which is already assigned under Filter: Fixed Values in /ERP/PROFTCTR (Only if you created a copy, you might have no variable there at all, which is also fine)&lt;BR /&gt;
&lt;BR /&gt;
Then select /ERP/PROFTCTR, open Characteristic Value Variable, right-click to open pop-up and select New Variable&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/05/2023-03-03_14-49-33-ve-velke-velikosti.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
Then you need to create 2 new variable which have to be named /ERP/N_PROFTCTR01 and /ERP/H_PROFTCTR01 as they are being called by the Function Module with the same label.&lt;BR /&gt;
&lt;BR /&gt;
You can use your own package and Description, the rest must be the same as below.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/05/2023-03-03_14-53-27.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P class="image_caption" style="text-align:center;font-style:italic;, Arial, sans-serif"&gt;Creation of New Variable&lt;/P&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/05/2023-03-03_14-54-18.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
After those two new variables are created, you then need to assign it to /ERP/PROFTCTR in the Filter of your query.&lt;BR /&gt;
&lt;BR /&gt;
Double click on /ERP/PROFTCTR in Filter: Fixed vaule to open next selection. There you need to open Hierarchy Node Variables, select your new variable and click on Change…&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/05/2023-03-03_14-55-09.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
Here you will assign Hierarchy Variable to the Node.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/05/2023-03-03_14-56-25-ve-velke-velikosti.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
Then you need to just drag it to the Filter on the right and it will be assigned to /ERP/PROFTCTR. Filter definition should look the same as on the screenshot.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/05/2023-03-03_14-58-29.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
Afterwards you need to click on /ERP/PROFTCTR, select Hierarchy tab and do the same as for the Node. You will select the variable and when you do so, it will switch the flag of Activate Hierarchy to On.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/05/2023-03-03_14-59-39-ve-velke-velikosti.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
At the end, you should be able to see Profit Center Group as part of your query in Transaction RSRT.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/05/Obrazek1.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
Now all you need to do is maintain WebDynpro configuration for your app, to assure, that the field is available for you in Profit Center reports.&lt;BR /&gt;
&lt;BR /&gt;
You can use this guide to enable Profit Center Groups in any BW Query, as it is not limited just for Profit Centers Apps.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Please share your feedback or thoughts in the comment section.&lt;BR /&gt;
&lt;BR /&gt;
Follow me for more tips about BW or BPC in general, so I can create more post about these topics.&lt;BR /&gt;
&lt;BR /&gt;
You can also follow BW Planning, post and answer questions (&lt;A href="https://answers.sap.com/tags/369280904654660339247670897548678" target="_blank" rel="noopener noreferrer"&gt;https://answers.sap.com/tags/369280904654660339247670897548678&lt;/A&gt;), and read other posts on the topic (&lt;A href="https://blogs.sap.com/tags/369280904654660339247670897548678/" target="_blank" rel="noopener noreferrer"&gt;https://blogs.sap.com/tags/369280904654660339247670897548678/&lt;/A&gt;) for more content.&lt;BR /&gt;
&lt;BR /&gt;
You might suggest some topic, you would like to know more about in my DMs as well, so I know, on which topics should I focus.</content>
    <link href="https://community.sap.com/t5/financial-management-blog-posts-by-sap/how-to-adding-profit-center-group-into-selection-screen/ba-p/13567301"/>
    <published>2023-05-02T10:39:23+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/bw-tpm-issues-and-resolution/ba-p/13579722</id>
    <title>BW TPM - Issues and Resolution</title>
    <updated>2023-08-22T12:05:53+02:00</updated>
    <author>
      <name>mansi_dandavate</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/198383</uri>
    </author>
    <content>Everytime I work on Trade Promotion Management, I am always in awe of how beautifully the product is designed and how seamlessly it works integrating different systems like CRM, BW and S/4 HANA.&lt;BR /&gt;
&lt;BR /&gt;
Having said that I am also bogged down with the multiple issues that come up when you are configuring the Trade Management CRM UI and trying to make all the pieces work. And even if you have worked on it in the past, every issue comes with its own set of challenges and you feel helpless at times not knowing what to do next. In the recent project I did as well, I faced multiple issues and thankfully I had the help from some of my peers who have been through this journey in the past as well as the product team who used to guide us on the way forward.&lt;BR /&gt;
&lt;BR /&gt;
There are two helpful blogs below already on the topic which will guide you on your Trade Management BW journey.&lt;BR /&gt;
&lt;BR /&gt;
&lt;A href="https://blogs.sap.com/2019/01/03/tips-and-tricks-while-working-on-bw-tpm/" target="_blank" rel="noopener noreferrer"&gt;https://blogs.sap.com/2019/01/03/tips-and-tricks-while-working-on-bw-tpm/&lt;/A&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;A href="https://blogs.sap.com/2022/07/28/lessons-learned-while-working-on-bw-planning-tpm-project/" target="_blank" rel="noopener noreferrer"&gt;https://blogs.sap.com/2022/07/28/lessons-learned-while-working-on-bw-planning-tpm-project/&lt;/A&gt;&lt;BR /&gt;
&lt;BR /&gt;
However, these blogs might be on slightly older versions of Trade Management. I have tried to document the issues we faced while working on Trade Management 4.0, FP6 and the resolution with the hope that it would be helpful for others who are in the same journey.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;OL&gt;&lt;BR /&gt;
 	&lt;LI&gt;&lt;STRONG&gt;While creating a Plan in the CRM UI Screen, we got below BSP error.&lt;/STRONG&gt;&lt;/LI&gt;&lt;BR /&gt;
&lt;/OL&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/1-30.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;SPAN style="text-decoration: underline"&gt;Resolution:&lt;/SPAN&gt;&lt;BR /&gt;
&lt;BR /&gt;
In SU3 maintain the decimal settings. Change it from 1.234.567,89 to 1,234,567.89 in both CRM and BW systems. The decimal settings should be the same in CRM and BW system for your use ID.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/2-8.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
2. &lt;STRONG&gt;PSM Initialization Failed for Object due to synchronization error&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
This is actually a common error which can occur due to multiple reasons. But usually its because the sync method is not able to create the combinations of the Plan data in the BW DSO and so the query read fails as there is no data.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/3-4.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
When we debugged this, found that the Sync method was failing with below error.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/4-4.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="text-decoration: underline"&gt;Resolution:&lt;/SPAN&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;As per the error, the Sales organization has not been mapped to fiscal year variant. The reason was that the DSO /JBPB/SAFV_M was not loaded.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;The system checks the mapping of Sales Organization and Fiscal Year Variant in this DSO. The issue was resolved after loading data in this DSO.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/5-4.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
3. &lt;STRONG&gt;Roll-in Planning Function not working&lt;/STRONG&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;The reason was in the Code for Roll-in Planning function the data from /JBPB/IPLAN DSO was not getting read. The selections were passed correctly and data was there in the DSO, but it was still not getting read.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;Then we found that there is a customizing setting in which we have to enable the Plan DSOs to be used in Planning Engine.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/6-4.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;When we tried to maintain the setting here, we got a short dump.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/7-5.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;SPAN style="text-decoration: underline"&gt;Resolution:&lt;/SPAN&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;We found one OSS Note (2899115) that has to be implemented to fix this, but since we did not have much time and the Note was getting updated, we decided to write a custom program and add the entries in the below standard table directly.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/8-5.jpg" height="508" width="513" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;After updating this, the data started getting read from the /JBPB/IPLAN DSO in the planning function.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;4. &lt;STRONG&gt;Short Dump while trying to activate DSO /JBPB/IPRSTG&lt;/STRONG&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;While trying to activate DSO /JBPB/IPRSTG we were getting a dump in the development system.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/9-4.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;The reason is the DB connection that is maintained in RS2HANA_View transaction code is missing from DBCO transaction.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;SPAN style="text-decoration: underline"&gt;Resolution :&lt;/SPAN&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;Below is the OSS Note that mentions the solution.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;&lt;A href="https://launchpad.support.sap.com/#/notes/3212374" target="_blank" rel="noopener noreferrer"&gt;https://launchpad.support.sap.com/#/notes/3212374&lt;/A&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/10-5.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/11-5.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
After maintaining the DB connection the issue was resolved and we could successfully activate the DSO /JBPB/IPRSTG.&lt;BR /&gt;
&lt;P lang="en-US"&gt;5. &lt;STRONG&gt;Trusted RFC Connection not working&lt;/STRONG&gt;&lt;/P&gt;&lt;BR /&gt;
When we are working on TPM, we need to set up two RFC Connections in the CRM system. One will be the usual RFC connection that we need to create for the source system connection in BW. The other RFC connection will be a trusted RFC. The trusted RFC connection will have a Current user selected in the settings which means that whenever the data is read in CRM UI from BW, the current user is used instead of the background user.&lt;BR /&gt;
&lt;BR /&gt;
So whenever we want to debug any errors in the CRM UI, we can easily set breakpoints with our own user ID in the BW system, if we use the trusted RFC. If we do not use the trusted RFC and use the other generic one, then we have to debug with the common background user which will be same for everyone, so other people using the system will run into the breakpoints that you set.&lt;BR /&gt;
&lt;BR /&gt;
Usually the basis team will create trusted RFC with the name *_DEBUG eg. BWCLNT100_DEBUG.&lt;BR /&gt;
&lt;BR /&gt;
You need to maintain this trusted RFC in the parameters in SU3 transaction in CRM system. The system will use the trusted RFC for the communication with BW only if you maintain it in the parameters in SU3. If you do not maintain it then common RFC will be used.&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;&lt;SPAN style="text-decoration: underline"&gt;Resolution :&lt;/SPAN&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/12-4.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/13-5.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
Once this is updated, you can perform debugging and troubleshooting with your own ID.&lt;BR /&gt;
&lt;BR /&gt;
If your basis team needs any help with trusted RFC configuration you can use the below mentioned blog which is very helpful.&lt;BR /&gt;
&lt;BR /&gt;
&lt;A href="https://blogs.sap.com/2010/11/29/setup-a-trusted-rfc-connection/" target="_blank" rel="noopener noreferrer"&gt;Setup a trusted RFC connection #sapadmin | SAP Blogs&lt;/A&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;After applying OSS Note above and updating user parameters to use trusted RFC, I was able to debug with my user ID.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;6. &lt;STRONG&gt;Total Promotion Investment Value was not matching with Reserved/Prereserved values in the Fund usage&lt;/STRONG&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;The issue was with the standard BW query /JBPB/C_PRM_PROMO_KPI_Q004. This query is used for the calculation of the Total Promotion Value that is displayed on the right side of the promotion screen. &amp;nbsp;The calculation view in the standard query is not used now and should be replaced with the DSO /JBPB/ILTA.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/14-2.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;SPAN style="text-decoration: underline"&gt;Resolution:&lt;/SPAN&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;So we created a custom query which is a copy of the standard query and replaced the Infoprovider with the standard DSO /JBPB/ILTA. Also remember to update the Z query in your config in CRM to replace the Promo KPI monitor standard query with the Custom query.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/15-2.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
It worked fine after making the above changes. The prereserved value was populated along with the Total Promo Investment in the Promo KPI Monitor screen.&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/16-2.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;7.&lt;STRONG&gt;In promotion screen, Tree View was not loading. Even in Tree view we could see flat view data.&lt;/STRONG&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;The problem was we were using custom Queries for Promotions that we had copied.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;And there is some standard code to change Query filters which was executing only for standard queries. We have to update this code to implement it for the Custom queries as well that we create&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;SPAN style="text-decoration: underline"&gt;Resolution:&lt;/SPAN&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;Create custom Badi Implementation for BADI IMP_QUERY as shown below and create Custom Class which will be a copy of the standard class&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/17-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/18-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/19-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;Also activate this BADI in SPRO.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/20-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/21-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;8. &lt;STRONG&gt;When we tried to create a new Version for Operational Plan, it was throwing BW planning function errors&lt;/STRONG&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/22-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;When we debugged and checked the BW Planning function for Version Creation was failing because value '9' did not exist in /JBPB/SCINDIC InfoObject.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/23-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;SPAN style="text-decoration: underline"&gt;Resolution:&lt;/SPAN&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;The solution was simple that we had to maintain master data for the Source Indicator Object. This should have values 1, A, B, C and 9.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;So we maintained the value 9 as below :&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/24.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;After maintaining the master data, we were able to successfully create a new version for Operational Plan.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/25.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;9. &lt;STRONG&gt;When we tried to compare different versions then we were getting below error which says Invalid Query&lt;/STRONG&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/26.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;On checking more we found that the BW Queries for Version Comparison were not active in the BW system.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;Below are the queries which we need to activate for Version Comparison.&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;DIV&gt;&lt;BR /&gt;
&lt;TABLE style="direction: ltr;border-collapse: collapse;border: 1pt solid #A3A3A3" title="" border="1" summary="" cellspacing="0" cellpadding="0"&gt;&lt;BR /&gt;
&lt;TBODY&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="background-color: white;vertical-align: top;width: 2.6173in;padding: 4pt 4pt 4pt 4pt;border: 1pt solid #A3A3A3"&gt;&lt;BR /&gt;
&lt;P style="margin: 0in;font-family: Calibri;font-size: 11.0pt;color: black"&gt;/JBPB/C_VER_COMP_PNL&lt;/P&gt;&lt;BR /&gt;
&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="background-color: white;vertical-align: top;width: 2.4562in;padding: 4pt 4pt 4pt 4pt;border: 1pt solid #A3A3A3"&gt;&lt;BR /&gt;
&lt;P style="margin: 0in;font-family: Calibri;font-size: 11.0pt;color: black"&gt;Version Comparison PNL Query&lt;/P&gt;&lt;BR /&gt;
&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="background-color: white;vertical-align: top;width: 2.6368in;padding: 4pt 4pt 4pt 4pt;border: 1pt solid #A3A3A3"&gt;&lt;BR /&gt;
&lt;P style="margin: 0in;font-family: Calibri;font-size: 11.0pt;color: black"&gt;/JBPB/C_VER_COMP_PNL_PROD_TREE&lt;/P&gt;&lt;BR /&gt;
&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="background-color: white;vertical-align: top;width: 2.5062in;padding: 4pt 4pt 4pt 4pt;border: 1pt solid #A3A3A3"&gt;&lt;BR /&gt;
&lt;P style="margin: 0in;font-family: Calibri;font-size: 11.0pt;color: black"&gt;Version Comparison PNL Product Tree&lt;/P&gt;&lt;BR /&gt;
&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;/TBODY&gt;&lt;BR /&gt;
&lt;/TABLE&gt;&lt;BR /&gt;
&lt;/DIV&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;While activating the query in BI Content we were getting following error:&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/27.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;SPAN style="text-decoration: underline"&gt;Resolution:&lt;/SPAN&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;We found an OSS Note for this issue which is below&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;&lt;A href="https://me.sap.com/notes/2861374/E" target="_blank" rel="noopener noreferrer"&gt;https://me.sap.com/notes/2861374/E&lt;/A&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;This OSS Note is applicable to Support pack level&lt;/P&gt;&lt;BR /&gt;
&lt;P style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;SAPK-40003INTMAB. But our system was on&lt;/P&gt;&lt;BR /&gt;
&lt;P style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;SAPK-40002INTMAB.&lt;/P&gt;&lt;BR /&gt;
&lt;P style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;But as mentioned in the OSS Note that we needed to create assignment for the field&lt;/P&gt;&lt;BR /&gt;
&lt;P style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;S_RRSPPR" in the Composite Provider /JBPB/C_VER. Since this assignment was missing in our system, I created that and then we tried to install the Query.&lt;/P&gt;&lt;BR /&gt;
&lt;P style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;After this step, the Queries got installed successfully.&lt;/P&gt;&lt;BR /&gt;
&lt;P style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;The Plan Version Comparison screen was loading fine after this.&lt;/P&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/28-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
10. &lt;STRONG&gt;Unable to assort products, product assortment is not saved in BW. (This issue came in the Quality System)&lt;/STRONG&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/29-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;And when you debug you can figure out that the planning function to create the combinations in the Synchronize method is failing.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;See below error message.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/30.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;SPAN style="text-decoration: underline"&gt;Resolution:&lt;/SPAN&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;Post this we maintained the value 1 in the master data for InfoObject /JBPB/SCINDIC in both attributes as well as text and this issue was resolved.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;Further we found that the combinations in the IPLAN Dso were still not created. We found the assortment entries getting stuck in CRM system in SMQ2.&lt;/P&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/31.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;Then we found that in one of the tables the entry was missing in Quality system.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;We maintained the below entry in the table RSADMIN using the program SAP_RSADMIN_MAINTAIN.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/32.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US" style="margin: 0in;font-family: Calibri;font-size: 11.0pt"&gt;After doing above steps the issue was resolved and data started getting saved in the IPLAN DSO.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;I hope that these pointers will help everyone of us who are working on BW Trade Management.&lt;/P&gt;&lt;BR /&gt;
&lt;P lang="en-US"&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/bw-tpm-issues-and-resolution/ba-p/13579722"/>
    <published>2023-08-22T12:05:53+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/uncaught-exception-abap-dump-while-opening-infoobject-in-sap-bw-system-7-50/ba-p/13580654</id>
    <title>UNCAUGHT_EXCEPTION ABAP Dump While Opening Infoobject in SAP BW system (7.50)</title>
    <updated>2023-08-30T14:38:16+02:00</updated>
    <author>
      <name>shoaib_haider</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/346332</uri>
    </author>
    <content>There might come a time when you have perhaps preformed SP level upgrade of your BW system and you notice some objects are throwing ABAP dumps when you try to open them. If these are standard objects then there are ways you can fix the issue.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/2023-08-20_19-50-40.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;P class="image_caption" style="text-align: center;font-style: italic"&gt;ABAP dump when trying to open object in BW system&lt;/P&gt;&lt;BR /&gt;
&lt;STRONG&gt;Note:&lt;/STRONG&gt; First identify if the issue happened in any of the lower environment i.e. DEV, QA etc. If the issue occured in the lower environment also then it could very well be that the object is inconsistent hence you might need to fix the same and then do a transport to the next target.&lt;BR /&gt;
&lt;BR /&gt;
However if none of the lower environment faced this issue and only PRD then following is the option for you to follow in such case.&lt;BR /&gt;
&lt;BR /&gt;
In my case after system upgrade when I try to option the Active/Delivery version of the InfoObject or execute Attribute change run of my object &lt;STRONG&gt;0PM_ORDER &lt;/STRONG&gt;I was getting the above mentioned dump in ST22. This was happening in SAP NetWeaver 7.5 SP27.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/2023-08-20_18-19-07.png" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;STRONG&gt;How to Fix this:&lt;/STRONG&gt;&lt;BR /&gt;
&lt;OL&gt;&lt;BR /&gt;
 	&lt;LI&gt;From the ST22 dump information, you need to find field L_S_DTA_PRO-IOBJNM and it will give you the object in question here.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Reinstall the InfoObject from BI Content using (tcode - RSOR) and removing checkbox "Match (X) or Copy". Please note that the Active version will be overwritten.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;See reference &lt;EM&gt;SAP note &lt;STRONG&gt;3106415&lt;/STRONG&gt; - InfoObject activation error: Nav. attribute &amp;amp;1 for characteristic &amp;amp;2 as InfoProvider cannot be used&lt;/EM&gt;&lt;/LI&gt;&lt;BR /&gt;
&lt;/OL&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&lt;STRONG&gt;Other options:&lt;/STRONG&gt;&lt;BR /&gt;
&lt;BR /&gt;
If you try the above and it still dumps then it is very likely that in the job log you will see this object is probably having dependencies with other objects or have dependencies from custom characteristics. In that case you will see messages like below:&lt;BR /&gt;
&lt;BR /&gt;
InfoObject XXXXXXX is used in transfer rules (M) of characteristic XXXXXXX.&lt;BR /&gt;
&lt;BR /&gt;
InfoObject XXXXXXX is used in transfer rules (M) of characteristic XXXXXXX.&lt;BR /&gt;
&lt;BR /&gt;
....&lt;BR /&gt;
&lt;BR /&gt;
Therefore, the proper way to fix the issue would be to re-transport 0PM_ORDER and its dependent objects, so the references are fixed in target system. Re-installing form BI Content will not work here because you could have other dependencies from custom characteristics aswell.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
Hope this helps.&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/uncaught-exception-abap-dump-while-opening-infoobject-in-sap-bw-system-7-50/ba-p/13580654"/>
    <published>2023-08-30T14:38:16+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/custom-planning-solution-in-bw-4-hana/ba-p/13559722</id>
    <title>Custom Planning Solution in BW/4 HANA</title>
    <updated>2023-08-31T13:48:32+02:00</updated>
    <author>
      <name>jyoti_s_sahu</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/592133</uri>
    </author>
    <content>&lt;H1 id="toc-hId-833178017"&gt;Introduction:&lt;/H1&gt;&lt;BR /&gt;
This article covers how to create custom planning solution BW/4 Hana. Its relevant for BPC&amp;nbsp; Embedded or BW-IP (integrated planning).&lt;BR /&gt;
&lt;BR /&gt;
Basic knowledge of BW IP, HANA and programming is required to understand the concept.&lt;BR /&gt;
&lt;BR /&gt;
BPC embedded mainly uses BW-IP/PAK for planning. It has many standards functions available (e.g. Copy, Distribution, Repost, etc. ). But, there are many scenarios where the allocation/distribution logic can't be fulfilled using standard planning functions available. In that case we generally go for custom planning solution.&lt;BR /&gt;
&lt;BR /&gt;
Generally in real-time scenario, there will be multiple levels of allocations also having multiple dimensions. In this article we will be discussing how to create a simple end to end custom planning solution and how to build the logic including error handling. In this scenario, we are going to use the same aDSO for transaction data as well as for allocated data. In real scenario, we can have different aDSO for transaction data and planned data.&lt;BR /&gt;
&lt;H1 id="toc-hId-636664512"&gt;Main Content:&lt;/H1&gt;&lt;BR /&gt;
&lt;H2 id="toc-hId-569233726"&gt;Problem Statement:&lt;/H2&gt;&lt;BR /&gt;
Source data containing below information.&lt;BR /&gt;
&lt;TABLE style="width: 408px" width="361"&gt;&lt;BR /&gt;
&lt;TBODY&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 122px" colspan="2" width="128"&gt;Costcenter Driver&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px" width="64"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px" width="82"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px" width="87"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px" width="64"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 59px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 63px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 59px"&gt;Scenario&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 63px"&gt;Calmonth&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px"&gt;Control Area&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px"&gt;Source CC&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px"&gt;Target CC&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px"&gt;Factor&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 59px"&gt;ACT&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 63px"&gt;202304&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px"&gt;AEA1001002&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px"&gt;ABCDULSGR1&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px"&gt;0.2&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 59px"&gt;ACT&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 63px"&gt;202304&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px"&gt;AEA1001002&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px"&gt;ABCDULSGR2&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px"&gt;0.4&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 59px"&gt;ACT&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 63px"&gt;202304&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px"&gt;AEA1001002&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px"&gt;ABCDULSGR3&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px"&gt;0.15&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 59px"&gt;ACT&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 63px"&gt;202304&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px"&gt;AEA1001002&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px"&gt;ABCDULSGR4&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px"&gt;0.25&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 59px"&gt;ACT&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 63px"&gt;202304&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px"&gt;AEA1001004&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px"&gt;ABCDULSGR2&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px"&gt;0.5&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 59px"&gt;ACT&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 63px"&gt;202304&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px"&gt;AEA1001004&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px"&gt;ABCDULSGR3&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px"&gt;0.3&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 59px"&gt;ACT&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 63px"&gt;202304&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px"&gt;AEA1001004&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px"&gt;ABCDULSGR4&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px"&gt;0.1&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 59px"&gt;ACT&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 63px"&gt;202304&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 73px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 93px"&gt;AEA1001004&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 66px"&gt;ABCDULSGR5&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 86px"&gt;0.1&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;/TBODY&gt;&lt;BR /&gt;
&lt;/TABLE&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;TABLE width="361"&gt;&lt;BR /&gt;
&lt;TBODY&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD colspan="2" width="128"&gt;Transaction Data&lt;/TD&gt;&lt;BR /&gt;
&lt;TD width="82"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD width="87"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD width="64"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD&gt;Scenario&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;Calmonth&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;Costcenter&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;Audit ID&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;Amount&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD&gt;ACT&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;202304&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;AEA1001002&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;A_001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;100&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD&gt;ACT&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;202304&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;AEA1001004&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;A_001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD&gt;200&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;/TBODY&gt;&lt;BR /&gt;
&lt;/TABLE&gt;&lt;BR /&gt;
Audit ID A_001 refers to source data (transaction data).&lt;BR /&gt;
&lt;BR /&gt;
Audit ID A_002 refers to allocated data.&lt;BR /&gt;
&lt;TABLE style="width: 631px" width="557"&gt;&lt;BR /&gt;
&lt;TBODY&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 70px" width="69"&gt;CC Master&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 100px" width="96"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 69px" width="67"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 103px" width="74"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 68px" width="80"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 48px" width="76"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 173px" width="95"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 70px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 100px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 69px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 103px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 68px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 48px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 173px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 70px"&gt;CO_AREA&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 100px"&gt;COSTCENTER&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 69px"&gt;OBJVERS&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 103px"&gt;DATETO&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 68px"&gt;DATEFROM&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 48px"&gt;OBJ_CURR&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 173px"&gt;PROFIT_CTR&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 70px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 100px"&gt;ABCDULSGR1&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 69px"&gt;A&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 103px"&gt;31-12-9999&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 68px"&gt;01-01-2017&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 48px"&gt;USD&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 173px"&gt;ABCDULSGR1&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 70px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 100px"&gt;ABCDULSGR2&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 69px"&gt;A&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 103px"&gt;31-12-9999&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 68px"&gt;01-01-2017&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 48px"&gt;USD&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 173px"&gt;&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 70px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 100px"&gt;ABCDULSGR3&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 69px"&gt;A&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 103px"&gt;31-12-9999&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 68px"&gt;01-01-2017&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 48px"&gt;USD&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 173px"&gt;ABCDULSGR3&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 70px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 100px"&gt;ABCDULSGR4&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 69px"&gt;A&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 103px"&gt;31-12-9999&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 68px"&gt;01-01-2017&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 48px"&gt;USD&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 173px"&gt;ABCDULSGR4&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;TR&gt;&lt;BR /&gt;
&lt;TD style="width: 70px"&gt;E001&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 100px"&gt;ABCDULSGR5&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 69px"&gt;A&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 103px"&gt;31-12-9999&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 68px"&gt;01-01-2017&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 48px"&gt;USD&lt;/TD&gt;&lt;BR /&gt;
&lt;TD style="width: 173px"&gt;ABCDULSGR5&lt;/TD&gt;&lt;BR /&gt;
&lt;/TR&gt;&lt;BR /&gt;
&lt;/TBODY&gt;&lt;BR /&gt;
&lt;/TABLE&gt;&lt;BR /&gt;
The requirement is to allocate the amount to receiver costcenters based on driver value. It will generate the allocated values with different audit ID. It should consider the profit% value entered by user as well.&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="text-decoration: underline"&gt;&lt;STRONG&gt;Error handling&lt;/STRONG&gt;&lt;/SPAN&gt;: System should also validate if any of the receiver costcenter is not assigned to profit center. It should throw error message.&lt;BR /&gt;
&lt;BR /&gt;
&lt;SPAN style="text-decoration: underline"&gt;&lt;STRONG&gt;Parameter handling&lt;/STRONG&gt;&lt;/SPAN&gt;: User will pass the profit percentage value (%) as parameter. It will be used in the allocation to multiply all allocated amounts.&lt;BR /&gt;
&lt;H2 id="toc-hId-372720221"&gt;Solution:&lt;/H2&gt;&lt;BR /&gt;
&lt;H3 id="toc-hId-305289435"&gt;Driver Data:&lt;/H3&gt;&lt;BR /&gt;
Create a planning enable aDSO for costcenter driver. Enable hana view generation.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/CC-Driver-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
Create the aggregation level and input sheet. Update the CC driver values as mentioned before.&lt;BR /&gt;
&lt;BR /&gt;
Update the CC master data as mentioned before.&lt;BR /&gt;
&lt;H3 id="toc-hId-108775930"&gt;Transaction Data:&lt;/H3&gt;&lt;BR /&gt;
The below objects will be needed.&lt;BR /&gt;
&lt;OL&gt;&lt;BR /&gt;
 	&lt;LI&gt;Create the aDSO for transaction data.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Create aggregation level.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Custom class&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Planning function type using custom class&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Planning function.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;Planning sequence and filter.&lt;/LI&gt;&lt;BR /&gt;
&lt;/OL&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId-41345144"&gt;&lt;SPAN style="text-decoration: underline"&gt;aDSO for transaction data:&lt;/SPAN&gt;&lt;/H4&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/adso.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;H4 id="toc-hId--155168361"&gt;&lt;SPAN style="text-decoration: underline"&gt;Aggregation level:&lt;/SPAN&gt;&lt;/H4&gt;&lt;BR /&gt;
Create the aggregation level on top of transaction data aDSO. Pick all the fields from aDSO.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/aggr-level.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;H4 id="toc-hId--351681866"&gt;&lt;SPAN style="text-decoration: underline"&gt;Custom Class&lt;/SPAN&gt;&lt;/H4&gt;&lt;BR /&gt;
Create a Z empty class with interface IF_RSPLFA_SRVTYPE_IMP_EXEC.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/empty-class-2.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;H4 id="toc-hId--548195371"&gt;&lt;SPAN style="text-decoration: underline"&gt;Planning Function Type:&lt;/SPAN&gt;&lt;/H4&gt;&lt;BR /&gt;
Create new planning function type using the class created above. Add a parameter as profit % (numeric value). info object 0SPL_TARGET is used.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/Planning-func-type-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;H4 id="toc-hId--1242425971"&gt;&lt;SPAN style="text-decoration: underline"&gt;Planning Function:&lt;/SPAN&gt;&lt;/H4&gt;&lt;BR /&gt;
Create a planning function based on the planning function type. use the input ready formula variable for the profit %.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/planning-func.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;H4 id="toc-hId--1438939476"&gt;&lt;SPAN style="text-decoration: underline"&gt;Planning function Filter:&lt;/SPAN&gt;&lt;/H4&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId--1635452981"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/Planning-filter.jpg" /&gt;&lt;/H4&gt;&lt;BR /&gt;
&lt;H4 id="toc-hId--1831966486"&gt;&lt;SPAN style="text-decoration: underline"&gt;Planning Sequence:&lt;/SPAN&gt;&lt;/H4&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/Planning-Seq.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;H3 id="toc-hId--1735076984"&gt;&lt;SPAN style="text-decoration: underline"&gt;Logic Build:&lt;/SPAN&gt;&lt;/H3&gt;&lt;BR /&gt;
Run the program RSPLS_SQL_SCRIPT_TOOL. Provide the parameters like below and execute. System will give code dump. Copy the code to the class created before.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/code-template-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
Adjust the code as mentioned below. System generates the template code. The logic needs to be built in MY_HANA_PROCEDURE method. Its take into consideration of all the parameters defined for the planning function type.&lt;BR /&gt;
&lt;PRE class="language-abap"&gt;&lt;CODE&gt;CLASS zcl_cc_to_cc_demo DEFINITION&lt;BR /&gt;
  PUBLIC&lt;BR /&gt;
  FINAL&lt;BR /&gt;
  CREATE PUBLIC .&lt;BR /&gt;
&lt;BR /&gt;
  PUBLIC SECTION.&lt;BR /&gt;
* Type for aggregation level ZAL_SRCAL&lt;BR /&gt;
    TYPES: BEGIN OF y_s_zal_srcal,&lt;BR /&gt;
             calmonth   TYPE /bi0/oicalmonth,&lt;BR /&gt;
             costcenter TYPE /bi0/oicostcenter,&lt;BR /&gt;
             co_area    TYPE /bi0/oico_area,&lt;BR /&gt;
             zc_audit   TYPE /bic/oizc_audit,&lt;BR /&gt;
             zc_scnro   TYPE /bic/oizc_scnro,&lt;BR /&gt;
             currency   TYPE /bi0/oicurrency,&lt;BR /&gt;
             amount     TYPE /bi0/oiamount,&lt;BR /&gt;
           END OF y_s_zal_srcal.&lt;BR /&gt;
    TYPES: y_t_zal_srcal TYPE STANDARD TABLE OF y_s_zal_srcal.&lt;BR /&gt;
    INTERFACES if_amdp_marker_hdb.&lt;BR /&gt;
    INTERFACES if_rsplfa_srvtype_trex_exec.&lt;BR /&gt;
    INTERFACES if_rsplfa_srvtype_imp_exec.&lt;BR /&gt;
    CLASS-METHODS: my_hana_procedure IMPORTING VALUE(i_view)   TYPE y_t_zal_srcal&lt;BR /&gt;
                                               VALUE(i_profit) TYPE /bi0/oispl_target&lt;BR /&gt;
                                     EXPORTING VALUE(e_view)   TYPE y_t_zal_srcal&lt;BR /&gt;
                                               VALUE(e_msg)    TYPE if_rspls_sql_script=&amp;gt;y_t_msg&lt;BR /&gt;
                                     RAISING   cx_amdp_error.&lt;BR /&gt;
  PROTECTED SECTION.&lt;BR /&gt;
  PRIVATE SECTION.&lt;BR /&gt;
ENDCLASS.&lt;BR /&gt;
CLASS zcl_cc_to_cc_demo IMPLEMENTATION.&lt;BR /&gt;
  METHOD if_rsplfa_srvtype_trex_exec~trex_execute.&lt;BR /&gt;
    DATA: l_r_sql_script   TYPE REF TO if_rspls_sql_script,&lt;BR /&gt;
          l_procedure_name TYPE string,&lt;BR /&gt;
          l_t_iobj_param   TYPE if_rsr_pe_adapter=&amp;gt;tn_t_iobj_param.&lt;BR /&gt;
    l_r_sql_script = cl_rspls_session_store_manager=&amp;gt;get_sql_script_instance( i_r_store = i_r_store ).&lt;BR /&gt;
*   The method if_rspls_sql_script~get_parameter_values returns a table of parameters&lt;BR /&gt;
*   with the values given in the function definition&lt;BR /&gt;
    l_r_sql_script-&amp;gt;get_parameter_values(&lt;BR /&gt;
      EXPORTING&lt;BR /&gt;
        i_r_param_set             = i_r_param_set&lt;BR /&gt;
        i_para_name_for_procedure = 'HANA_PROCEDURE_NAME'&lt;BR /&gt;
      IMPORTING&lt;BR /&gt;
        e_procedure_name          = l_procedure_name&lt;BR /&gt;
        e_t_iobj_param            = l_t_iobj_param ).&lt;BR /&gt;
*   The function parameter given mehtod paramenter i_para_name_for_procedure&lt;BR /&gt;
*   will not be returned in the table e_t_iobj_param but the value of this&lt;BR /&gt;
*   function parameter will be returned int the mehtod parameter e_procedure_name&lt;BR /&gt;
*   This mechanisme can e.g. be used to define function specific SAP-HANA-procedure names.&lt;BR /&gt;
*   Other examples to get the name of the SAP-HANA-procedure name which will be called can be&lt;BR /&gt;
*     - you use the technical name of the planning function type:&lt;BR /&gt;
*     - or you simply give the SAP-HANA procedure name in a string:&lt;BR /&gt;
    l_procedure_name = 'ZCL_CC_TO_CC_DEMO=&amp;gt;MY_HANA_PROCEDURE'.&lt;BR /&gt;
    r_s_view-view = l_r_sql_script-&amp;gt;execute_sql_script(&lt;BR /&gt;
        i_view                  = i_view&lt;BR /&gt;
        i_t_iobj_param          = l_t_iobj_param&lt;BR /&gt;
        i_proc_name             = l_procedure_name&lt;BR /&gt;
        i_sql_script_returns_ai = abap_true&lt;BR /&gt;
        i_r_msg                 = i_r_msg ).&lt;BR /&gt;
  ENDMETHOD.&lt;BR /&gt;
  METHOD if_rsplfa_srvtype_trex_exec~init_and_check.&lt;BR /&gt;
    e_trex_supported  = rs_c_true.&lt;BR /&gt;
  ENDMETHOD.&lt;BR /&gt;
  METHOD my_hana_procedure BY DATABASE PROCEDURE FOR HDB LANGUAGE SQLSCRIPT&lt;BR /&gt;
*                           For Options and declarations check the AMDP documentiation (ABAP Managed Database Procedure)&lt;BR /&gt;
                           OPTIONS READ-ONLY&lt;BR /&gt;
*                           OPTIONS SUPPRESS SYNTAX ERRORS READ-ONLY. "&lt;BR /&gt;
                           USING /BI0/QCOSTCENTER.&lt;BR /&gt;
    DECLARE lv_count INTEGER;&lt;BR /&gt;
* ERROR HANDLING *&lt;BR /&gt;
    lt_invalid = SELECT a."0RESP_CCTR" as cctr&lt;BR /&gt;
                   FROM "_SYS_BIC"."system-local.bw.bw2hana/ZAD_CCDRV" as a&lt;BR /&gt;
                   JOIN "/BI0/QCOSTCENTER" as b&lt;BR /&gt;
                     ON a."0RESP_CCTR" = b.costcenter&lt;BR /&gt;
                    AND a."0CO_AREA" = b.co_area&lt;BR /&gt;
                 WHERE b.profit_ctr = '';&lt;BR /&gt;
    SELECT COUNT (*) INTO lv_count FROM :lt_invalid;&lt;BR /&gt;
    IF :lv_count &amp;lt;&amp;gt; 0 THEN&lt;BR /&gt;
          e_msg = SELECT * from :e_msg UNION&lt;BR /&gt;
                  SELECT '00' as msgid,&lt;BR /&gt;
                         'E' as msgty,&lt;BR /&gt;
                         '001' as msgno,&lt;BR /&gt;
                          'Profit Center is missing' as  msgv1,&lt;BR /&gt;
                          '' as  msgv2,&lt;BR /&gt;
                          '' as  msgv3,&lt;BR /&gt;
                          '' as  msgv4&lt;BR /&gt;
                     FROM dummy;&lt;BR /&gt;
           RETURN;&lt;BR /&gt;
    END IF;&lt;BR /&gt;
* ALLOCATION *&lt;BR /&gt;
    e_view = SELECT * FROM :i_view where zc_audit = 'A_001'&lt;BR /&gt;
             UNION ALL&lt;BR /&gt;
             SELECT a.calmonth,&lt;BR /&gt;
                    b."0RESP_CCTR" as costcenter,&lt;BR /&gt;
                    b."0CO_AREA" as co_area,&lt;BR /&gt;
                    'A_002' as zc_audit,&lt;BR /&gt;
                    a.zc_scnro,&lt;BR /&gt;
                    a.currency,&lt;BR /&gt;
                    (( a.amount * b."0RSPL_FCWHT" )* (1+:i_profit)) as amount&lt;BR /&gt;
               FROM :i_view as a&lt;BR /&gt;
               JOIN "_SYS_BIC"."system-local.bw.bw2hana/ZAD_CCDRV" as b&lt;BR /&gt;
                 ON a.calmonth = b."0CALMONTH"&lt;BR /&gt;
                AND a.co_area = b."0CO_AREA"&lt;BR /&gt;
                AND a.costcenter = b."0REQU_CCTR";&lt;BR /&gt;
  ENDMETHOD.&lt;BR /&gt;
ENDCLASS.&lt;/CODE&gt;&lt;/PRE&gt;&lt;BR /&gt;
&lt;H3 id="toc-hId--1931590489"&gt;&lt;SPAN style="text-decoration: underline"&gt;Execution:&lt;/SPAN&gt;&lt;/H3&gt;&lt;BR /&gt;
First convert the aDSO to load mode. Then load the transaction data as mentioned before in manage datastore (BW cockpit). Convert the aDSO to plan mode.&lt;BR /&gt;
&lt;H4 id="toc-hId-1873460295"&gt;Run1: (Verify the profit center)&lt;/H4&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/Run1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
System will throw error as ABCDULSGR2 costcenter is having blank profit center.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/Run1-validation.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;H4 style="overflow: hidden;margin-bottom: 0px" id="toc-hId-1676946790"&gt;Run2: Allocation test&lt;/H4&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;Update the profit center field of ABCDULSGR2 with any value. Then run the planning sequence with same selection. After execution save the plan buffer.&lt;/P&gt;&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/Run2.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
verify the values in LISTCUBE Tcode for the aDSO. The source values got allocated to receiver costcenters with profit of 8%.&lt;BR /&gt;
&lt;P style="overflow: hidden;margin-bottom: 0px"&gt;&lt;IMG class="migrated-image" src="https://community.sap.com/legacyfs/online/storage/blog_attachments/2023/08/output-1.jpg" /&gt;&lt;/P&gt;&lt;BR /&gt;
&lt;BR /&gt;
&lt;H1 id="toc-hId--1934324990"&gt;Conclusion:&lt;/H1&gt;&lt;BR /&gt;
In this article we learnt the below things.&lt;BR /&gt;
&lt;UL&gt;&lt;BR /&gt;
 	&lt;LI&gt;How to create a Custom planning function using AMDP.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How to handle error validation in planning function.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How to pass parameter to a planning function and how to use in the logic.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How to write the logic in AMDP planning method.&lt;/LI&gt;&lt;BR /&gt;
 	&lt;LI&gt;How to create end to end solution for custom solution in planning with all BW planning objects and AMDP class.&lt;/LI&gt;&lt;BR /&gt;
&lt;/UL&gt;&lt;BR /&gt;
&amp;nbsp;&lt;BR /&gt;
&lt;BR /&gt;
&amp;nbsp;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/custom-planning-solution-in-bw-4-hana/ba-p/13559722"/>
    <published>2023-08-31T13:48:32+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/how-to-extension-of-cds-views/ba-p/13584754</id>
    <title>How to: Extension of CDS Views</title>
    <updated>2024-01-29T13:28:37.153000+01:00</updated>
    <author>
      <name>ondrakfi</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/127667</uri>
    </author>
    <content>&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;There exist multiple alternatives for enhancing CDS Views for Analytical applications, including those such as Cost Centers - Actuals, Cost Centers - Plan/Actuals, amongst others.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;As each of our inquiries consistently functions in coordination with either I_JournalEntryItemCube or I_ActualPlanJournalEntryItemCube, these cubes necessitate extension to efficiently integrate with your specific fields within the aforementioned applications.&lt;/P&gt;&lt;TABLE border="1" width="100%"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="25%" height="57px"&gt;CDS Query (object)&lt;/TD&gt;&lt;TD width="25%" height="57px"&gt;CDS Query (2C+SQL View)&lt;/TD&gt;&lt;TD width="25%" height="57px"&gt;CDS Query WebDynpro Configuration&lt;/TD&gt;&lt;TD width="25%" height="57px"&gt;App ID&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_CostCenterQ2001&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFICOSTCTRQ2001&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPACTCC&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('F0963')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;F0963&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_CostCenterPlanActQ2001&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFICCPLANACT2001&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPPLANACTCC01&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('W0081')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;W0081&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_ProfitCenterQ2701&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIPROFCTRQ2701&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPACTPC&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('F0959')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;F0959&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_ProfitCenterPlanActQ2701&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIPCPLANACT2701&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPPLANACTPC01&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('W0079')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;W0079&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_MarketSegmentQ2501&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIMARKSEGMQ2501&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPACTMS&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('F0960')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;F0960&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_MarketSegmentPlanActQ2501&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIMSPLANACT2501&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPPLANACTMS01&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('W0078')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;W0078&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_ProfitAndLossQ2901&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIPROFLOSSQ2901&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPACTPL&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('F0958')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;F0958&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_ProfitAndLossPlanActQ2903&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIPLPLANACT&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPPLANACTPL03&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('F1710')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;F1710&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_FunctionalAreasQ2801&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIFAQ2801&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPACTFA&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('F1583A')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;F1583A&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_FunctionalAreaPlanActQ2801&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIFAPLANACT2801&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPPLANACTFA01&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('W0077')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;W0077&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_InternalOrderPlanActQ2101&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIIOPLANACT2101&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPPLANACTIO01&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('W0076')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;W0076&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_SalesOrderQ2301&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFISALESORDQ2301&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPACTSO&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('F1582A')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;F1582A&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_ProjectQ2201&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIPROJECTQ2201&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPACTPR&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('F0961')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;&amp;nbsp;F0961&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="25%" height="30px"&gt;C_ProjectPlanActQ2201&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;CFIPRPLANACT2201&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;FIS_FPM_OVP_IPPLANACTPR01&lt;/TD&gt;&lt;TD width="25%" height="30px"&gt;&lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('W0080')/S27OP" target="_blank" rel="noopener nofollow noreferrer"&gt;W0080&lt;/A&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;OL&gt;&lt;LI&gt;&lt;STRONG&gt;Custom Fields and Logic&lt;/STRONG&gt;&lt;BR /&gt;The first option is to use the Fiori App &lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps('F1481')/S27OP" target="_self" rel="nofollow noopener noreferrer"&gt;Custom Fields and Logic&lt;/A&gt;,&amp;nbsp;&lt;SPAN&gt;where you can create your field, which will be afterwards present in table ACDOCA/ACDOCP and the Query you select. For this, you will need to know Business Context. You can use FINS_JOURNAL_ENTRY_ITEM as a Business Context and then fill in the rest, such as Label, Type, Length, etc.&lt;BR /&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Snímek obrazovky 2024-01-29 v&amp;nbsp;11.13.35.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/54705i7DD633F0BD9DE27A/image-size/large?v=v2&amp;amp;px=999" role="button" title="Snímek obrazovky 2024-01-29 v&amp;nbsp;11.13.35.png" alt="Snímek obrazovky 2024-01-29 v&amp;nbsp;11.13.35.png" /&gt;&lt;/span&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;SPAN&gt;Once the field is generated, you can enable it for CDS Views and select only those where you would require this field for reporting.&lt;BR /&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Snímek obrazovky 2024-01-29 v&amp;nbsp;11.18.25.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/54738i7CFB53726013343A/image-size/large?v=v2&amp;amp;px=999" role="button" title="Snímek obrazovky 2024-01-29 v&amp;nbsp;11.18.25.png" alt="Snímek obrazovky 2024-01-29 v&amp;nbsp;11.18.25.png" /&gt;&lt;/span&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;SPAN&gt;&lt;SPAN&gt;All you need to do now is to Publish the changes, and the field is available in our reporting apps.&lt;BR /&gt;&lt;BR /&gt;In case you change your mind in the future, or you need to extend some other query, you can use the tab Data Source Extension in the app, select the query you want to extend, name the CDS VIew and then you can select any fields already present in I_JournalEntryItemCube or I_ActualPlanJournalEntryItemCube. The same applies when the field is present in the Cube but not in the query itself, as the query contains only some basic characteristics but not all of them.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Snímek obrazovky 2024-01-29 v&amp;nbsp;12.30.26.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/54819i98C5E488252258D0/image-size/large?v=v2&amp;amp;px=999" role="button" title="Snímek obrazovky 2024-01-29 v&amp;nbsp;12.30.26.png" alt="Snímek obrazovky 2024-01-29 v&amp;nbsp;12.30.26.png" /&gt;&lt;/span&gt;&lt;P&gt; &lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;STRONG&gt;Extend the already created field in ACDOCA/ACDOCP&lt;/STRONG&gt;&lt;BR /&gt;&lt;BR /&gt;The Fiori App Custom Fields and Logic cannot offer you an extension based on fields which are already present in the ACDOCA/ACDOCP table.&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;SPAN&gt;You will first need to enable your custom fields, which start on ZZ_ or YY_ with transaction&amp;nbsp;&lt;SPAN class=""&gt;SCFD_EUI(see SAP Note 2672370).&lt;BR /&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;This will create a connection to the Custom Fields and Logic App. You might see different Business Contexts as it is taken directly from the created field. You do not need to worry, as Accounting: Market Segment can be used as well. The most important is if you are then able to select I_ActualPlanJournalEntryItemCube or I_JournalEntryItemCube from the list to enable usage.&lt;BR /&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;Once the process is done, the field will be visible in Custom Fields and Logic under Custom Fields, where you can select it, modify the usage and continue with the first step.&lt;BR /&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;&lt;STRONG&gt;Using a field delivered by SAP but not available in any CDS View Cube&lt;/STRONG&gt;&lt;BR /&gt;&lt;BR /&gt;There are fields in tables ACDOCA/ACDOCP which are not available in the CDS Cubes I_JournalEntryItemCube, I_ActualPlanJournalEntryItemCube. For this purpose, you need to follow these steps:&lt;BR /&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;OL&gt;&lt;LI&gt;A CDS view that selects all of your required fields from your database table. Data Source Extension does not support the selection of fields in database tables; only CDS views can be selected as sources.&lt;/LI&gt;&lt;LI&gt;This CDS view must be registered and released in transaction SCFD_REGISTRY. This is required to ensure that system upgrades do not break the extension (lifecycle stability)&lt;/LI&gt;&lt;/OL&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;For more information, see another SAP Blog:&lt;BR /&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blogs-by-sap/adding-field-in-standard-fiori-apps-of-s-4hana-with-custom-fields-and-logic/ba-p/13443650" target="_blank"&gt;https://community.sap.com/t5/enterprise-resource-planning-blogs-by-sap/adding-field-in-standard-fiori-apps-of-s-4hana-with-custom-fields-and-logic/ba-p/13443650&lt;/A&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;4. &lt;STRONG&gt;Extension of Import Financial Plan Data&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;You want to use the Fiori App: Import Financial Plan Data with your custom fields, but this is not possible as the field is not present in C_GenericPlanQ3001. Once you do an extension for this CDS View, you will be able to import data for your custom field.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&amp;nbsp;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;5. &lt;STRONG&gt;Extension of API A_CostCenter&lt;/STRONG&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;You may come across an extension of API CDS View for SAP Analytical Cloud or any other purpose. The process is the same.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;This can be extended in two ways.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;The first way is to use the Fiori App: Custom Fields and Logic. In this app, you will create a completely new field, which will be added to the CSKS table (Master Data Cost Center) as well as in CDS View E_COSTCENTER, A_COSTCENTER and others, depending on what you choose.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;The second option is to choose a field which is already in the CSKS table and can be either your new custom-made or some other which cannot be seen within the API.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Extension, in this case, works the same way as with Custom Fields and Logic, except for the fact you need to create the code on your own. First, you need to extend the E_COSTCENTER of your new field and activate it. This will enable this field for I_COSTCENTER, which is the Master Data view on the table CSKS.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;As a second step, you need to extend the A_COSTCENTER, which is the API for the Master Data. This will add the selected field to the Service API_COSTCENTER and enable it for reporting.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;The code for the CDS Extension will look like this:&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.sqlViewAppendName: 'Z_TEST'
extend view E_CostCenter with ZFO_EXTENSIOM
{
Persistence. verak as verak
}&lt;/code&gt;&lt;/pre&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.sqlViewAppendName: 'Z_TEST_A' 
extend view A_CostCenter with ZFO_EXTENSION_A
{
_Extension.verak as Z_VERAK
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Due to the different syntax in both CDS Views, you need to use:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&amp;nbsp;&lt;STRONG&gt;Persistence &lt;/STRONG&gt;for the &lt;STRONG&gt;E_COSTCENTER (This needs to be extended first)&lt;/STRONG&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;_Extension&lt;/STRONG&gt; for the &lt;STRONG&gt;A_COSTCENTER&lt;/STRONG&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Snímek obrazovky 2024-01-29 v&amp;nbsp;13.21.17.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/54850i51B378916926A8B9/image-size/large?v=v2&amp;amp;px=999" role="button" title="Snímek obrazovky 2024-01-29 v&amp;nbsp;13.21.17.png" alt="Snímek obrazovky 2024-01-29 v&amp;nbsp;13.21.17.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt; &lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;SPAN&gt;Please share your feedback or thoughts in the comment section.&lt;/SPAN&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;SPAN&gt;Follow me for more tips about BW or BPC in general so I can create more posts about these topics.&lt;/SPAN&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;SPAN&gt;You can also follow BW Planning, post and answer questions (&lt;/SPAN&gt;&lt;A href="https://answers.sap.com/tags/369280904654660339247670897548678" target="_blank" rel="noopener noreferrer"&gt;https://answers.sap.com/tags/369280904654660339247670897548678&lt;/A&gt;&lt;SPAN&gt;), and read other posts on the topic (&lt;/SPAN&gt;&lt;A href="https://blogs.sap.com/tags/369280904654660339247670897548678/" target="_blank" rel="noopener noreferrer"&gt;https://blogs.sap.com/tags/369280904654660339247670897548678/&lt;/A&gt;&lt;SPAN&gt;) for more content.&lt;/SPAN&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/how-to-extension-of-cds-views/ba-p/13584754"/>
    <published>2024-01-29T13:28:37.153000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/how-to-trigger-papm-function-from-analysis-for-office/ba-p/13602142</id>
    <title>How to trigger PaPM function from Analysis for Office</title>
    <updated>2024-02-13T09:47:40.567000+01:00</updated>
    <author>
      <name>irina_ivanova</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/683493</uri>
    </author>
    <content>&lt;P&gt;Let me share with your how to call PaPM function from Analysis for Office step-by-step.&lt;/P&gt;&lt;P&gt;Scenario allows user to update workbook by clicking on the button “Reconcile”. Button triggers remote call PaPM function by Function ID with parameters from workbook. In this case, variable “Planning version” value passed to PaPM function as selection fields.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Planning Form1.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/64461i5C32C0EC9D0E76F7/image-size/large?v=v2&amp;amp;px=999" role="button" title="Planning Form1.png" alt="Planning Form1.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;To carry out into practice this scenario it is necessary proceed next steps:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;Create the PaPM environment and functions for processing&lt;/LI&gt;&lt;LI&gt;Create the functional module additionally processing variables from workbook&lt;/LI&gt;&lt;LI&gt;Create the set of BW objects to realize the planning function&lt;/LI&gt;&lt;LI&gt;Create Macros to call the planning function&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;I describe each of them bellow in details.&lt;/P&gt;&lt;H3 id="toc-hId-1115140760"&gt;1. Creating PaPM environment&lt;/H3&gt;&lt;P&gt;My PaPM environment assumes reconciliation between two Model BW, implemented with Join and Writer function. Rules restricted by SELFLD0 and SELFLD1 fields, which are BW info-objects. SELFLD1 “Planning version” has a variable ZV_MSM_SELFLD1_01, which used in workbook. (&lt;A href="https://help.sap.com/docs/SAP_PROFITABILITY_PERFORMANCE_MANAGEMENT/56471df1959f4cfd9e3bf7a6d2d5be42/56a0a0a1d8b10f63e10000000a42189c.html" target="_blank" rel="noopener noreferrer"&gt;SAP Help: SAP Profitability and Performance Management&lt;/A&gt;&amp;nbsp;)&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="PaPM env2.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/64458i9BCEEA3B32E6B5A4/image-size/large?v=v2&amp;amp;px=999" role="button" title="PaPM env2.png" alt="PaPM env2.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H3 id="toc-hId-918627255"&gt;2.&amp;nbsp;Creating the Functional Module&lt;/H3&gt;&lt;P&gt;The functional module creating is carried out in thansaction SE37. Easy ABAP code allows implementing the&amp;nbsp; necessary rules to construct the parameters string, passed to the standard functional.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;FUNCTION ZNXI_RUN_BY_SELFLD1_FOX
  IMPORTING
    VALUE(I_ENV_ID) TYPE /NXI/P1_DTE_ENV_ID
    VALUE(I_VER) TYPE /NXI/P1_DTE_VER
    VALUE(I_FID) TYPE /NXI/P1_DTE_FID
    VALUE(I_PROC_ID) TYPE /NXI/P1_DTE_PROC_ID OPTIONAL
    VALUE(I_SELFLD1) TYPE /BIC/OISELFLD1 OPTIONAL
  EXPORTING
    VALUE(E_EXPTN) TYPE I. "Type’s used to easy access in FOX


  TYPES:
    BEGIN OF ls_AUXSTRC,
      /bic/SELFLD0 TYPE /bic/oiSELFLD0, "Dependent selection field
      /bic/SELFLD1 TYPE /bic/oiSELFLD1, "Selection field from Workbook
    END OF ls_AUXSTRC.

  DATA:
    l_selfld1 TYPE /BIC/OISELFLD1 VALUE '',
    l_pckg_sel TYPE /NXI/P1_DTE_PACKAGE_SEL VALUE '',
    l_tab_msg  TYPE BAPIRET2_TAB.

    E_EXPTN = 0. "OK execution by default

    IF I_ENV_ID IS INITIAL OR I_VER IS INITIAL OR I_FID IS INITIAL.
        E_EXPTN = 1. "Must be defined
        RETURN.
    ENDIF.

    IF I_PROC_ID IS INITIAL.
        l_selfld1 = I_SELFLD1. "If proccess wasn’t defined, selection field should be 
    ENDIF.

    IF l_selfld1 IS NOT INITIAL.
     SELECT SINGLE * FROM MYRELTBL INTO @DATA(ls_AUXSTRC)
      WHERE /BIC/SELFLD1 = @I_SELFLD1.

      CONCATENATE 'SELFLD0=( SELFLD0 = ''' ls_AUXSTRC-/bic/SELFLD0
        ''');SELFLD1=( SELFLD1 = ''' ls_AUXSTRC-/bic/SELFLD1 ''')' INTO l_pckg_sel.
    ENDIF.


    CALL FUNCTION '/NXI/P1_FW_RUN_FUNCTION_PC'
    EXPORTING
      i_env_id           = I_ENV_ID
      i_ver              = I_VER
      i_fid              = I_FID
      i_proc_id          = I_PROC_ID
      i_package_sel      = l_pckg_sel
      i_run_type         = 'RUN'
      i_rspc_synchronous = 'X'
      i_execute_post_run = 'X'
    IMPORTING
      e_tab_msg          = l_tab_msg.

IF l_tab_msg IS NOT INITIAL.
    E_EXPTN = 2. "Execution with errors
    RETURN.
ENDIF.

ENDFUNCTION.&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;To allow using the function ZNXI_RUN_BY_SELFLD1_FOX inside the FOX script, it should be declared in table RSPLF_FDIR via transaction SM30.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="sm30.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/64471i9879F727F1937307/image-size/medium?v=v2&amp;amp;px=400" role="button" title="sm30.png" alt="sm30.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H3 id="toc-hId-722113750"&gt;&amp;nbsp;3. Creating the set of the BW objects to realize the planning function&lt;/H3&gt;&lt;P&gt;The blog post&amp;nbsp;&lt;A href="https://community.sap.com/t5/technology-blogs-by-members/how-to-trigger-bw-process-chains-from-analysis-for-office/ba-p/13016633" target="_blank"&gt;How to Trigger BW Process Chains from Analysis for Office&lt;/A&gt;&amp;nbsp;&amp;nbsp;explains clearly and in detail how to create the set of objects for planning.&amp;nbsp;As a result, set of ADSO ZNXIDZ20, Composit Provider ZNXIVZ20, Aggregation ZNXIAZ20 are created.&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Planning Objects.png" style="width: 385px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/64463i70E1364F764E4CDA/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Planning Objects.png" alt="Planning Objects.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;In my case, ADSO ZNXIDZ20 consists of combination of standard info-objects /NXI* and Info-object SELFLD1, which store the selection filed value. Using SELFLD1 gives easy access to the necessary type within the FOX script, described below.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="ADSO.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/64456i247D48A13AFE90DF/image-size/medium?v=v2&amp;amp;px=400" role="button" title="ADSO.png" alt="ADSO.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;The Planning function ZNXAZ20_F001 is a formula type function (0RSPL_FORMULA) with the next configuration:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Planning function1.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/64462i69F56EDF0A0DA8D8/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Planning function1.png" alt="Planning function1.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;The following FOX script inside the planning function ZNXAZ20_F001 looks like bellow.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;DATA LV_ENV TYPE /NXI/ENV_ID.
DATA LV_VER TYPE /NXI/VER.
DATA LV_FID TYPE /NXI/FID.
DATA LV_PS_V TYPE SELFLD1.
DATA LV_ERR TYPE I.

LV_FID = VARV( 'ZV_MSM_NXIFID_01' ).
LV_PS_V = VARV( 'ZV_MSM_SELFLD1_01' ).
LV_ENV = VARV( 'ZV_MSM_NXIENV_01' ).
LV_VER = VARV( 'ZV_MSM_NXIVER_01' ).

CALL FUNCTION 'ZNXI_RUN_BY_SELFLD1_FOX'
EXPORTING I_ENV_ID = LV_ENV I_VER = LV_VER I_FID = LV_FID I_SELFLD1 = LV_PS_V
IMPORTING E_EXPTN = LV_ERR.
IF LV_ERR &amp;lt;&amp;gt; 0.
  MESSAGE E000( 0 ) WITH 'Error! Watch Application Monitor for details.'.
ENDIF.&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H3 id="toc-hId-525600245"&gt;4. Creating Macros to call planning function&lt;/H3&gt;&lt;P&gt;And the last but not least, Workbook macros for Reconcile button should be defined.&lt;/P&gt;&lt;P&gt;Add Planning function ZNXAZ20_F001 to workbook with alias PF_1. Constant for Function ID and variable Planning version are defined on hidden Tech page:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="WB_HiddenList1.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/64675i3EF47442CB540A69/image-size/large?v=v2&amp;amp;px=999" role="button" title="WB_HiddenList1.png" alt="WB_HiddenList1.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;After that, add macros code like bellow:&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;Public Sub ReconcileButtonAction()
    Call Application.Run("SAPExecutePlanningFunction", "PF_1")
    Call Application.Run(“SAPExecuteCommand”, "Refresh", "DS_1")
End Sub&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Вesides the Planning function execution, the related data store with alias DS_1 might be refreshed.&lt;/P&gt;&lt;P&gt;How to add the planning function described in blog post&amp;nbsp;&lt;A href="https://community.sap.com/t5/technology-blogs-by-members/using-planning-objects-in-analysis-for-microsoft-excel/ba-p/13271304" target="_blank"&gt;Using Planning Objects in Analysis For Microsoft Excel &lt;/A&gt;.&lt;/P&gt;&lt;P&gt;Thank you for reading through and I hope you now get a knowledge to apply in your practice.&lt;/P&gt;&lt;P&gt;Irina.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/how-to-trigger-papm-function-from-analysis-for-office/ba-p/13602142"/>
    <published>2024-02-13T09:47:40.567000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/planning-modernization/ba-p/14115243</id>
    <title>Planning Modernization</title>
    <updated>2025-05-31T09:43:14.440000+02:00</updated>
    <author>
      <name>fkatzdobler</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/488307</uri>
    </author>
    <content>&lt;H1 id="toc-hId-1602347104"&gt;Reflections on BW Modernization and Its Implications for Planning in the Cloud&lt;/H1&gt;&lt;P&gt;Since the announcement of the Business Data Cloud (BDC) a few months ago, I’ve followed numerous discussions surrounding the topic of BW Modernization with great interest. Given my background in planning applications and analytics architecture, these conversations have sparked several ideas about how the principles of BW Modernization could be extended—particularly toward modernizing planning landscapes.&lt;/P&gt;&lt;P&gt;Put simply: How can existing BW customers, especially those using multiple BPC (Business Planning and Consolidation) solutions, transition to the cloud without losing the value of their current investments? This question lies at the heart of Planning Modernization, and exploring it opens up promising pathways to integrate established assets with future-proof cloud architectures.&lt;/P&gt;&lt;H1 id="toc-hId-1405833599"&gt;The Data Product Generator applied to Planning Solutions&lt;/H1&gt;&lt;P&gt;The SAP Data Product Generator is a framework that allows users—particularly data domain owners and business analysts—to define, generate, and manage data products directly within SAP's ecosystem, such as the SAP Datasphere.&lt;/P&gt;&lt;P&gt;It promotes a decentralized approach to data ownership, following the principles of data mesh, and provides reusable, governed data entities that can be consumed across analytical and operational use cases.&lt;/P&gt;&lt;P&gt;The Data Product Generator can play a key role in planning applications.&lt;/P&gt;&lt;P&gt;Imagine you are operating a classic BW system and decide to transition to BW/4HANA Private Cloud Edition (PCE) or to BW7.5 PCE.&lt;/P&gt;&lt;P&gt;In this scenario, the Data Product Generator enables you to transform existing data models and planning scenarios into structured, reusable data products, enriched with business semantics and governance. This not only facilitates integration with modern cloud-based solutions, but also lays the foundation for a future-ready planning architecture.&lt;/P&gt;&lt;P&gt;You could use your plan cubes or plan ADSOs and provide the data stored there inside Datasphere as a source. And this is charming. Why?&lt;/P&gt;&lt;P&gt;At the same time, you may already be developing your new planning applications using Seamless Planning. In this approach, SAP Datasphere serves as the underlying physical data storage.&lt;/P&gt;&lt;P&gt;Imagine this: a user presses the save button in your SAP Analytics Cloud planning application, which is based on the BPC Live Connection on BW/4HANA PCE or BW7.5 PCE. Instantly, the corresponding data becomes available within Datasphere—no duplication, no delay, fully integrated.&lt;/P&gt;&lt;P&gt;This real-time connectivity enables a modern, hybrid planning landscape, combining the robustness of BW with the agility of cloud-native planning and analytics.&lt;/P&gt;&lt;P&gt;Your investments are not lost, you are still able to profit from them. With BW7.5 PCE until 2030 and with BW/4 PCE until 2040.&lt;/P&gt;&lt;H1 id="toc-hId-1209320094"&gt;Target Group, Is ths Approach for you?&lt;/H1&gt;&lt;P&gt;Who Might Benefit from This Approach?&lt;/P&gt;&lt;P&gt;This approach is particularly well-suited for customers with medium to high complexity BW systems.&lt;/P&gt;&lt;P&gt;If your system landscape is relatively simple, a greenfield approach using Seamless Planning might be the better option—allowing you to move away from the BPC world entirely and start fresh in the cloud.&lt;/P&gt;&lt;P&gt;However, many organizations soon realize that their Business Warehouse landscape is more complex than expected. While it's theoretically possible to narrow the project scope or drastically simplify planning processes, this often conflicts with legitimate business requirements that cannot be ignored.&lt;/P&gt;&lt;P&gt;In such cases, trying to rebuild everything from scratch—without BW and BPC—may result in delays, compromises, or unmet requirements. A hybrid approach that builds on your existing assets can provide a faster, more realistic path forward.&lt;/P&gt;&lt;P&gt;And you could foster the datasphere capabilities on your BW data and your data coming from seamless planning, which is quite powerful.&lt;/P&gt;&lt;H1 id="toc-hId-1012806589"&gt;Another Advantage: Flexibility Without Immediate Commitment to BW/4&lt;/H1&gt;&lt;P&gt;One of the key advantages of this approach is the flexibility it offers. You don't need to make an immediate decision to upgrade to BW/4HANA. Instead, you can simply move your existing SAP BW 7.5 system to the Private Cloud Edition (PCE) and start your modernization journey gradually.&lt;/P&gt;&lt;P&gt;This gives you time to assess your needs: perhaps by 2030, you’ll have successfully replaced your BW-based solutions altogether—without ever needing to transition to BW/4HANA. But if you later determine that a BW/4 upgrade is still necessary, the project can be seamlessly executed within the same PCE environment.&lt;/P&gt;&lt;P&gt;This approach offers a low-risk, future-proof path that adapts to your organization's pace and priorities.&lt;/P&gt;&lt;H1 id="toc-hId-816293084"&gt;What can you do already right now in your planning projects?&lt;/H1&gt;&lt;P&gt;When designing your current planning landscape, it’s important to critically evaluate the need for BPC. If your planning requirements can be fulfilled using Seamless Planning or SAP Analytics Cloud (SAC) Native Planning, that route is typically the preferred and future-ready approach. Of course, in certain cases, there may still be valid reasons to rely on BPC.&lt;/P&gt;&lt;P&gt;If you are currently implementing BPC-based solutions, make sure to use modern ADSO structures that are compatible with the Data Product Generator—this ensures smoother transitions and delta handling in future scenarios.&lt;/P&gt;&lt;P&gt;Also, take a close look at your frontend strategy. SAP Analytics Cloud offers a powerful and forward-looking interface for planning and analytics. Ask yourself whether using alternative tools is justified, especially if it might result in additional migration efforts down the road.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/planning-modernization/ba-p/14115243"/>
    <published>2025-05-31T09:43:14.440000+02:00</published>
  </entry>
</feed>
