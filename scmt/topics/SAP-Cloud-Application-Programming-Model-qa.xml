<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>https://raw.githubusercontent.com/ajmaradiaga/feeds/main/scmt/topics/SAP-Cloud-Application-Programming-Model-qa.xml</id>
  <title>SAP Community - SAP Cloud Application Programming Model</title>
  <updated>2025-11-16T12:00:58.774930+00:00</updated>
  <link href="https://community.sap.com/t5/c-khhcw49343/SAP Cloud Application Programming Model/pd-p/9f13aee1-834c-4105-8e43-ee442775e5ce" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator>
  <subtitle>SAP Cloud Application Programming Model Q&amp;A in SAP Community</subtitle>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/sap-cap-deployment-error-cannot-read-properties-of-undefined-reading/qaq-p/14245812</id>
    <title>SAP CAP deployment - error Cannot read properties of undefined (reading 'decodeCache') at jwt_auth</title>
    <updated>2025-10-16T13:41:21.416000+02:00</updated>
    <author>
      <name>nguyenhoangthaihuy</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/852727</uri>
    </author>
    <content>&lt;P&gt;Hi,&lt;/P&gt;&lt;P&gt;I'm trying to deploy a NodeJS SAP CAP application to CF subaccount. However, it fails and returns the error message.&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;{
   "date":"Thu Oct 16 2025 11:27:13 GMT+0000 (Coordinated Universal Time)",
   "error":{
      
   },
   "exception":true,
   "level":"error",
   "logger":"sap-cloud-sdk-logger",
   "message":"uncaughtException: Cannot read properties of undefined (reading 'decodeCache')\nTypeError: Cannot read properties of undefined (reading 'decodeCache')\n at jwt_auth (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/auth/jwt-auth.js:25:13)\n at auth_factory (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/auth/index.js:47:61)\n at _instantiate (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js:49:12)\n at /home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js:13:13\n at Array.map (&amp;lt;anonymous&amp;gt;)\n at Object.&amp;lt;anonymous&amp;gt; (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js:13:3)\n at Module._compile (node:internal/modules/cjs/loader:1692:14)\n at Object..js (node:internal/modules/cjs/loader:1824:10)\n at Module.load (node:internal/modules/cjs/loader:1427:32)\n at Module._load (node:internal/modules/cjs/loader:1250:12)",
   "msg":"TypeError: Cannot read properties of undefined (reading 'decodeCache')\n at jwt_auth (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/auth/jwt-auth.js:25:13)\n at auth_factory (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/auth/index.js:47:61)\n at _instantiate (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js:49:12)\n at /home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js:13:13\n at Array.map (&amp;lt;anonymous&amp;gt;)\n at Object.&amp;lt;anonymous&amp;gt; (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js:13:3)\n at Module._compile (node:internal/modules/cjs/loader:1692:14)\n at Object..js (node:internal/modules/cjs/loader:1824:10)\n at Module.load (node:internal/modules/cjs/loader:1427:32)\n at Module._load (node:internal/modules/cjs/loader:1250:12)",
   "os":{
      "loadavg":[
         3.7,
         4.19,
         3.62
      ],
      "uptime":3078.95
   },
   "process":{
      "argv":[
         "/home/vcap/deps/0/node/bin/node",
         "/home/vcap/app/node_modules/.bin/cds-serve"
      ],
      "cwd":"/home/vcap/app",
      "execPath":"/home/vcap/deps/0/node/bin/node",
      "gid":2000,
      "memoryUsage":{
         "arrayBuffers":120645,
         "external":3422153,
         "heapTotal":73289728,
         "heapUsed":44204360,
         "rss":134422528
      },
      "pid":228,
      "uid":2000,
      "version":"v24.3.0"
   },
   "stack":"TypeError: Cannot read properties of undefined (reading 'decodeCache')\n at jwt_auth (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/auth/jwt-auth.js:25:13)\n at auth_factory (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/auth/index.js:47:61)\n at _instantiate (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js:49:12)\n at /home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js:13:13\n at Array.map (&amp;lt;anonymous&amp;gt;)\n at Object.&amp;lt;anonymous&amp;gt; (/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js:13:3)\n at Module._compile (node:internal/modules/cjs/loader:1692:14)\n at Object..js (node:internal/modules/cjs/loader:1824:10)\n at Module.load (node:internal/modules/cjs/loader:1427:32)\n at Module._load (node:internal/modules/cjs/loader:1250:12)",
   "test":"exception",
   "timestamp":"2025-10-16T11:27:13.582Z",
   "trace":[
      {
         "column":13,
         "file":"/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/auth/jwt-auth.js",
         "function":"jwt_auth",
         "line":25,
         "method":null,
         "native":false
      },
      {
         "column":61,
         "file":"/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/auth/index.js",
         "function":"auth_factory",
         "line":47,
         "method":null,
         "native":false
      },
      {
         "column":12,
         "file":"/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js",
         "function":"_instantiate",
         "line":49,
         "method":null,
         "native":false
      },
      {
         "column":13,
         "file":"/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js",
         "function":null,
         "line":13,
         "method":null,
         "native":false
      },
      {
         "column":null,
         "file":null,
         "function":"Array.map",
         "line":null,
         "method":"map",
         "native":false
      },
      {
         "column":3,
         "file":"/home/vcap/deps/0/node_modules/@sap/cds/lib/srv/middlewares/index.js",
         "function":null,
         "line":13,
         "method":null,
         "native":false
      },
      {
         "column":14,
         "file":"node:internal/modules/cjs/loader",
         "function":"Module._compile",
         "line":1692,
         "method":"_compile",
         "native":false
      },
      {
         "column":10,
         "file":"node:internal/modules/cjs/loader",
         "function":"Object..js",
         "line":1824,
         "method":".js",
         "native":false
      },
      {
         "column":32,
         "file":"node:internal/modules/cjs/loader",
         "function":"Module.load",
         "line":1427,
         "method":"load",
         "native":false
      },
      {
         "column":12,
         "file":"node:internal/modules/cjs/loader",
         "function":"Module._load",
         "line":1250,
         "method":"_load",
         "native":false
      }
   ],
   "written_at":"2025-10-16T11:27:13.582Z",
   "written_ts":1760614033582
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;NPM packages I'm using&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/163398"&gt;@cap&lt;/a&gt;-js/cds-types@0.11.0
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/163398"&gt;@cap&lt;/a&gt;-js/hana@2.1.1
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/163398"&gt;@cap&lt;/a&gt;-js/sqlite@2.0.1
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;-cloud-sdk/connectivity@3.26.4
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;-cloud-sdk/core@1.54.2
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;-cloud-sdk/generator@3.26.4
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;-cloud-sdk/http-client@3.26.4
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;-cloud-sdk/odata-v2@3.26.4
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;-cloud-sdk/odata-v4@3.26.4
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;-cloud-sdk/util@3.26.4
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/audit-logging@5.8.4
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/cds-dk@9.0.6
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/cds-odata-v2-adapter-proxy@1.9.21
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/cds@9.0.4
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/hana-client@2.26.18
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/hdi-deploy@4.9.1
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/ux-specification@1.136.8
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/xb-msg-amqp-v100@0.9.58
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/xb-msg-env@0.9.8
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/xb-msg@0.9.12
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/xsenv@4.2.0
â”œâ”€â”€ &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/xssec@3.6.2
â”œâ”€â”€ axios@1.12.2
â”œâ”€â”€ cds-plugin-ui5@0.13.6
â”œâ”€â”€ express@4.21.2
â”œâ”€â”€ hdb@0.19.12
â”œâ”€â”€ mbt@1.2.34
â”œâ”€â”€ moment@2.30.1
â”œâ”€â”€ nodemon@3.1.10
â”œâ”€â”€ passport@0.7.0
â”œâ”€â”€ pm2@5.4.3
â”œâ”€â”€ request-promise@4.2.6
â”œâ”€â”€ request@2.88.2
â”œâ”€â”€ rimraf@5.0.10
â”œâ”€â”€ sap-cf-axios@1.0.2
â””â”€â”€ sqlite3@5.1.7&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;Has anyone seen this error before?&lt;/P&gt;&lt;P&gt;Regards,&lt;/P&gt;&lt;P&gt;Huy&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/sap-cap-deployment-error-cannot-read-properties-of-undefined-reading/qaq-p/14245812"/>
    <published>2025-10-16T13:41:21.416000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/sap-cap-app-template-generator-crashing-with-env-on-error/qaq-p/14246298</id>
    <title>sap cap app template generator crashing with env.on error</title>
    <updated>2025-10-16T19:11:56.995000+02:00</updated>
    <author>
      <name>deepak_h3</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/214031</uri>
    </author>
    <content>&lt;P&gt;sap cap app template generator crashing with env.on error&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="deepak_h3_0-1760634623914.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/328614i308F64DBF09B8776/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="deepak_h3_0-1760634623914.png" alt="deepak_h3_0-1760634623914.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="deepak_h3_1-1760634646691.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/328615i1413AFDFBB3A8CE7/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="deepak_h3_1-1760634646691.png" alt="deepak_h3_1-1760634646691.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/sap-cap-app-template-generator-crashing-with-env-on-error/qaq-p/14246298"/>
    <published>2025-10-16T19:11:56.995000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/ask-for-roadmap-for-cap-java-support-for-attachments-in-object-store/qaq-p/14246521</id>
    <title>Ask for roadmap for CAP JAVA support for attachments in Object Store</title>
    <updated>2025-10-17T04:43:01.042000+02:00</updated>
    <author>
      <name>david_F</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1511221</uri>
    </author>
    <content>&lt;P&gt;Hello CAP team,&lt;/P&gt;&lt;P&gt;I am delighted to see in the CAP August 2025 release, there is an alpha version release for attachment to the object store service.&lt;/P&gt;&lt;P&gt;However, multi-tenancy is not supported in this version, so we can hardly use this feature in production.&lt;/P&gt;&lt;P&gt;So may I kindly ask the roadmap for this feature? Will multi-tenancy be supported in the future? When can we expect the support to be released?&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/ask-for-roadmap-for-cap-java-support-for-attachments-in-object-store/qaq-p/14246521"/>
    <published>2025-10-17T04:43:01.042000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/sap-datasphere-consumption-view-can-it-update-data-into-table/qaq-p/14246926</id>
    <title>sap datasphere consumption view - can it update data into table</title>
    <updated>2025-10-17T11:44:48.821000+02:00</updated>
    <author>
      <name>deepak_h3</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/214031</uri>
    </author>
    <content>I am doing the below blog. &lt;A href="https://discovery-center.cloud.sap/card/510aefc5-a8a5-413d-88c5-90d9a3e3f3f7" target="_blank" rel="nofollow noopener noreferrer"&gt;https://discovery-center.cloud.sap/card/510aefc5-a8a5-413d-88c5-90d9a3e3f3f7&lt;/A&gt; We have requirement to create Fiori app to update Tables in datasphere present in space. 1. Can I use this consumption view and using user service - update the table somehow ? 2. Do I need to use the underlying table and expose it to the CAP application and then try to update it - is it possible ? Any pointers on the original requirements will also be helpful.</content>
    <link href="https://community.sap.com/t5/technology-q-a/sap-datasphere-consumption-view-can-it-update-data-into-table/qaq-p/14246926"/>
    <published>2025-10-17T11:44:48.821000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/how-to-get-all-input-fields-from-a-fragment-without-using-their-ids/qaq-p/14247353</id>
    <title>How to get all input fields from a fragment without using their IDs</title>
    <updated>2025-10-17T16:29:02.866000+02:00</updated>
    <author>
      <name>Lein-saap</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2260511</uri>
    </author>
    <content>&lt;P&gt;Dear experts,&lt;/P&gt;&lt;P&gt;I know that getValue()works with specific control IDs, but I would like to retrieve all the input fields from a fragment without accessing each one by its ID.&lt;/P&gt;&lt;P&gt;Is there a recommended way to achieve this in SAPUI5?&lt;/P&gt;&lt;P&gt;Kind regards,&lt;BR /&gt;Lein&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/how-to-get-all-input-fields-from-a-fragment-without-using-their-ids/qaq-p/14247353"/>
    <published>2025-10-17T16:29:02.866000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/anybody-help-me-how-to-consume-a-sap-capm-service-in-another-capm-service/qaq-p/14248938</id>
    <title>Anybody help me how to consume a sap capm service in another capm service in diff subaccount.</title>
    <updated>2025-10-21T07:09:09.619000+02:00</updated>
    <author>
      <name>raghavendra_devireddy</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2171418</uri>
    </author>
    <content>&lt;P&gt;Hello capirates,&lt;BR /&gt;&lt;BR /&gt;I want to consume a sap capm service which has entity level restrictions in another sap capm application srv layer which is in different subaccount. Can anyone help me out please ?&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/anybody-help-me-how-to-consume-a-sap-capm-service-in-another-capm-service/qaq-p/14248938"/>
    <published>2025-10-21T07:09:09.619000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/how-to-consume-a-capm-srv-in-another-capm-srv-which-is-in-different/qaq-p/14248967</id>
    <title>How to consume a capm srv in another capm srv which is in different subaccount</title>
    <updated>2025-10-21T07:42:36.270000+02:00</updated>
    <author>
      <name>raghavendra_devireddy</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2171418</uri>
    </author>
    <content>&lt;P&gt;Hello Capirates,&lt;BR /&gt;&lt;BR /&gt;I want to consume a capm service which has entity level restrictions in another capm service which is in different subaccount. How can i achieve it ? can anyone help me out please ?&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/how-to-consume-a-capm-srv-in-another-capm-srv-which-is-in-different/qaq-p/14248967"/>
    <published>2025-10-21T07:42:36.270000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/external-api-call-from-cap-project-in-bas/qaq-p/14251815</id>
    <title>External API call from CAP project in BAS</title>
    <updated>2025-10-23T15:30:33.944000+02:00</updated>
    <author>
      <name>Phani3310</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1503125</uri>
    </author>
    <content>&lt;P&gt;Hi All ,&lt;/P&gt;&lt;P&gt;i am trying to call external API in CAP project "&lt;SPAN&gt;API_BUSINESS_PARTNER"&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;i am getting&amp;nbsp; response but no data&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;PRE&gt;{"@odata.context":"$metadata#A_BusinessPartner","value":[]}&lt;SPAN&gt;".&lt;/SPAN&gt;&lt;/PRE&gt;&lt;P&gt;Service.cds&lt;/P&gt;&lt;pre class="lia-code-sample language-javascript"&gt;&lt;code&gt;using { API_BUSINESS_PARTNER as abp } from './external/API_BUSINESS_PARTNER.csn';

service BusinessService {  
    entity A_BusinessPartner as projection on abp.A_BusinessPartner {
        key BusinessPartner, Customer, BusinessPartnerFullName, BusinessPartnerGrouping, BusinessPartnerUUID, OrganizationBPName1     }
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;Service.js&lt;/P&gt;&lt;pre class="lia-code-sample language-javascript"&gt;&lt;code&gt;const cds = require('@sap/cds');
module.exports = cds.service.impl( async function() {
    const bp = await cds.connect.to('API_BUSINESS_PARTNER');    
    this.on('READ', 'A_BusinessPartner', async req =&amp;gt; {        
        return bp.run(req.query);       
    });
})&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;package.json&lt;/P&gt;&lt;pre class="lia-code-sample language-javascript"&gt;&lt;code&gt;{
  "name": "new",
  "version": "1.0.0",
  "description": "A simple CAP project.",
  "dependencies": {
    "@cap-js/hana": "^2",
    "@sap-cloud-sdk/connectivity": "^4.1.2",
    "@sap-cloud-sdk/http-client": "^4.1.2",
    "@sap-cloud-sdk/resilience": "^4.1.2",
    "@sap-cloud-sdk/util": "^4.1.2",
    "@sap/cds": "^9",
    "express": "^4"
  },
  "devDependencies": {
    "@cap-js/sqlite": "^2",
    "@sap/cds-dk": "^9"
  },
  "scripts": {
    "start": "cds-serve"
  },
  "private": true,
  "cds": {
    "requires": {
      "API_BUSINESS_PARTNER": {
        "kind": "odata-v2",
        "model": "srv/external/API_BUSINESS_PARTNER",
        "credentials": {
          "url": "https://sandbox.api.sap.com/s4hanacloud/sap/opu/odata/sap/API_BUSINESS_PARTNER",
          "headers": {
            "APIKey": "xBKJfJi0dg1AdpCGLYv88WVdFEEy78GP"
          }
        }
      }
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;Thanks,&lt;/P&gt;&lt;P&gt;Phani&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/external-api-call-from-cap-project-in-bas/qaq-p/14251815"/>
    <published>2025-10-23T15:30:33.944000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/sap-hana-db-replication-task-projection-mapping/qaq-p/14252717</id>
    <title>SAP HANA DB replication task, projection mapping</title>
    <updated>2025-10-24T16:37:05.019000+02:00</updated>
    <author>
      <name>Frank_Hinrichsen</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/325562</uri>
    </author>
    <content>&lt;P&gt;Hi All,&amp;nbsp;&lt;/P&gt;&lt;P&gt;I have a rather simple Replication task using SDI to retrieve data from ERP Backend as a Virtual table and want to map this to a column table on Hana Cloud. This is working ok.&lt;/P&gt;&lt;P&gt;I'm using the Hana Native artifact&amp;nbsp; *.hdbreptask&amp;nbsp;GUID to achieve the above and more specific the projection here to do the needed mapping of fields.&amp;nbsp;&lt;/P&gt;&lt;P&gt;And here is my simple requirement/question.&lt;/P&gt;&lt;P&gt;How to map&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;from a source_date NVARCHAR(8) date - example '19991231'&amp;nbsp;&lt;/LI&gt;&lt;LI&gt;to&amp;nbsp;&amp;nbsp;target_date of Date type - example&amp;nbsp; '1999-12-31'.&amp;nbsp;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;This should be very simple, but I cannot figure out the syntax &lt;span class="lia-unicode-emoji" title=":disappointed_face:"&gt;ðŸ˜ž&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;U&gt;&lt;EM&gt;&lt;STRONG&gt;What did I try until now.&lt;/STRONG&gt;&lt;/EM&gt;&lt;/U&gt;&lt;/P&gt;&lt;P&gt;I tried to use TO_DATE function for this ( example TO_DATA("source_date", 'YYYYMMDDÂ´)), but I cannot get a valid syntax to achieve this..&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/sap-hana-db-replication-task-projection-mapping/qaq-p/14252717"/>
    <published>2025-10-24T16:37:05.019000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/how-can-i-exclude-cap-sample-data-from-deployment-to-production/qaq-p/14254891</id>
    <title>How can I exclude CAP sample data from deployment to production?</title>
    <updated>2025-10-28T09:14:56.603000+01:00</updated>
    <author>
      <name>christian_noack</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/137044</uri>
    </author>
    <content>&lt;P&gt;Hi,&lt;/P&gt;&lt;P&gt;I have setup a cap application connected to a hana database. We deploy via mta.yaml to cloud foundry.&lt;/P&gt;&lt;P&gt;For local development we want to use sample data, but I want to exclude it from deployment to our uat and production environment.&amp;nbsp;&lt;/P&gt;&lt;P&gt;We have a spring boot java application and for database deployment use typical node based database deployers.&lt;/P&gt;&lt;DIV&gt;&lt;PRE&gt;- &lt;SPAN&gt;name&lt;/SPAN&gt;:product-api-db-deployer&lt;BR /&gt;  &lt;SPAN&gt;type&lt;/SPAN&gt;: hdb&lt;BR /&gt;  &lt;SPAN&gt;path&lt;/SPAN&gt;: db&lt;BR /&gt;  &lt;SPAN&gt;parameters&lt;/SPAN&gt;:&lt;BR /&gt;    &lt;SPAN&gt;buildpack&lt;/SPAN&gt;: nodejs_buildpack&lt;BR /&gt;  &lt;SPAN&gt;requires&lt;/SPAN&gt;:&lt;BR /&gt;    - &lt;SPAN&gt;name&lt;/SPAN&gt;: product-api-db&lt;BR /&gt;  &lt;SPAN&gt;build-parameters&lt;/SPAN&gt;:&lt;BR /&gt;    &lt;SPAN&gt;builder&lt;/SPAN&gt;: custom&lt;BR /&gt;    &lt;SPAN&gt;commands&lt;/SPAN&gt;:&lt;BR /&gt;      - npm run build&lt;/PRE&gt;&lt;/DIV&gt;&lt;P&gt;I understand that with cdsrc.json or package.json some environment specific settings can be configured, but I don't know how to exclude our sample data with that.&amp;nbsp; Also I only want to exclude the sample data, not the schema updates.&lt;BR /&gt;&lt;BR /&gt;We have the standard folder structure for database and sample data:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="christian_noack_0-1761639247320.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/333268i6EBBF899D94F3905/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="christian_noack_0-1761639247320.png" alt="christian_noack_0-1761639247320.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Cheers!&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/how-can-i-exclude-cap-sample-data-from-deployment-to-production/qaq-p/14254891"/>
    <published>2025-10-28T09:14:56.603000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/perform-crud-operation-from-sap-btp-bas-on-datasphere/qaq-p/14257348</id>
    <title>Perform CRUD operation from SAP BTP BAS on Datasphere.</title>
    <updated>2025-10-30T17:30:16.598000+01:00</updated>
    <author>
      <name>Prayas</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1908805</uri>
    </author>
    <content>&lt;P&gt;&lt;STRONG&gt;Hi everyone,&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Weâ€™re working on a BAS (CAPM) application and aiming to perform full CRUD operations using data from &lt;STRONG&gt;SAP Datasphere&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;While weâ€™ve successfully implemented the &lt;STRONG&gt;read (fetch)&lt;/STRONG&gt; functionality using the architecture shown below, weâ€™re currently facing challenges with enabling &lt;STRONG&gt;create, update, and delete&lt;/STRONG&gt; operations directly on Datasphere tables.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="solution-diagram.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/334443i05A3026275E356E6/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="solution-diagram.png" alt="solution-diagram.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Weâ€™d really appreciate any guidance, resources, or architectural suggestions that could help us achieve this. If anyone has experience or insights on enabling write operations with Datasphere from BAS, your support would be invaluable!&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+Datasphere/pd-p/73555000100800002141" class="lia-product-mention" data-product="16-1"&gt;SAP Datasphere&lt;/a&gt;&amp;nbsp;&lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+Cloud+Application+Programming+Model/pd-p/9f13aee1-834c-4105-8e43-ee442775e5ce" class="lia-product-mention" data-product="100-1"&gt;SAP Cloud Application Programming Model&lt;/a&gt;&amp;nbsp; &lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+Fiori+Cloud/pd-p/73554900100800000375" class="lia-product-mention" data-product="20-1"&gt;SAP Fiori Cloud&lt;/a&gt;&amp;nbsp;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Thanks in advance!&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/perform-crud-operation-from-sap-btp-bas-on-datasphere/qaq-p/14257348"/>
    <published>2025-10-30T17:30:16.598000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/sap-cap-deployment-issue-in-btp-trial/qaq-p/14257689</id>
    <title>SAP CAP Deployment issue in BTP Trial</title>
    <updated>2025-10-31T09:49:32.078000+01:00</updated>
    <author>
      <name>DebashishDas</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/121928</uri>
    </author>
    <content>&lt;P&gt;Hi All,&lt;/P&gt;&lt;P&gt;After a long time i am using BTP trial account. Found something interesting. I am not able to deploy the CAP project from BAS to cloud foundry. Tried to follow all other solutions. Please follow the below details and help me out on the same -&lt;/P&gt;&lt;P&gt;Error message -&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DebashishDas_0-1761900340720.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/334608i51B715379D0914DC/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DebashishDas_0-1761900340720.png" alt="DebashishDas_0-1761900340720.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;My Hana instance is up and running -&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DebashishDas_1-1761900397883.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/334609i713DF0D2DA053ED6/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DebashishDas_1-1761900397883.png" alt="DebashishDas_1-1761900397883.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Space Quotas are mostly set to unlimited -&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DebashishDas_2-1761900447953.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/334610i2093E34E0A806068/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="DebashishDas_2-1761900447953.png" alt="DebashishDas_2-1761900447953.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;I would like your support here to solve so i can progress further.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/sap-cap-deployment-issue-in-btp-trial/qaq-p/14257689"/>
    <published>2025-10-31T09:49:32.078000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/question-about-running-job-from-subaccount-b-to-application-in-subaccount-a/qaq-p/14258221</id>
    <title>Question about running Job from Subaccount B to Application in Subaccount A</title>
    <updated>2025-10-31T22:32:35.637000+01:00</updated>
    <author>
      <name>jmtrujillogalan</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1249</uri>
    </author>
    <content>&lt;P&gt;Hi,&lt;/P&gt;&lt;P&gt;I have a request to run a Job in subaccount &lt;STRONG&gt;B&lt;/STRONG&gt; that calls an endpoint from an application in subaccount &lt;STRONG&gt;A&amp;nbsp;&lt;/STRONG&gt;in BTP.&lt;/P&gt;&lt;P&gt;Running Jobs within the same subaccount works correctly, but when I try from another subaccount, I get a &lt;STRONG&gt;401 error&lt;/STRONG&gt; with the client ID.&lt;/P&gt;&lt;P&gt;Iâ€™ve read about multitenancy, but from what I understand, in those cases the multitenant application has the Job service &lt;STRONG&gt;bound in the same subaccount&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;Is it mandatory to bind the service, or is it possible to support the &lt;STRONG&gt;B â†’ A&lt;/STRONG&gt; scenario without the service being bound?&lt;/P&gt;&lt;P&gt;Thanks and regards&lt;/P&gt;&lt;P&gt;&lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+Cloud+Application+Programming+Model/pd-p/9f13aee1-834c-4105-8e43-ee442775e5ce" class="lia-product-mention" data-product="100-1"&gt;SAP Cloud Application Programming Model&lt;/a&gt;&amp;nbsp;&lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+Job+Scheduling+service/pd-p/26cb1f2e-ad6d-4ec2-a9f1-80470a28f744" class="lia-product-mention" data-product="1253-1"&gt;SAP Job Scheduling service&lt;/a&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/question-about-running-job-from-subaccount-b-to-application-in-subaccount-a/qaq-p/14258221"/>
    <published>2025-10-31T22:32:35.637000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/issue-when-customizing-urls-for-ui-and-srv-in-cap-application-deployed-to/qaq-p/14261011</id>
    <title>Issue when customizing URLs for UI and SRV in CAP application deployed to Cloud Foundry</title>
    <updated>2025-11-05T08:46:22.737000+01:00</updated>
    <author>
      <name>yarin</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2041285</uri>
    </author>
    <content>&lt;P&gt;Hi CAP team,&lt;/P&gt;&lt;P&gt;Iâ€™m following the CAP bookshop example and successfully deployed the application to Cloud Foundry with both UI (AppRouter) and SRV modules.&lt;BR /&gt;Everything works correctly with the default route configuration.&lt;/P&gt;&lt;P&gt;However, after changing the URLs to custom routes for both the UI and SRV modules, the UI no longer loads the data from the SRV.&lt;BR /&gt;In the previous (default URLs) configuration, the data was shown correctly.&lt;/P&gt;&lt;P&gt;The data is loaded from a CSV file in the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;db/data&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;folder.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Custom URLs used:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;UI:&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;&lt;A href="https://cf.bookshop.playground.live.pu.ugw.cloud.sap" target="_blank" rel="noopener nofollow noreferrer"&gt;https://cf.bookshop.playground.live.pu.ugw.cloud.sap&lt;/A&gt;&lt;/CODE&gt;&lt;/LI&gt;&lt;LI&gt;SRV:&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;&lt;A href="https://srv.bookshop.playground.live.pu.ugw.cloud.sap" target="_blank" rel="noopener nofollow noreferrer"&gt;https://srv.bookshop.playground.live.pu.ugw.cloud.sap&lt;/A&gt;&lt;/CODE&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Steps to reproduce&lt;/STRONG&gt;&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;Clone this repository:&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://github.tools.sap/api-gateway/bookshop-mta" target="_blank" rel="nofollow noopener noreferrer"&gt;https://github.tools.sap/api-gateway/bookshop-mta&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;Deploy the application to Cloud Foundry with the default MTA configuration - works as expected.&lt;/LI&gt;&lt;LI&gt;Update&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;mta.yaml&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;to define the custom routes above for both the UI and SRV modules.&lt;/LI&gt;&lt;LI&gt;Redeploy the app - the UI loads, but data from the SRV is not shown.&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&lt;STRONG&gt;Expected behavior&lt;/STRONG&gt;&lt;BR /&gt;The UI should still display the data from the SRV even when using the custom routes.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Actual behavior&lt;/STRONG&gt;&lt;BR /&gt;The UI loads, but no data is displayed from the SRV when custom URLs are used.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Additional context&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;The data is static and comes from CSV files in&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;db/data&lt;/CODE&gt;.&lt;/LI&gt;&lt;LI&gt;The issue seems to be related to the destination or routing configuration between AppRouter and SRV.&lt;/LI&gt;&lt;/UL&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/issue-when-customizing-urls-for-ui-and-srv-in-cap-application-deployed-to/qaq-p/14261011"/>
    <published>2025-11-05T08:46:22.737000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/extending-entitlements-for-aem-validation-service-plan-across-subaccounts/qaq-p/14262049</id>
    <title>Extending Entitlements for aem-validation-service-plan Across Subaccounts</title>
    <updated>2025-11-06T12:12:01.473000+01:00</updated>
    <author>
      <name>aleksey_konchits</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/253993</uri>
    </author>
    <content>&lt;P class=""&gt;Hello experts,&lt;/P&gt;&lt;P class=""&gt;We are implementing a CAP service that needs to send and receive events to and from &lt;SPAN class=""&gt;&lt;STRONG&gt;SAP Advanced Event Mesh (AEM)&lt;/STRONG&gt;&lt;/SPAN&gt;. We have followed the configuration steps described in the official SAP documentation:&lt;/P&gt;&lt;P class=""&gt;&lt;A href="https://help.sap.com/docs/sap-integration-suite/advanced-event-mesh/cap-plugin-for-sap-integration-s..." target="_blank" rel="noopener noreferrer"&gt;CAP Plugin for SAP Integration Suite - Advanced Event Mesh&lt;/A&gt;&lt;/P&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;/DIV&gt;&lt;P class=""&gt;In our setup, the &lt;SPAN class=""&gt;&lt;STRONG&gt;CAP service&lt;/STRONG&gt;&lt;/SPAN&gt; is deployed in a &lt;SPAN class=""&gt;&lt;STRONG&gt;different subaccount&lt;/STRONG&gt;&lt;/SPAN&gt; from the one where &lt;SPAN class=""&gt;&lt;STRONG&gt;Advanced Event Mesh&lt;/STRONG&gt;&lt;/SPAN&gt; is provisioned. According to the documentation, the configuration requires a &lt;SPAN class=""&gt;&lt;STRONG&gt;service binding&lt;/STRONG&gt;&lt;/SPAN&gt; to an instance of &lt;SPAN class=""&gt;&lt;STRONG&gt;SAP Integration Suite (aem-validation-service-plan)&lt;/STRONG&gt;&lt;/SPAN&gt; to obtain the handshake API endpoint (URI).&lt;/P&gt;&lt;P class=""&gt;However, since the AEM instance exists in a different subaccount, itâ€™s not possible to directly bind the CAP service to this instance.&lt;/P&gt;&lt;P class=""&gt;We would like to clarify:&lt;/P&gt;&lt;P class=""&gt;&amp;nbsp;&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;P class=""&gt;Whether it is possible to &lt;SPAN class=""&gt;&lt;STRONG&gt;extend the entitlements&lt;/STRONG&gt;&lt;/SPAN&gt; for the subaccount hosting our CAP application to include the &lt;SPAN class=""&gt;&lt;STRONG&gt;aem-validation-service-plan&lt;/STRONG&gt;&lt;/SPAN&gt; from Advanced Event Mesh.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P class=""&gt;If such an extension is possible, would there be &lt;SPAN class=""&gt;&lt;STRONG&gt;any additional cost implications&lt;/STRONG&gt;&lt;/SPAN&gt; associated with enabling this plan in the CAP applicationâ€™s subaccount?&lt;/P&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P class=""&gt;Thank you in advance for your assistance.&lt;/P&gt;&lt;P class=""&gt;Best regards,&lt;BR /&gt;Oleksii&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/extending-entitlements-for-aem-validation-service-plan-across-subaccounts/qaq-p/14262049"/>
    <published>2025-11-06T12:12:01.473000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/difference-between-events-create-insert-custom-handlers-cap-node-js/qaq-p/14262571</id>
    <title>Difference between events 'CREATE' , 'INSERT' custom handlers CAP Node.js</title>
    <updated>2025-11-06T22:47:25.862000+01:00</updated>
    <author>
      <name>Ramjee_korada</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/10276</uri>
    </author>
    <content>&lt;P&gt;Hello Experts,&lt;BR /&gt;Can you please help me with the difference between the events &lt;STRONG&gt;&lt;CODE&gt;CREATE&lt;/CODE&gt;&lt;/STRONG&gt; and &lt;STRONG&gt;&lt;CODE&gt;INSERT&lt;/CODE&gt;&lt;/STRONG&gt;? When should I use each one, and what is the &lt;STRONG&gt;best practice&lt;/STRONG&gt;? Also, what is the &lt;STRONG&gt;standard sequence of invocation&lt;/STRONG&gt;? Based on my debugging, it appears that whichever event handler is implemented first is the one invoked first.&lt;/P&gt;&lt;P class=""&gt;this.before('CREATE', Properties, async (req) =&amp;gt; {&lt;BR /&gt;}&lt;/P&gt;&lt;P class=""&gt;this.before('INSERT', Properties, async (req) =&amp;gt; {&lt;BR /&gt;}&lt;/P&gt;&lt;P&gt;Best regards,&lt;BR /&gt;Ramjee Korada&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/difference-between-events-create-insert-custom-handlers-cap-node-js/qaq-p/14262571"/>
    <published>2025-11-06T22:47:25.862000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/sapui5-application-in-build-workzone-with-cap-application-as-a-proxy-to-the/qaq-p/14264536</id>
    <title>SAPUI5 application in Build Workzone with CAP Application as a proxy to the backend returns 403</title>
    <updated>2025-11-10T16:50:27.731000+01:00</updated>
    <author>
      <name>Erick_Grilo23</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2220441</uri>
    </author>
    <content>&lt;P&gt;Hello Experts,&lt;/P&gt;&lt;P&gt;I have a scenario that seems to be quite common, but I'm failing to find why exactly the integration between the SAPUI5 and a CAP microsservice is not working. In what follows there are some details:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;I have a CAP application with an approuter that will act as a intermediate between a simple customized table with data of things that relate to a specific customer. In the backend, there is a configuration that maps an user email with the customer that will be used. The backend itself is a OData service exposed through integration suite. This project was created with the CAP template in Business Application Studio. This part is working pretty much fine: i can access the instance of the CAP service with the approuter from a browser&lt;/LI&gt;&lt;LI&gt;I have a SAPUI5 application which has its own lifecycle, so it lives in a separate repository than the CAP microsservice. This application is hosted in SAP Build Workzone, standard edition, and the objective is to forward any request to the backend to the CAP Microssservice as a proxy to the backend that adds the user ID information (i.e., the email of the logged in user) seamlessly to retrieve data in the backend without the user even knowing that this is happening .&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;The CAP service works like a charm if I call the endpoint from the Browser:&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Erick_Grilo23_0-1762786130501.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/338087i75089A69FA7CD892/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Erick_Grilo23_0-1762786130501.png" alt="Erick_Grilo23_0-1762786130501.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;And now, I want to be able to call this same endpoint from my SAPUi5 application that is hosted in SAP Build workzone. I have seen the documentation of Build Workzone&amp;nbsp; and went through some tutorials, but all of them shows the case when the UI is deployed altogether with the CAP service in the same repository, which unfortunately is not my case.&amp;nbsp;&lt;/P&gt;&lt;P&gt;I have went through a lot of blog posts and other questions that looked like a similar error was happening, but I had no luck in fixing so far.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Here's my understanding:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;The CAP app has two service instances managed within its mta: &lt;SPAN&gt;gt-customer-portal-access-auth (technical name xsuaa, plan application) and&amp;nbsp;gt-customer-portal-access-auth (technical name destination, plan lite)&lt;/SPAN&gt;. They are both binded to the approuter and to the CAP generated service, so it looks good&lt;BR /&gt;below is the MTA of the CAP service:&lt;BR /&gt;&lt;DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;_schema-version&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;3.3.0&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;ID&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gt-customer-portal-access&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;version&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;1.0.0&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;description&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"A simple CAP project."&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;parameters&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;enable-parallel-deployments&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;true&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;build-parameters&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;before-all&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;builder&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;custom&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;commands&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;npm ci&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;npx cds build --production&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;modules&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gt-customer-portal-access-srv&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;type&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;nodejs&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;path&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gen/srv&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;parameters&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;instances&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;1&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;buildpack&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;nodejs_buildpack&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;build-parameters&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;builder&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;npm-ci&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;provides&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;srv-api&lt;/SPAN&gt; &lt;SPAN&gt;# required by consumers of CAP services (e.g. approuter)&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;properties&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;srv-url&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;${default-url}&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;requires&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gt-customer-portal-access-auth&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gt-customer-portal-access-destination&lt;/SPAN&gt;&lt;/DIV&gt;&lt;BR /&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gt-customer-portal-access&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;type&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;approuter.nodejs&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;path&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;app/router&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;parameters&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;keep-existing-routes&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;true&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;disk-quota&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;256M&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;memory&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;256M&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;requires&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;srv-api&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;group&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;destinations&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;properties&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;srv-api&lt;/SPAN&gt; &lt;SPAN&gt;# must be used in xs-app.json as well&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;url&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;~{srv-url}&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;forwardAuthToken&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;true&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gt-customer-portal-access-auth&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gt-customer-portal-access-destination&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;provides&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;app-api&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;properties&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;app-protocol&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;${protocol}&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;app-uri&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;${default-uri}&lt;/SPAN&gt;&lt;/DIV&gt;&lt;BR /&gt;&lt;DIV&gt;&lt;SPAN&gt;resources&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gt-customer-portal-access-auth&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;type&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;org.cloudfoundry.managed-service&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;parameters&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;service&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;xsuaa&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;service-plan&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;application&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;path&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;./xs-security.json&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;config&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;xsappname&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gt-customer-portal-access-gt-br-${space}&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;tenant-mode&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;dedicated&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;oauth2-configuration&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;redirect-uris&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;https://*~{app-api/app-uri}/**&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;requires&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;app-api&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; - &lt;/SPAN&gt;&lt;SPAN&gt;name&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;gt-customer-portal-access-destination&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;type&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;org.cloudfoundry.managed-service&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;parameters&lt;/SPAN&gt;&lt;SPAN&gt;:&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;service&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;destination&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;service-plan&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;&lt;SPAN&gt;lite&lt;BR /&gt;in xs-security.json, I have the following:&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;{&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"xsappname"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"gt-customer-portal-access-gt-br-${space}"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"tenant-mode"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"dedicated"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"oauth2-configuration"&lt;/SPAN&gt;&lt;SPAN&gt; : {&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"grant-types"&lt;/SPAN&gt;&lt;SPAN&gt; : [&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"authorization_code"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"password"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"client_credentials"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"refresh_token"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"user_token"&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; ]&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; },&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"scopes"&lt;/SPAN&gt;&lt;SPAN&gt;: [&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; { &lt;/SPAN&gt;&lt;SPAN&gt;"name"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"$XSAPPNAME.User"&lt;/SPAN&gt;&lt;SPAN&gt;, &lt;/SPAN&gt;&lt;SPAN&gt;"description"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"Default user scope"&lt;/SPAN&gt;&lt;SPAN&gt; }&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; ],&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"role-templates"&lt;/SPAN&gt;&lt;SPAN&gt;: [&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; {&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"name"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"UserRole"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"description"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"Default user role"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"scope-references"&lt;/SPAN&gt;&lt;SPAN&gt;: [&lt;/SPAN&gt;&lt;SPAN&gt;"$XSAPPNAME.User"&lt;/SPAN&gt;&lt;SPAN&gt;]&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; }&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; ]&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;}&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;and I have already assigned the UserRole to my User in BTP through a new Role Collection.&lt;BR /&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;in the approuter, I have the following:&lt;BR /&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;{&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"routes"&lt;/SPAN&gt;&lt;SPAN&gt;: [&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; {&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"source"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"^/(.*)$"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"target"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"$1"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"destination"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"srv-api"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"csrfProtection"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;true&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; }&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; ]&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;}&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/LI&gt;&lt;LI&gt;In my SAPUI5 application, as per some of the documents i've gone through, I should bind the same XSUAA instance that is managed by the CAP Application. So the MTA of the UI5 application is as below (there are some comments as I was trying different approaches to know where exactly the problem could be). Below is the MTA.yaml file of the SAPUI5 app:&lt;BR /&gt;_schema-version: "3.2"&lt;BR /&gt;ID: comvendorcustomermaterialorigin&lt;BR /&gt;description: Generated by Fiori Tools&lt;BR /&gt;version: 0.0.1&lt;BR /&gt;modules:&lt;BR /&gt;- name: comvendorcustomermaterialorigin-destination-content&lt;BR /&gt;type: com.sap.application.content&lt;BR /&gt;requires:&lt;BR /&gt;- name: comvendorcustomermaterialorigin-destination-service&lt;BR /&gt;parameters:&lt;BR /&gt;content-target: true&lt;BR /&gt;- name: comvendorcustomermaterialorigin-repo-host&lt;BR /&gt;parameters:&lt;BR /&gt;service-key:&lt;BR /&gt;name: comvendorcustomermaterialorigin-repo-host-key&lt;BR /&gt;- name: gt-customer-portal-access-auth&lt;BR /&gt;parameters:&lt;BR /&gt;service-key:&lt;BR /&gt;name: key&lt;BR /&gt;parameters:&lt;BR /&gt;content:&lt;BR /&gt;instance:&lt;BR /&gt;destinations:&lt;BR /&gt;- Name: comvendorcustomermaterialorigin_html_repo_host&lt;BR /&gt;ServiceInstanceName: comvendorcustomermaterialorigin-html5-service&lt;BR /&gt;ServiceKeyName: comvendorcustomermaterialorigin-repo-host-key&lt;BR /&gt;sap.cloud.service: comvendorcustomermaterialorigin&lt;BR /&gt;#09/11/2025 - abaixo acho que deve apontar pro camarada no CF.&lt;BR /&gt;#- Name: gt-customer-portal-access-aut&lt;BR /&gt;#ServiceInstanceName: gt-customer-portal-access-aut&lt;BR /&gt;#ServiceKeyName: ke&lt;BR /&gt;#Authentication: OAuth2UserTokenExchang&lt;BR /&gt;#sap.cloud.service: comvendorcustomermaterialorigi&lt;BR /&gt;# - Name: customer_Brasil_GT_CAP_BE&lt;BR /&gt;# URL: &lt;A href="https://fb031469trial-dev-gt-customer-portal-access.cfapps.us10-001.hana.ondemand.com" target="_blank" rel="noopener nofollow noreferrer"&gt;https://fb031469trial-dev-gt-customer-portal-access.cfapps.us10-001.hana.ondemand.com&lt;/A&gt;&lt;BR /&gt;# ServiceInstanceName:&lt;BR /&gt;# ServiceKeyName:&lt;BR /&gt;# Authentication: OAuth2UserTokenExchange&lt;BR /&gt;# ProxyType: Internet&lt;BR /&gt;# HTML5.DynamicDestination: true&lt;BR /&gt;# sap.cloud.service: comvendorcustomermaterialorigin&lt;BR /&gt;# forwardAuthToken: true&lt;BR /&gt;# - Authentication: OAuth2UserTokenExchange&lt;BR /&gt;# Name: comvendorcustomermaterialorigin_uaa&lt;BR /&gt;# ServiceInstanceName: comvendorcustomermaterialorigin-xsuaa-service&lt;BR /&gt;# ServiceKeyName: comvendorcustomermaterialorigin-uaa-key&lt;BR /&gt;# sap.cloud.service: comvendorcustomermaterialorigin&lt;BR /&gt;existing_destinations_policy: update&lt;BR /&gt;build-parameters:&lt;BR /&gt;no-source: true&lt;BR /&gt;- name: comvendorcustomermaterialorigin-app-content&lt;BR /&gt;type: com.sap.application.content&lt;BR /&gt;path: .&lt;BR /&gt;requires:&lt;BR /&gt;- name: comvendorcustomermaterialorigin-repo-host&lt;BR /&gt;parameters:&lt;BR /&gt;content-target: true&lt;BR /&gt;build-parameters:&lt;BR /&gt;build-result: resources&lt;BR /&gt;requires:&lt;BR /&gt;- artifacts:&lt;BR /&gt;- comvendorcustomermaterialorigin.zip&lt;BR /&gt;name: comvendorcustomermaterialorigin&lt;BR /&gt;target-path: resources/&lt;BR /&gt;- name: comvendorcustomermaterialorigin&lt;BR /&gt;type: html5&lt;BR /&gt;path: .&lt;BR /&gt;build-parameters:&lt;BR /&gt;build-result: dist&lt;BR /&gt;builder: custom&lt;BR /&gt;commands:&lt;BR /&gt;- npm install&lt;BR /&gt;- npm run build:cf&lt;BR /&gt;supported-platforms: []&lt;BR /&gt;resources:&lt;BR /&gt;- name: comvendorcustomermaterialorigin-destination-service&lt;BR /&gt;type: org.cloudfoundry.managed-service&lt;BR /&gt;parameters:&lt;BR /&gt;config:&lt;BR /&gt;HTML5Runtime_enabled: true&lt;BR /&gt;init_data:&lt;BR /&gt;instance:&lt;BR /&gt;destinations:&lt;BR /&gt;- Authentication: NoAuthentication&lt;BR /&gt;Name: ui5&lt;BR /&gt;ProxyType: Internet&lt;BR /&gt;Type: HTTP&lt;BR /&gt;URL: &lt;A href="https://ui5.sap.com" target="_blank" rel="noopener noreferrer"&gt;https://ui5.sap.com&lt;/A&gt;&lt;BR /&gt;- Authentication: NoAuthentication #setar a destination aqui nÃ£o seria necessÃ¡rio se vc fizer dirteto no BTP. PorÃ©m, aparentemente Ã© uma boa prÃ¡tica fazer isso a partir&lt;BR /&gt;#do mta&lt;BR /&gt;Name: portal-clientes-credentials&lt;BR /&gt;ProxyType: Internet&lt;BR /&gt;Type: HTTP&lt;BR /&gt;URL: &lt;A href="https://fb031469trial-dev-get-user-email-saml.cfapps.us10-001.hana.ondemand.com" target="_blank" rel="noopener nofollow noreferrer"&gt;https://fb031469trial-dev-get-user-email-saml.cfapps.us10-001.hana.ondemand.com&lt;/A&gt;&lt;BR /&gt;#update abaixo: apÃ³s voltar o app no Workzone com 403 - ultima tentativa hoje _ 02:24 08/11/2024&lt;BR /&gt;# - Authentication: OAuth2UserTokenExchange&lt;BR /&gt;# Name: customer_Brasil_GT_CAP_BE&lt;BR /&gt;# URL: &lt;A href="https://fb031469trial-dev-gt-customer-portal-access.cfapps.us10-001.hana.ondemand.com" target="_blank" rel="noopener nofollow noreferrer"&gt;https://fb031469trial-dev-gt-customer-portal-access.cfapps.us10-001.hana.ondemand.com&lt;/A&gt;&lt;BR /&gt;# Type: HTTP&lt;BR /&gt;# ProxyType: Internet&lt;BR /&gt;# forwardAuthToken: true&lt;BR /&gt;# existing_destinations_policy: update&lt;BR /&gt;version: 1.0.0&lt;BR /&gt;service: destination&lt;BR /&gt;service-name: comvendorcustomermaterialorigin-destination-service&lt;BR /&gt;service-plan: lite&lt;BR /&gt;- name: gt-customer-portal-access-auth&lt;BR /&gt;type: org.cloudfoundry.existing-service&lt;BR /&gt;# parameters:&lt;BR /&gt;# path: ./xs-security.json&lt;BR /&gt;# service: xsuaa&lt;BR /&gt;# service-name: comvendorcustomermaterialorigin-xsuaa-service&lt;BR /&gt;# service-plan: application&lt;BR /&gt;- name: comvendorcustomermaterialorigin-repo-host&lt;BR /&gt;type: org.cloudfoundry.managed-service&lt;BR /&gt;parameters:&lt;BR /&gt;service: html5-apps-repo&lt;BR /&gt;service-name: comvendorcustomermaterialorigin-html5-service&lt;BR /&gt;service-plan: app-host&lt;BR /&gt;parameters:&lt;BR /&gt;deploy_mode: html5-repo&lt;BR /&gt;enable-parallel-deployments: true&lt;BR /&gt;&lt;BR /&gt;&lt;/LI&gt;&lt;LI&gt;Note that it refers to the same xsuaa service as in&amp;nbsp;gt-customer-portal-access-auth.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;The problem is that when I open the app in build Workzone, the medatada call for the service returns 403 forbidden without even reaching the app router (I Believe so as there is no logs in the service instance, so it's a bit odd)&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Erick_Grilo23_1-1762788099326.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/338107i0F62F7A7CE9CE502/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Erick_Grilo23_1-1762788099326.png" alt="Erick_Grilo23_1-1762788099326.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Note that i have added a call to the service "whoami" as a test service that is in the CAP application and it's returning 404, and if i uncomment this part of the MTA and redeploy:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;# - Authentication: OAuth2UserTokenExchange&lt;BR /&gt;# Name: customer_Brasil_GT_CAP_BE&lt;BR /&gt;# URL: &lt;A href="https://fb031469trial-dev-gt-customer-portal-access.cfapps.us10-001.hana.ondemand.com" target="_blank" rel="noopener nofollow noreferrer"&gt;https://fb031469trial-dev-gt-customer-portal-access.cfapps.us10-001.hana.ondemand.com&lt;/A&gt;&lt;BR /&gt;# Type: HTTP&lt;BR /&gt;# ProxyType: Internet&lt;BR /&gt;# forwardAuthToken: true&lt;BR /&gt;# existing_destinations_policy: update&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;it also returns 403 now:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Erick_Grilo23_2-1762788774464.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/338112i26B75187C48126A5/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Erick_Grilo23_2-1762788774464.png" alt="Erick_Grilo23_2-1762788774464.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;I am not sure exactly what needs to be done either in CAP or in the SAPUI5 setup, as it looks like the CAP setup is OK, and most of the documents/blogs says that a destination in BTP level should be enough for the Build workzone approuter to connect to the CAP service. I have this destination setup as below:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Erick_Grilo23_3-1762789120209.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/338115i2370A8D06462423C/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Erick_Grilo23_3-1762789120209.png" alt="Erick_Grilo23_3-1762789120209.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Does anyone have gone a similar requirement and managed to make it work? I'm thinking that the approuter generated with my cap app can be the culprit but i'm not sure.&lt;/P&gt;&lt;P&gt;I also checked mostly the capire documents (which always uses the samples of UI5 along with CAP at the same deployment) and the documentation of Build Workzone (mainly &lt;A href="https://help.sap.com/docs/build-work-zone-standard-edition/sap-build-work-zone-standard-edition/developing-html5-applications-and-extensions?locale=en-US" target="_blank" rel="noopener noreferrer"&gt;https://help.sap.com/docs/build-work-zone-standard-edition/sap-build-work-zone-standard-edition/developing-html5-applications-and-extensions?locale=en-US&lt;/A&gt; and other related topics), but I still had no luck on making it work. There is also a sample in&amp;nbsp;&lt;A href="https://github.com/SAP-samples/cap-sflight" target="_blank" rel="noopener nofollow noreferrer"&gt;https://github.com/SAP-samples/cap-sflight &lt;/A&gt;but it uses an approuter from the SAPUI5, which I understood that is not the case when deployng the application to SAP Build Workzone, standard edition (looks like it has its own approuter).&lt;/P&gt;&lt;P&gt;Really appreciate any inputs,&lt;/P&gt;&lt;P&gt;Erick Grilo.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/sapui5-application-in-build-workzone-with-cap-application-as-a-proxy-to-the/qaq-p/14264536"/>
    <published>2025-11-10T16:50:27.731000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/automating-invoice-processing-using-sap-btp-capm-and-document-information/qaq-p/14266190</id>
    <title>Automating Invoice Processing Using SAP BTP, CAPM, and Document Information Extraction AI</title>
    <updated>2025-11-12T06:27:06.263000+01:00</updated>
    <author>
      <name>shrenath</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1630696</uri>
    </author>
    <content>&lt;P&gt;In todayâ€™s business world, automating repetitive back-office tasks can greatly enhance efficiency and accuracy. One such task is invoice verification and processing. In this blog, Iâ€™ll share how I built an end-to-end automated invoice processing system using SAP Business Technology Platform (BTP), CAP (Cloud Application Programming Model), and SAP Document Information Extraction (DOX) AI â€” leveraging OCR for intelligent data extraction and reporting.&lt;/P&gt;&lt;P&gt;Business Scenario:&lt;/P&gt;&lt;P&gt;Many organizations receive vendor invoices via email in different formats â€” PDFs, scanned images, or photos. Manually verifying and uploading these invoices into systems like SAP S/4HANA or SAP Business ByDesign can be time-consuming and error-prone.&lt;/P&gt;&lt;P&gt;My goal was to automate this entire process:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;Read incoming emails&lt;/LI&gt;&lt;LI&gt;Validate invoice templates&lt;/LI&gt;&lt;LI&gt;Extract invoice details intelligently&lt;/LI&gt;&lt;LI&gt;Store structured data in JSON format&lt;/LI&gt;&lt;LI&gt;Generate a daily summary report (Excel)&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;Architecture Overview&lt;/P&gt;&lt;P&gt;Workflow Diagarm:&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="shrenath_2-1762947101974.png" style="width: 538px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/339321i5D36B15F173AEC55/image-dimensions/538x826/is-moderation-mode/true?v=v2" width="538" height="826" role="button" title="shrenath_2-1762947101974.png" alt="shrenath_2-1762947101974.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Tools &amp;amp; Services Used:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;SAP BTP CAPM (Cloud Application Programming Model): For building backend logic and APIs&lt;/LI&gt;&lt;LI&gt;SAP Document Information Extraction (DOX) AI: For intelligent extraction of invoice content&lt;/LI&gt;&lt;LI&gt;SAP BTP Object Store / Document Repository: For storing extracted documents&lt;/LI&gt;&lt;LI&gt;Email Listener / Node.js service: For reading and parsing incoming emails&lt;/LI&gt;&lt;LI&gt;ExcelJS (or CAP plugin): For generating daily invoice reports&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;End-to-End Flow&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;Email Monitoring:&lt;BR /&gt;A CAP service listens to a configured mailbox using IMAP or MS Graph API. When a new mail arrives, it checks the subject and body for invoice-related keywords.&lt;/LI&gt;&lt;LI&gt;Template Validation:&lt;BR /&gt;The email content is validated against a predefined invoice template format to ensure that only legitimate invoices proceed further.&lt;/LI&gt;&lt;LI&gt;Attachment Check:&lt;BR /&gt;If an attachment exists:&lt;/LI&gt;&lt;UL&gt;&lt;LI&gt;If itâ€™s a PDF, itâ€™s sent directly to Document Extraction AI.&lt;/LI&gt;&lt;LI&gt;If itâ€™s an image (JPEG, PNG, etc.), itâ€™s first converted to PDF using an OCR library (like PDFKit), and then sent to DOX AI.&lt;/LI&gt;&lt;/UL&gt;&lt;LI&gt;Document Information Extraction:&lt;BR /&gt;The Document Extraction AI service processes the document and extracts key invoice fields like:&lt;/LI&gt;&lt;UL&gt;&lt;LI&gt;Vendor Name&lt;/LI&gt;&lt;LI&gt;Invoice Number&lt;/LI&gt;&lt;LI&gt;Invoice Date&lt;/LI&gt;&lt;LI&gt;Total Amount&lt;/LI&gt;&lt;LI&gt;Tax Details&lt;/LI&gt;&lt;/UL&gt;&lt;/OL&gt;&lt;P&gt;The extracted content is then stored as a JSON object in an SAP HANA database (or another data persistence layer in CAP).&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;Data Storage and Reporting:&lt;BR /&gt;At the end of the day, the system aggregates all processed invoices and generates a daily Excel report summarizing:&lt;/LI&gt;&lt;UL&gt;&lt;LI&gt;Number of invoices processed&lt;/LI&gt;&lt;LI&gt;Success vs. failure count&lt;/LI&gt;&lt;LI&gt;Vendor-wise totals&lt;/LI&gt;&lt;LI&gt;Any anomalies or mismatches&lt;/LI&gt;&lt;/UL&gt;&lt;/OL&gt;&lt;P&gt;This report is made available for download or automatically emailed to the finance team.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Technical Highlights&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;CAPM Backend Logic:&lt;BR /&gt;Built a CAP service that handles mail events, document extraction calls, and report generation.&lt;/LI&gt;&lt;LI&gt;Integration with DOX AI:&lt;BR /&gt;Used the Document Information Extraction API from SAP AI Business Services for content parsing.&lt;BR /&gt;API endpoint example:&lt;/LI&gt;&lt;LI&gt;POST /document-information-extraction/v1/document/jobs&lt;/LI&gt;&lt;LI&gt;OCR Enhancement:&lt;BR /&gt;For image attachments, OCR ensures that even scanned documents are converted into machine-readable text before extraction.&lt;/LI&gt;&lt;LI&gt;JSON Storage:&lt;BR /&gt;Extracted content is saved in a structured JSON format in the CAP model, making it easy to query, audit, or feed into analytics dashboards.&lt;/LI&gt;&lt;LI&gt;Excel Generation:&lt;BR /&gt;Used Node.js-based Excel generation via libraries like exceljs to automate daily reporting.&lt;/LI&gt;&lt;/UL&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;/DIV&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Results &amp;amp; Benefits&lt;/P&gt;&lt;TABLE width="619"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="310"&gt;&lt;P&gt;Feature&lt;/P&gt;&lt;/TD&gt;&lt;TD width="310"&gt;&lt;P&gt;Benefit&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="310"&gt;&lt;P&gt;Automated Email Monitoring&lt;/P&gt;&lt;/TD&gt;&lt;TD width="310"&gt;&lt;P&gt;Eliminates manual mail checking&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="310"&gt;&lt;P&gt;OCR + DOX Integration&lt;/P&gt;&lt;/TD&gt;&lt;TD width="310"&gt;&lt;P&gt;Handles multiple file types (PDF/Image)&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="310"&gt;&lt;P&gt;JSON Storage&lt;/P&gt;&lt;/TD&gt;&lt;TD width="310"&gt;&lt;P&gt;Enables structured and reusable data&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="310"&gt;&lt;P&gt;Excel Reporting&lt;/P&gt;&lt;/TD&gt;&lt;TD width="310"&gt;&lt;P&gt;Provides end-of-day insights for finance teams&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="310"&gt;&lt;P&gt;SAP BTP-based&lt;/P&gt;&lt;/TD&gt;&lt;TD width="310"&gt;&lt;P&gt;Scalable, secure, and easy to extend&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;Final report&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="shrenath_0-1762924805389.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/339073iD66D0561BC49DF04/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="shrenath_0-1762924805389.png" alt="shrenath_0-1762924805389.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Possible Enhancements&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Integrate with SAP Workflow Management for approvals&lt;/LI&gt;&lt;LI&gt;Add error notification service for failed invoices&lt;/LI&gt;&lt;LI&gt;Use SAP Build Apps for a visual dashboard of daily processing&lt;/LI&gt;&lt;LI&gt;Enable multi-language OCR for international invoice formats&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/automating-invoice-processing-using-sap-btp-capm-and-document-information/qaq-p/14266190"/>
    <published>2025-11-12T06:27:06.263000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/step-6-enable-draft-with-odata-draft-enabled-issue/qaq-p/14266478</id>
    <title>step 6: enable draft with @odata.draft.enabled issue</title>
    <updated>2025-11-12T10:23:37.056000+01:00</updated>
    <author>
      <name>Shivanshu-prasad</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2107948</uri>
    </author>
    <content>&lt;P&gt;Hi everyone&amp;nbsp;&amp;nbsp;&lt;SPAN&gt;i am doing as it is mentioned in the documentation. why i am getting this error can you help pls&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-11-12 120128.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/339100iED5E9D3F57FAFBB7/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-11-12 120128.png" alt="Screenshot 2025-11-12 120128.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-11-12 120146.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/339101i631060515EBFE066/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-11-12 120146.png" alt="Screenshot 2025-11-12 120146.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;â€ƒ&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-11-12 120207.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/339102i78F57EBF83928DB3/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-11-12 120207.png" alt="Screenshot 2025-11-12 120207.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;â€ƒâ€ƒ&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/step-6-enable-draft-with-odata-draft-enabled-issue/qaq-p/14266478"/>
    <published>2025-11-12T10:23:37.056000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/non-darft-support-for-cap-dms-plugin/qaq-p/14266614</id>
    <title>Non darft support for  CAP DMS plugin</title>
    <updated>2025-11-12T12:14:47.155000+01:00</updated>
    <author>
      <name>siddharth_jain</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/184556</uri>
    </author>
    <content>&lt;P&gt;Hello SAP&amp;nbsp; Experts ,&lt;/P&gt;&lt;P&gt;Can you please provide more info if CAP DMS plugin&amp;nbsp;&lt;A href="https://cap.cloud.sap/docs/plugins/#@cap-js/sdm" target="_blank" rel="noopener nofollow noreferrer"&gt;https://cap.cloud.sap/docs/plugins/#@cap-js/sdm&lt;/A&gt;&amp;nbsp;can be used with non draft entities , if yes how to implement the plugin in FPM custom page or freestyle Fiori UI5 app. there is no documentation available and draft scenario is not applicable in our case as we are using freestyle ui5 app , but wanted to leverage capability of plugin coming out of the box.&lt;/P&gt;&lt;P&gt;Thanks,&lt;BR /&gt;Siddharth&lt;/P&gt;&lt;P&gt;&lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+Cloud+Application+Programming+Model/pd-p/9f13aee1-834c-4105-8e43-ee442775e5ce" class="lia-product-mention" data-product="100-1"&gt;SAP Cloud Application Programming Model&lt;/a&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/non-darft-support-for-cap-dms-plugin/qaq-p/14266614"/>
    <published>2025-11-12T12:14:47.155000+01:00</published>
  </entry>
</feed>
