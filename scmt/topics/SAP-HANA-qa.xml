<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>https://raw.githubusercontent.com/ajmaradiaga/feeds/main/scmt/topics/SAP-HANA-qa.xml</id>
  <title>SAP Community - SAP HANA</title>
  <updated>2025-09-09T02:01:16.077222+00:00</updated>
  <link href="https://community.sap.com/t5/c-khhcw49343/SAP HANA/pd-p/73554900100700000996" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator>
  <subtitle>SAP HANA Q&amp;A in SAP Community</subtitle>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/automating-sap-hana-system-startup-in-a-distributed-hana-environment-on-gcp/qaq-p/14181033</id>
    <title>Automating SAP HANA System Startup in a Distributed HANA Environment on GCP</title>
    <updated>2025-08-14T17:02:34.599000+02:00</updated>
    <author>
      <name>NitinKhose</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1564702</uri>
    </author>
    <content>&lt;H2 id="toc-hId-1737773353"&gt;&lt;STRONG&gt;Overview&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;In a distributed SAP HANA environment hosted on Google Cloud Platform (GCP), starting SAP systems after a VM reboot can often be a manual and time-consuming process.&lt;BR /&gt;By creating automation scripts and integrating them with &lt;STRONG&gt;systemd services&lt;/STRONG&gt;, we can ensure that both the HANA database and SAP application servers start automatically when the VM is powered on from the GCP Console — without manual intervention.&lt;/P&gt;&lt;P&gt;This guide explains how we implemented and tested an automated startup sequence with detailed logging for monitoring.&lt;/P&gt;&lt;H3 id="toc-hId-1670342567"&gt;Architecture&lt;/H3&gt;&lt;P&gt;Our distributed SAP HANA setup consists of:&lt;/P&gt;&lt;UL class="lia-list-style-type-disc"&gt;&lt;LI&gt;&lt;STRONG&gt;Database Node –&lt;/STRONG&gt; runs the HANA database&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Application Node –&lt;/STRONG&gt; runs SAP ASCS and SAP Application Server&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;The goal:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL class="lia-list-style-type-disc"&gt;&lt;LI&gt;Start the HANA DB automatically when the DB VM boots.&lt;/LI&gt;&lt;LI&gt;Wait until the DB is online before starting the SAP ASCS and App instances.&lt;/LI&gt;&lt;LI&gt;Maintain detailed logs for troubleshooting .&lt;/LI&gt;&lt;/UL&gt;&lt;H2 id="toc-hId-1344746343"&gt;&lt;STRONG&gt;1. HANA DB Auto Start Script&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;&lt;STRONG&gt;File:&lt;/STRONG&gt; /usr/local/bin/start_hana_db.sh&lt;BR /&gt;&lt;STRONG&gt;Purpose:&lt;/STRONG&gt; Start the HANA DB service and log every step.&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;#!/bin/bash

LOGFILE="/usr/sap/&amp;lt;SID&amp;gt;/start_hana_db.log"
echo "=== Starting HANA DB at $(date) ===" &amp;gt;&amp;gt; "$LOGFILE"

# Step 1: StartService
echo "Running StartService..." &amp;gt;&amp;gt; "$LOGFILE"
/usr/sap/hostctrl/exe/sapcontrol -nr 00 -function StartService &amp;lt;DB_SID&amp;gt; &amp;gt;&amp;gt; "$LOGFILE" 2&amp;gt;&amp;amp;1

# Wait for 10 seconds
echo "Sleeping for 10 seconds..." &amp;gt;&amp;gt; "$LOGFILE"
sleep 10

# Step 2: Start DB
echo "Starting HANA DB..." &amp;gt;&amp;gt; "$LOGFILE"
/usr/sap/hostctrl/exe/sapcontrol -nr 00 -function Start &amp;gt;&amp;gt; "$LOGFILE" 2&amp;gt;&amp;amp;1

echo "=== HANA DB Startup Complete at $(date) ===" &amp;gt;&amp;gt; "$LOGFILE"&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-1148232838"&gt;&lt;STRONG&gt;2. systemd Service Units&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;&lt;STRONG&gt;Database Node Service&lt;/STRONG&gt; (hana_start.service):&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;[Unit]
Description=Start SAP HANA DB via sapcontrol
After=network-online.target multi-user.target
Wants=network-online.target

[Service]
Type=simple
User=&amp;lt;hana_admin_user&amp;gt;
ExecStart=/usr/local/bin/start_hana_db.sh
TimeoutStartSec=300
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-951719333"&gt;&lt;STRONG&gt;3. Enabling the Services&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;On &lt;STRONG&gt;Database Node&lt;/STRONG&gt;:&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl enable hana_start.service
sudo systemctl start hana_start.service
sudo systemctl status hana_start.service&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-755205828"&gt;&lt;STRONG&gt;4. SAP App Auto Start Script&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;&lt;STRONG&gt;File:&lt;/STRONG&gt; /usr/local/bin/start_sap_after_db.sh&lt;BR /&gt;&lt;STRONG&gt;Purpose:&lt;/STRONG&gt; Wait for HANA DB availability before starting SAP ASCS and App instances.&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;#!/bin/bash

LOGFILE="/usr/sap/&amp;lt;SID&amp;gt;/sap_app_startup.log"

echo "===== SAP Application Startup Script Triggered at $(date) =====" &amp;gt;&amp;gt; "$LOGFILE"

echo "Checking if SAP application can connect to HANA DB using R3trans -d..." &amp;gt;&amp;gt; "$LOGFILE"

# Wait until SAP can connect to DB
while true; do
    su - &amp;lt;sap_admin_user&amp;gt; -c 'R3trans -d' &amp;gt;&amp;gt; "$LOGFILE" 2&amp;gt;&amp;amp;1
    if [ $? -eq 0 ]; then
        echo "$(date): SAP Application can connect to DB. Proceeding with startup." &amp;gt;&amp;gt; "$LOGFILE"
        break
    else
        echo "$(date): R3trans -d failed. Waiting 10s before retrying..." &amp;gt;&amp;gt; "$LOGFILE"
        sleep 10
    fi
done

# Start ASCS instance
echo "$(date): Starting SAP ASCS Instance..." &amp;gt;&amp;gt; "$LOGFILE"
su - &amp;lt;sap_admin_user&amp;gt; -c '/usr/sap/hostctrl/exe/sapcontrol -nr &amp;lt;ASCS_Instance_Number&amp;gt; -function Start' &amp;gt;&amp;gt; "$LOGFILE" 2&amp;gt;&amp;amp;1

sleep 10

# Start App Server instance
echo "$(date): Starting SAP App Server Instance..." &amp;gt;&amp;gt; "$LOGFILE"
su - &amp;lt;sap_admin_user&amp;gt; -c '/usr/sap/hostctrl/exe/sapcontrol -nr &amp;lt;App_Instance_Number&amp;gt; -function Start' &amp;gt;&amp;gt; "$LOGFILE" 2&amp;gt;&amp;amp;1

echo "$(date): SAP ASCS and App Server started successfully." &amp;gt;&amp;gt; "$LOGFILE"&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-558692323"&gt;&lt;STRONG&gt;5. systemd Service Units&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;&lt;STRONG&gt;Application Node Service (sapapp_start.service):&lt;/STRONG&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;[Unit]
Description=Start SAP Application After HANA DB is Ready
After=network-online.target
Wants=network-online.target

[Service]
Type=oneshot
ExecStart=/usr/local/bin/start_sap_after_db.sh
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-362178818"&gt;&lt;STRONG&gt;6. Enabling the Services&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;&lt;STRONG&gt;On Application Node:&lt;/STRONG&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;chmod +x /usr/local/bin/start_sap_after_db.sh
sudo systemctl daemon-reexec
sudo systemctl daemon-reload
systemctl enable sapapp_start.service
systemctl start sapapp_start.service&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-165665313"&gt;&lt;STRONG&gt;7. Monitoring and Logs&lt;/STRONG&gt;&lt;/H2&gt;&lt;UL class="lia-list-style-type-disc"&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;DB Startup Logs&lt;/STRONG&gt;: /usr/sap/&amp;lt;DB_SID&amp;gt;/start_hana_db.log&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;App Startup Logs&lt;/STRONG&gt;: /usr/sap/&amp;lt;APP_SID&amp;gt;/sap_startup.log&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;H2 id="toc-hId--30848192"&gt;6. Benefits of this Setup&lt;/H2&gt;&lt;UL class="lia-list-style-type-disc"&gt;&lt;LI&gt;Zero manual intervention after VM boot from GCP Console&lt;/LI&gt;&lt;LI&gt;Timestamped logs for debugging&amp;nbsp;&lt;/LI&gt;&lt;LI&gt;DB starts first, App waits until DB is ready&lt;/LI&gt;&lt;/UL&gt;&lt;H2 id="toc-hId-119892660"&gt;&lt;STRONG&gt;Conclusion&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;&lt;STRONG&gt;With this setup:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL class="lia-list-style-type-disc"&gt;&lt;LI&gt;SAP HANA and application layers start automatically on reboot.&lt;/LI&gt;&lt;LI&gt;Logging is comprehensive, timestamped,&lt;/LI&gt;&lt;LI&gt;Startup sequence is well-coordinated — DB first, then App components.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;This reduces manual work and enhances resilience for SAP environments running on GCP or similar platforms.&lt;/P&gt;&lt;P&gt;Regards,&lt;/P&gt;&lt;P&gt;Nitin Khose&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/automating-sap-hana-system-startup-in-a-distributed-hana-environment-on-gcp/qaq-p/14181033"/>
    <published>2025-08-14T17:02:34.599000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-q-a/cor3-target-qty-and-cost-calculation/qaq-p/14186570</id>
    <title>COR3 - Target Qty and Cost calculation</title>
    <updated>2025-08-21T17:08:51.250000+02:00</updated>
    <author>
      <name>aalexis</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/552070</uri>
    </author>
    <content>&lt;P&gt;Hello All,&lt;/P&gt;&lt;P&gt;When ever there is an Actual Qty and Actual Cost exists the target Qty and cost calculation is working. But when the Actual Qty and Cost are missing how is the target qty and cost are calculated? I am creating an ABAP CDS view to get this calculated, since our implementation does not mainatain WRTTP = '05' (Target values) type of records. Can you suggest what tables are to be used? (I am currently using KEKO, CKHS and CKIS) to determine the values.&lt;/P&gt;&lt;P&gt;Any help is appreciated.&lt;/P&gt;&lt;P&gt;Thank you,&lt;/P&gt;&lt;P&gt;Arthur.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-q-a/cor3-target-qty-and-cost-calculation/qaq-p/14186570"/>
    <published>2025-08-21T17:08:51.250000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-q-a/about-configuring-the-output-of-balance-confirmations/qaq-p/14187572</id>
    <title>About: Configuring the Output of Balance Confirmations</title>
    <updated>2025-08-22T13:17:30.870000+02:00</updated>
    <author>
      <name>Jonas_Schulz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1824481</uri>
    </author>
    <content>&lt;P&gt;Hello Experts,&lt;/P&gt;&lt;P&gt;As part of a S4 HANA transformation (S4HANA on premise - 02 (10/2024) fps), it is planned to generate balance confirmations in the future using the Fiori apps Schedule Accounts Receivable (F2366) and Schedule Accounts Payable Jobs (F2257).&lt;/P&gt;&lt;P&gt;&lt;A href="https://help.sap.com/docs/SAP_S4HANA_CLOUD/918bca53037f408f91a2295d04ac16bc/0830c3f55dd348b0bf522b4dc3795197.html?locale=de-DE" target="_blank" rel="noopener noreferrer"&gt;https://help.sap.com/docs/SAP_S4HANA_CLOUD/918bca53037f408f91a2295d04ac16bc/0830c3f55dd348b0bf522b4dc3795197.html?locale=de-DE&lt;/A&gt;&lt;/P&gt;&lt;P&gt;The application object type FIN_FO_BLNC_CNFRM for balance confirmation is already set to active.&lt;BR /&gt;In the Output Parameters (OPD) app, various application object types are displayed for defining the rules, but I am unable to select balance confirmation.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Jonas_Schulz_0-1755861401375.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303871i858CA724B9FEE29E/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Jonas_Schulz_0-1755861401375.png" alt="Jonas_Schulz_0-1755861401375.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;What else needs to be done to complete the configuration?&lt;/P&gt;&lt;P&gt;Thank you in advance&lt;/P&gt;&lt;P&gt;Kind regards&lt;/P&gt;&lt;P&gt;Jonas&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-q-a/about-configuring-the-output-of-balance-confirmations/qaq-p/14187572"/>
    <published>2025-08-22T13:17:30.870000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/financial-management-q-a/how-to-find-the-line-items-that-made-up-settlement-this-may-help/qaq-p/14191720</id>
    <title>How to find the line items that made up settlement?  This may help.</title>
    <updated>2025-08-25T22:46:20.713000+02:00</updated>
    <author>
      <name>darren_martin</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/188815</uri>
    </author>
    <content>&lt;P&gt;I could be missing some obvious table or logic but for years I have found it impossible to find the source line items that made up the totals in a settlement document.&amp;nbsp; I searched high and low and I could never find SAP's logic.&amp;nbsp; So I decided to take a kick at it using HANA SQL.&amp;nbsp; Please be gentle in your responses as I am sure there is a better way, better sql, etc.&lt;/P&gt;&lt;P&gt;The problem I needed to solve is to be able to find Orders line items that settled to Projects and here is how I did it.&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-sql"&gt;&lt;code&gt; 
 /********* Begin Procedure Script ************/ 
 BEGIN 
 	 var_out = WITH BASE_DATA
AS (
	SELECT T1."MANDT" AS "CLIENT"
		,T1."LEDNR" AS "LEDGER"
		,T1."VERSN" AS "VERSION"
		,T1."KOKRS" AS "CONTROLLINGAREA"
		,T1."BUKRS" AS "COMPANYCODE"
		,T1."GSBER" AS "BUSINESSAREA"
		,T1."OBJNR" AS "OBJECTNUMBER"
		,T1."ACCASTY" AS "OBJECTTYPE"
		,T1."BELNR" AS "DOCUMENTNUMBER"
		,T1."BLTXT" AS "DOCHEADERTEXT"
		,T1."SGTXT" AS "SEGMENTTEXT"
		,T1."ZLENR" AS "DOCITEMNUMBER"
		,T1."BUZEI" AS "POSTINGROW"
		,T1."GJAHR" AS "FISCALYEAR"
		,T1."PERIO" AS "PERIOD"
		,T1."BUDAT" AS "POSTINGDATE_S"
		,TO_DATE(NULLIF(T1."BUDAT", '00000000'), 'YYYYMMDD') AS "POSTINGDATE_E"		
		,T1."BLDAT" AS "DOCUMENTDATE_S"
		,TO_DATE(NULLIF(T1."BLDAT", '00000000'), 'YYYYMMDD') AS "DOCUMENTDATE_E"		
		,T1."CPUDT" AS "DATECREATED_S"
		,TO_DATE(NULLIF(T1."CPUDT", '00000000'), 'YYYYMMDD') AS "DATECREATED_E"		
		,T1."CPUTM" AS "TIMECREATED_S"
		,TO_TIME(NULLIF(T1."CPUTM", '000000'), 'HHMISS') AS "TIMECREATED_E"
		,UTCTOLOCAL(ADD_SECONDS(TO_DATE('1990-01-01', 'YYYY-MM-DD'), CAST((CAST(T1."TIMESTMP" / 10000 AS INT)) AS INT)), 'PST') AS "DATETIMECREATED"
		,T1."KSTAR" AS "COSTELEMENT"
		,T1."HRKFT" AS "COSUBKEY"
		,T1."WKGBTR" AS "TOTALCACUR"
		,T1."WKFBTR" AS "FIXEDVALUECACUR"
		,T1."KWAER" AS "CACURRENCY"
		,T1."MEGBTR" AS "TOTALQUANTITY"
		,T1."MEFBTR" AS "FIXEDQUANTITY"
		,T1."MEINH" AS "UNITOFMEASURE"
		,T1."VRGNG" AS "BUSTRANSACTION"
		,T1."WRTTP" AS "VALUETYPE"
		,T1."BEKNZ" AS "DEBITCREDIT"
		,T1."REFBN" AS "REFDOCUMENTNO"
		,COALESCE(LPAD(T2."ABRNR", 10, '0'), '') AS "SETTLEMENTSEQUENCE"
		,COALESCE(T2."GJAHR", '') AS "SETTLEMENTYEAR"
		,COALESCE(T2."PERIO", '') AS "SETTLEMENTPERIOD"
		,COALESCE(T2."STBEL", '') AS "DOCUMENTREVERSED"
		,COALESCE(T1."STOKZ", '') AS "REVERSED"
		,COALESCE(T1."STFLG", '') AS "REVERSALDOC"
		,T1."AWTYP" AS "REFPROCEDURE"
		,T3."PSPEL" AS "WBSELEMENTID"
		,T4."OBJNR" AS "WBSELEMENTOBJECT"
		,T4."POSKI" AS "WBSELEMENTSHORTID"
		,T1."EBELN" AS "PURCHASINGDOC"
		,T1."EBELP" AS "PURCHASINGDOCITEM"
		,T1."PERNR" AS "PERSONNELNUMBER"
		,T1."PAROB" AS "PARTNEROBJECT"
		,T1."MATNR" AS "MATERIALNUMBER"
		,T1."WERKS" AS "PLANT"
		,T1."GKONT" AS "OFFSETACCTNO"
		,T1."GKOAR" AS "OFFSETACCTTYPE"
	FROM "V_COVP" AS T1
	LEFT JOIN "AUAK" AS T2
		ON T1."MANDT" = T2."MANDT" AND T1."REFBN" = T2."BELNR"
	INNER JOIN "AUFK" AS T3
		ON T1."MANDT" = T3."MANDT" AND T1."OBJNR" = T3."OBJNR" AND T3."PSPEL" &amp;lt;&amp;gt; '00000000' AND (T3."AUTYP" IN ( '01' , '06' , '30' ))
	INNER JOIN "PRPS" AS T4
		ON T3."MANDT" = T4."MANDT" AND T3."PSPEL" = T4."PSPNR"
	WHERE T1."MANDT" = SESSION_CONTEXT('CLIENT') AND T1."ACCASTY" = 'OR' AND T1."GJAHR" BETWEEN :P_FISCAL_YEAR_FROM AND :P_FISCAL_YEAR_TO
	)
	,SORTED_DATA
AS (
	SELECT *
		,ROW_NUMBER() OVER (
			PARTITION BY "OBJECTNUMBER" ORDER BY "FISCALYEAR"
				,"PERIOD"
				,"DATECREATED_S"
				,"TIMECREATED_S"
				,"DOCITEMNUMBER"
			) AS "ROWNUMBER"
	FROM BASE_DATA
	ORDER BY "OBJECTNUMBER"
		,"FISCALYEAR"
		,"PERIOD"
		,"DATETIMECREATED"
		,"DOCITEMNUMBER"
	)
	,MATCHED_DATA
AS (
	SELECT T1.*
		,COALESCE((
				SELECT FIRST_VALUE("REFDOCUMENTNO" ORDER BY "ROWNUMBER")
				FROM SORTED_DATA AS T2
				WHERE T2."OBJECTNUMBER" = T1."OBJECTNUMBER" AND T2."DEBITCREDIT" = 'A' AND T2."ROWNUMBER" &amp;gt; T1."ROWNUMBER" AND T2."COSTELEMENT" = T1."COSTELEMENT" AND T2."REVERSED" = '' AND T2."REVERSALDOC" = '' AND T1."DEBITCREDIT" &amp;lt;&amp;gt; 'A'
				), '') AS "SETTLEMENTDOCUMENT"
        ,COALESCE((
				SELECT FIRST_VALUE("POSTINGDATE_S" ORDER BY "ROWNUMBER")
				FROM SORTED_DATA AS T2
				WHERE T2."OBJECTNUMBER" = T1."OBJECTNUMBER" AND T2."DEBITCREDIT" = 'A' AND T2."ROWNUMBER" &amp;gt; T1."ROWNUMBER" AND T2."COSTELEMENT" = T1."COSTELEMENT" AND T2."REVERSED" = '' AND T2."REVERSALDOC" = '' AND T1."DEBITCREDIT" &amp;lt;&amp;gt; 'A'
				), '') AS "SETTLEMENTDATE_S"				
        ,COALESCE((
				SELECT FIRST_VALUE("DOCUMENTNUMBER" ORDER BY "ROWNUMBER")
				FROM SORTED_DATA AS T2
				WHERE T2."OBJECTNUMBER" = T1."OBJECTNUMBER" AND T2."DEBITCREDIT" = 'A' AND T2."ROWNUMBER" &amp;gt; T1."ROWNUMBER" AND T2."COSTELEMENT" = T1."COSTELEMENT" AND T2."REVERSED" = '' AND T2."REVERSALDOC" = '' AND T1."DEBITCREDIT" &amp;lt;&amp;gt; 'A'
				), '') AS "PRDOCUMENTNUMBER"				
	FROM SORTED_DATA T1
	ORDER BY T1."OBJECTNUMBER"
		,T1."ROWNUMBER"
	)
	,FINAL_DATA
AS (
	SELECT T1."CLIENT"
		,T1."LEDGER"
		,T2."DDTEXT" AS "LEDGERTEXT"
		,T1."VERSION"
		,T3.TXT AS "VERSIONTEXT"
		,T1."CONTROLLINGAREA"
		,T4."BEZEI" AS "CONTROLLINGAREATEXT"
		,T4."KTOPL" AS "CHARTOFACCOUNTS"
		,T18."KTPLT" AS "CHARTOFACCOUNTSTEXT"
		,T1."COMPANYCODE"
		,T19."BUTXT" AS "COMPANYCODETEXT"
		,T1."BUSINESSAREA"
		,T20."GTEXT" AS "BUSINESSAREATEXT"
		,T1."OBJECTNUMBER"
		,T1."OBJECTTYPE"
		,T5."OBART_LD" AS "OBJECTTYPE_EN"
		,CASE WHEN T5."TXT60" != '' THEN "TXT60" WHEN T5."TXT20" != '' THEN "TXT20" WHEN T5."TXT15" != '' THEN "TXT15" ELSE T5."TXT10" END AS "OBJECTTYPETEXT"
		,T1."DOCUMENTNUMBER"
		,T1."DOCHEADERTEXT"
		,T1."SEGMENTTEXT"
		,T1."DOCITEMNUMBER"
		,T1."POSTINGROW"
		,T1."FISCALYEAR"
		,T1."PERIOD"
		,T1."POSTINGDATE_S"
		,T1."POSTINGDATE_E"
		,T1."DOCUMENTDATE_S"
		,T1."DOCUMENTDATE_E"		
		,T1."DATECREATED_S"
		,T1."DATECREATED_E"		
		,T1."TIMECREATED_S"
		,T1."TIMECREATED_E"		
		,T1."DATETIMECREATED"
		,T1."COSTELEMENT"
		,T7."LTEXT" AS "COSTELEMENTTEXT"
		,T1."COSUBKEY"
		,T1."TOTALCACUR"
		,T1."FIXEDVALUECACUR"
		,T1."CACURRENCY"
		,T6."KTEXT" AS "CACURRENCYTEXT"
		,T1."TOTALQUANTITY"
		,T1."FIXEDQUANTITY"
		,T1."UNITOFMEASURE"
		,T8."MSEH3" AS "UNITOFMEASSUREENG"
		,T8."MSEHT" AS "UNITOFMEASSURETEXT"
		,T1."BUSTRANSACTION"
		,T11."TXT" AS "BUSTRANSACTIONTEXT"
		,T1."VALUETYPE"
		,T9."DDTEXT" AS "VALUETYPETEXT"
		,T1."DEBITCREDIT"
		,T10."BEKNZ_LD" AS "DEBITCREDIT_EN"
		,T10."DDTEXT" AS "DEBITCREDITTEXT"
		,T1."REFDOCUMENTNO"
		,T1."SETTLEMENTSEQUENCE"
		,T1."SETTLEMENTYEAR"
		,T1."SETTLEMENTPERIOD"
		,T1."DOCUMENTREVERSED"
		,T1."REVERSED"
		,T1."REVERSALDOC"
		,T1."SETTLEMENTDOCUMENT"
		,T1."SETTLEMENTDATE_S"
		,TO_DATE(NULLIF(T1."SETTLEMENTDATE_S", '00000000'), 'YYYYMMDD') AS "SETTLEMENTDATE_E"	
		,T1."PRDOCUMENTNUMBER"	
		,T1."REFPROCEDURE"
		,T12."OTEXT" AS "REFPROCEDURETEXT"
		,T1."WBSELEMENTID"
		,T1."WBSELEMENTOBJECT"
		,T1."WBSELEMENTSHORTID"
		,T1."PURCHASINGDOC"
		,T1."PURCHASINGDOCITEM"
		,T13."TXZ01" AS "PURCHASINGDOCITEMTEXT"
		,T13."LIFNR" AS "SUPPLIER"
		,TRIM(T21."NAME1" || ' ' || T21."NAME2") AS "SUPPLIERNAME"
		,T1."PERSONNELNUMBER"
		,T14."ENAME" AS "EMPLOYEENAME"
		,T1."PARTNEROBJECT"
		,T1."MATERIALNUMBER"
		,T15."MAKTX" AS "MATERIALTEXT"
		,T1."PLANT"
		,T17."NAME1" AS "PLANTTEXT"
		,T1."OFFSETACCTNO"
		,T1."OFFSETACCTTYPE"
		,T16."DDTEXT" AS "OFFSETACCTTYPETEXT"
		,T1."ROWNUMBER"
	FROM MATCHED_DATA AS T1
	INNER JOIN "DD07T" AS T2
		ON T1."LEDGER" = T2."DOMVALUE_L" AND T2."DOMNAME" = 'LEDNR' AND T2."DDLANGUAGE" = 'E' AND T2."AS4LOCAL" = 'A'
	INNER JOIN "TKT09" AS T3
		ON T1."CLIENT" = T3."MANDT" AND T1."CONTROLLINGAREA" = T3."KOKRS" AND T1."VERSION" = T3."VERSN" AND T3."LANGU" = 'E'
	INNER JOIN "TKA01" AS T4
		ON T1."CLIENT" = T4."MANDT" AND T1."CONTROLLINGAREA" = T4."KOKRS"
	INNER JOIN "TBO01" AS T5
		ON T1."OBJECTTYPE" = T5."OBART" AND T5."SPRAS" = 'E'
	INNER JOIN "TCURT" AS T6
		ON T1."CLIENT" = T6."MANDT" AND T1."CACURRENCY" = T6."WAERS" AND T6."SPRAS" = 'E'
	INNER JOIN "CSKU" AS T7
		ON T1."CLIENT" = T7."MANDT" AND T4."KTOPL" = T7."KTOPL" AND T1."COSTELEMENT" = T7."KSTAR" AND T7."SPRAS" = 'E'
	LEFT JOIN "T006A" AS T8
		ON T1."CLIENT" = T8."MANDT" AND T1."UNITOFMEASURE" = T8."MSEHI" AND T8."SPRAS" = 'E'
	INNER JOIN "DD07T" AS T9
		ON T1."VALUETYPE" = T9."DOMVALUE_L" AND T9."DOMNAME" = 'CO_WRTTP' AND T9."DDLANGUAGE" = 'E' AND T9."AS4LOCAL" = 'A'
	INNER JOIN (
		SELECT "DD07T"."DOMVALUE_L"
			,"DD07T"."DDTEXT"
			,"TKABE"."BEKNZ_LD"
		FROM "DD07T"
		INNER JOIN "TKABE"
			ON "DD07T"."DOMVALUE_L" = "TKABE"."BEKNZ" AND "TKABE"."SPRAS" = 'E'
		WHERE "DD07T"."DOMNAME" = 'BEKNZ' AND "DD07T"."DDLANGUAGE" = 'E' AND "DD07T"."AS4LOCAL" = 'A'
		) AS T10
		ON T1."DEBITCREDIT" = T10."DOMVALUE_L"
	INNER JOIN "TJ01T" AS T11
		ON T1."BUSTRANSACTION" = T11."VRGNG" AND T11."SPRAS" = 'E'
	INNER JOIN "TTYPT" AS T12
		ON T1."REFPROCEDURE" = T12."AWTYP" AND T12."SPRAS" = 'E'
	LEFT JOIN (
		SELECT "EKKO"."MANDT"
			,"EKKO"."EBELN"
			,"EKKO"."BUKRS"
			,"EKKO"."LIFNR"
			,"EKPO"."EBELP"
			,"EKPO"."TXZ01"
		FROM "EKKO"
		INNER JOIN "EKPO"
			ON "EKKO"."MANDT" = "EKPO"."MANDT" AND "EKKO"."EBELN" = "EKPO"."EBELN"
		) AS T13
		ON T1."CLIENT" = T13."MANDT" AND T1."PURCHASINGDOC" = T13."EBELN" AND T1."PURCHASINGDOCITEM" = T13."EBELP"
	LEFT JOIN "PA0001" T14
		ON T1."CLIENT" = T14."MANDT" AND T1."PERSONNELNUMBER" = T14."PERNR" AND TO_NVARCHAR(CURRENT_DATE, 'YYYYMMDD') BETWEEN T14."BEGDA"
				AND T14."ENDDA"
	LEFT JOIN "MAKT" T15
		ON T1."CLIENT" = T15."MANDT" AND T1."MATERIALNUMBER" = T15."MATNR" AND T15."SPRAS" = 'E'
	LEFT JOIN "DD07T" AS T16
		ON T1."OFFSETACCTTYPE" = T16."DOMVALUE_L" AND T16."DOMNAME" = 'KOART' AND T16."DDLANGUAGE" = 'E' AND T16."AS4LOCAL" = 'A'
	LEFT JOIN "T001W" T17
		ON T1."CLIENT" = T17."MANDT" AND T1."PLANT" = T17."WERKS"
	INNER JOIN "T004T" T18
		ON T4."MANDT" = T18."MANDT" AND T4."KTOPL" = T18."KTOPL" AND T18."SPRAS" = 'E'
	INNER JOIN "T001" T19
		ON T1."CLIENT" = T19."MANDT" AND T1."COMPANYCODE" = T19."BUKRS"
	INNER JOIN "TGSBT" T20
		ON T1."CLIENT" = T20."MANDT" AND T1."BUSINESSAREA" = T20."GSBER" AND T20."SPRAS" = 'E'
	LEFT JOIN "LFA1" T21
		ON T13."MANDT" = T21."MANDT" AND T13."LIFNR" = T21."LIFNR"
	)
SELECT *
FROM FINAL_DATA;

 	 

END /********* End Procedure Script ************/&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;The key was to sort the records&amp;nbsp; by&amp;nbsp;&amp;nbsp;&lt;SPAN&gt;"OBJECTNUMBER" &lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;SPAN&gt;"FISCALYEAR" &lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;SPAN&gt;"PERIOD" &lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;SPAN&gt;"DATETIMECREATED" &lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;SPAN&gt;"DOCITEMNUMBER" and assign a row number to each record to get the order I needed.&lt;BR /&gt;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-sql"&gt;&lt;code&gt;	,SORTED_DATA
AS (
	SELECT *
		,ROW_NUMBER() OVER (
			PARTITION BY "OBJECTNUMBER" ORDER BY "FISCALYEAR"
				,"PERIOD"
				,"DATECREATED_S"
				,"TIMECREATED_S"
				,"DOCITEMNUMBER"
			) AS "ROWNUMBER"
	FROM BASE_DATA
	ORDER BY "OBJECTNUMBER"
		,"FISCALYEAR"
		,"PERIOD"
		,"DATETIMECREATED"
		,"DOCITEMNUMBER"
	)&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The next step was to get the next settlement document immediately following.&amp;nbsp; This is where the Row Number comes in.&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-sql"&gt;&lt;code&gt;	,MATCHED_DATA
AS (
	SELECT T1.*
		,COALESCE((
				SELECT FIRST_VALUE("REFDOCUMENTNO" ORDER BY "ROWNUMBER")
				FROM SORTED_DATA AS T2
				WHERE T2."OBJECTNUMBER" = T1."OBJECTNUMBER" AND T2."DEBITCREDIT" = 'A' AND T2."ROWNUMBER" &amp;gt; T1."ROWNUMBER" AND T2."COSTELEMENT" = T1."COSTELEMENT" AND T2."REVERSED" = '' AND T2."REVERSALDOC" = '' AND T1."DEBITCREDIT" &amp;lt;&amp;gt; 'A'
				), '') AS "SETTLEMENTDOCUMENT"
        ,COALESCE((
				SELECT FIRST_VALUE("POSTINGDATE_S" ORDER BY "ROWNUMBER")
				FROM SORTED_DATA AS T2
				WHERE T2."OBJECTNUMBER" = T1."OBJECTNUMBER" AND T2."DEBITCREDIT" = 'A' AND T2."ROWNUMBER" &amp;gt; T1."ROWNUMBER" AND T2."COSTELEMENT" = T1."COSTELEMENT" AND T2."REVERSED" = '' AND T2."REVERSALDOC" = '' AND T1."DEBITCREDIT" &amp;lt;&amp;gt; 'A'
				), '') AS "SETTLEMENTDATE_S"				
        ,COALESCE((
				SELECT FIRST_VALUE("DOCUMENTNUMBER" ORDER BY "ROWNUMBER")
				FROM SORTED_DATA AS T2
				WHERE T2."OBJECTNUMBER" = T1."OBJECTNUMBER" AND T2."DEBITCREDIT" = 'A' AND T2."ROWNUMBER" &amp;gt; T1."ROWNUMBER" AND T2."COSTELEMENT" = T1."COSTELEMENT" AND T2."REVERSED" = '' AND T2."REVERSALDOC" = '' AND T1."DEBITCREDIT" &amp;lt;&amp;gt; 'A'
				), '') AS "PRDOCUMENTNUMBER"				
	FROM SORTED_DATA T1
	ORDER BY T1."OBJECTNUMBER"
		,T1."ROWNUMBER"
	)&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Now you may need to add addition filter criteria because we have only one Controlling Area, etc.&lt;BR /&gt;To adjust the totals to meet the distribution rules just join the results to&amp;nbsp;COBRB and apply the appropriate logic.&amp;nbsp; ie. percentage if percentage then do it to three decimals because SAP has some strange logic for that which I can't figure out.&amp;nbsp; Anyone know the logic please let me know.&lt;BR /&gt;&lt;BR /&gt;Filter out Debit/Credit = 'A' to remove settlement from the result.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Looking for feedback as well.&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/financial-management-q-a/how-to-find-the-line-items-that-made-up-settlement-this-may-help/qaq-p/14191720"/>
    <published>2025-08-25T22:46:20.713000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-q-a/cancellation-of-customer-invoice-in-rv-instead-of-ab/qaq-p/14192138</id>
    <title>Cancellation of Customer invoice in RV instead of AB</title>
    <updated>2025-08-26T07:10:05.815000+02:00</updated>
    <author>
      <name>Naveel</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1919554</uri>
    </author>
    <content>&lt;P&gt;In S4 Hana 2021. When we cancel a Sales Invoice (Document Type RV), sometimes system posts the reversal in the same document type (&lt;EM&gt;RV&lt;/EM&gt;). It should be posted in &lt;EM&gt;AB&lt;/EM&gt; document type.&lt;/P&gt;&lt;P&gt;In addition, during reversal, the system is using Posting Key &lt;EM&gt;11 (Credit Memo).&lt;/EM&gt;&amp;nbsp; It should use Posting Key &lt;EM&gt;12 (Invoice Reversal)&lt;/EM&gt; instead.&lt;BR /&gt;&lt;BR /&gt;Can you please explain why the system is behaving this way?&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-q-a/cancellation-of-customer-invoice-in-rv-instead-of-ab/qaq-p/14192138"/>
    <published>2025-08-26T07:10:05.815000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-q-a/faglgvtr-and-fagl-pt-02-in-portugal/qaq-p/14195003</id>
    <title>FAGLGVTR and FAGL_PT_02 in Portugal !</title>
    <updated>2025-08-27T13:32:24.086000+02:00</updated>
    <author>
      <name>andreiavtiago62</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/863226</uri>
    </author>
    <content>&lt;P&gt;Hello,&lt;/P&gt;&lt;P&gt;*** S/4 Hana Private Cloud ***&lt;/P&gt;&lt;P&gt;I'm a bit confused how to use this two transactions in Portugal.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;FAGLGVTR&lt;/STRONG&gt; - Balance carryforward. Is it only to move the balance sheet accounts balance to the new fiscal year? why do I have to configure OB53 ? I saw some configurations in other companies using the GL account 811* but i thought it was only on the next transaction&amp;nbsp;&lt;STRONG&gt;FAGL_PT_02&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;FAGL_PT_02&lt;/STRONG&gt; - Should I use to move from the balance from p&amp;amp;l accounts to 811* and then 818* and finally 56* ? Anyway I can't to all the postings&amp;nbsp; ate the same time since I would need to activate a new function for PT.&lt;/P&gt;&lt;P&gt;The PT company is under a foreign group so it means they use operational COA with alternative account (COA PT).&lt;/P&gt;&lt;P&gt;Can you please give some tips.&lt;/P&gt;&lt;P&gt;Thank you.&lt;/P&gt;&lt;P&gt;Andreia&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-q-a/faglgvtr-and-fagl-pt-02-in-portugal/qaq-p/14195003"/>
    <published>2025-08-27T13:32:24.086000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-q-a/algorithm-015-only-checks-13-chars-chect-how-to-clear-on-full-reference/qaq-p/14195160</id>
    <title>Algorithm 015 only checks 13 chars (CHECT). How to clear on full reference?</title>
    <updated>2025-08-27T15:34:27.172000+02:00</updated>
    <author>
      <name>Naveel</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1919554</uri>
    </author>
    <content>&lt;P&gt;Hi Experts,&lt;/P&gt;&lt;P&gt;We clear outgoing vendor payments via bank transfer. The bank provides a transaction reference (16–18 characters). Users store the same value in the FI document &lt;STRONG&gt;Assignment&lt;/STRONG&gt; (BSEG-ZUONR). On EBS import (MT940) I want clearing to happen based on that full reference.&lt;/P&gt;&lt;P&gt;Configuration:&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;S4 HANA 2021&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Interpretation algorithm &lt;STRONG&gt;015 – Clearing: transaction selection using assignment&lt;/STRONG&gt;.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Posting rules and external transactions are assigned as usual.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;Problem:&lt;BR /&gt;During interpretation/clearing the system seems to evaluate only &lt;STRONG&gt;13 characters&lt;/STRONG&gt; of the reference, so the match fails. In the tables I see &lt;STRONG&gt;FEBEP-CHECT (length 13)&lt;/STRONG&gt; being populated; FEBA log shows only the first 13 digits used for selection.&lt;/P&gt;&lt;P&gt;Questions:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;P&gt;Is Algorithm &lt;STRONG&gt;015&lt;/STRONG&gt; hard-coded to use &lt;STRONG&gt;CHECT (13)&lt;/STRONG&gt; instead of &lt;STRONG&gt;ZUONR (18)&lt;/STRONG&gt;, hence the truncation?&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;What is the &lt;STRONG&gt;standard&lt;/STRONG&gt; way to clear on a full 16–18 char reference from MT940?&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;Can 015 be made to read the &lt;STRONG&gt;ZUONR&lt;/STRONG&gt; value filled via Search String?&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Or is there another interpretation algorithm that checks ZUONR (18) rather than CHECT?&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;If customizing cannot achieve this, which enhancement is recommended by SAP?&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;BAdI FIEB_CHANGE_BS_DATA&lt;/STRONG&gt; (pre-interpretation) to normalize reference and/or move it, then clear?&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;custom interpretation algorithm&lt;/STRONG&gt; to avoid the 13-char limit?&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;Thanks in advance for guidance on the correct standard approach.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-q-a/algorithm-015-only-checks-13-chars-chect-how-to-clear-on-full-reference/qaq-p/14195160"/>
    <published>2025-08-27T15:34:27.172000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/financial-management-q-a/sap-vendor-master-uploader/qaq-p/14196450</id>
    <title>SAP VENDOR MASTER UPLOADER.</title>
    <updated>2025-08-28T07:20:44.646000+02:00</updated>
    <author>
      <name>ANMOL22369</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1970279</uri>
    </author>
    <content>&lt;P&gt;Hi all,&lt;/P&gt;&lt;P&gt;I want to create SAP VENDOR MASTER uploader by calling BAPI, I did&amp;nbsp;&lt;/P&gt;&lt;P&gt;BAPI_BUPA_CREATE_FROM_DATA (general data),&amp;nbsp;BAPI_BUPA_ROLE_ADD (roles FLVN00/FLVN01).&lt;/P&gt;&lt;P&gt;What to do next to fill rest of the fields for GENERAL, COMPANY CODE and PURCHASING TAB data, Like Reconcilliation account , legal, bank details, payment term, SCHEMA GROUP, CURRENCY etc.&lt;/P&gt;&lt;P&gt;Please help here!&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/financial-management-q-a/sap-vendor-master-uploader/qaq-p/14196450"/>
    <published>2025-08-28T07:20:44.646000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/add-cost-center-category-as-a-filter-in-trail-balance-fiori-app/qaq-p/14197200</id>
    <title>Add cost center category as a filter in trail balance fiori app</title>
    <updated>2025-08-28T15:08:32.263000+02:00</updated>
    <author>
      <name>sri6666</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/561430</uri>
    </author>
    <content>&lt;P&gt;Hi Experts,&lt;/P&gt;&lt;P&gt;I want add cost center category as a filter option in Trail balance Fiori app.&amp;nbsp; could you please help me how can i achieve this as abaper.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/add-cost-center-category-as-a-filter-in-trail-balance-fiori-app/qaq-p/14197200"/>
    <published>2025-08-28T15:08:32.263000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/financial-management-q-a/cds-for-business-partner-international-address-version/qaq-p/14198699</id>
    <title>CDS for Business Partner International address version</title>
    <updated>2025-08-29T09:36:21.971000+02:00</updated>
    <author>
      <name>sivia</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/484750</uri>
    </author>
    <content>&lt;P&gt;Do you know any CDS which could be use to get&amp;nbsp; Business Partner International address version? CDS like&amp;nbsp;&lt;SPAN&gt;I_Address or I_Address_2 always take only default address version (adcp.nation = ' ').&amp;nbsp; Do you know why is like this? It's on purpose?&lt;BR /&gt;For Chinese client I need provide some report which includes among others BP address in both version: default and local one.&lt;BR /&gt;Of course I can create own CDS based on table but the question is why standard doesn't provide such solution?&amp;nbsp;&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/financial-management-q-a/cds-for-business-partner-international-address-version/qaq-p/14198699"/>
    <published>2025-08-29T09:36:21.971000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/financial-management-q-a/automatic-clarifications-adjusting-selw1-and-selt1-fields/qaq-p/14199190</id>
    <title>Automatic Clarifications – Adjusting SELW1 and SELT1 fields</title>
    <updated>2025-08-29T11:47:57.570000+02:00</updated>
    <author>
      <name>Max_n</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1513376</uri>
    </author>
    <content>&lt;P&gt;Hello,&lt;/P&gt;&lt;P&gt;We are working with a public sector client whose system records incoming payments before registering the corresponding debt. As a result, the payment remains in clarification status (transaction FPCPL) until the debt document is generated (FI-CA), at which point reconciliation can occur.&lt;/P&gt;&lt;P&gt;To automate this process, we need to implement a custom program that can identify the corresponding document number (DFKKOP-OPBEL) for each incoming payment in clarification and populate this number into the SELW1 and SELT1 fields of each record in the income clarification tables DFKKZP and DFKKCFZST.&lt;/P&gt;&lt;P&gt;Do you know if there is a standard way to update these values? Is there a function module available that performs this task?&lt;/P&gt;&lt;P&gt;This would allow us to execute automatic clarification in the background, passing the necessary information for the SELW1 and SELT1 fields (DFKKZP and DFKKCFZST) into the located record (I_POSZA) of the batch (I_KEYZ1).&lt;/P&gt;&lt;P&gt;Your help would be greatly appreciated.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/financial-management-q-a/automatic-clarifications-adjusting-selw1-and-selt1-fields/qaq-p/14199190"/>
    <published>2025-08-29T11:47:57.570000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/how-to-use-sap-hana-client-module-with-vite-sveltekit/qaq-p/14203494</id>
    <title>How to use SAP hana-client module with Vite / SvelteKit?</title>
    <updated>2025-09-01T21:51:08.956000+02:00</updated>
    <author>
      <name>RafaelLawisch</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1507092</uri>
    </author>
    <content>&lt;P&gt;Hi all,&lt;/P&gt;&lt;P&gt;I've been trying to use&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/hana-client module on a SvelteKit project (which bundles everything using Vite). With default configs, it runs fine on dev mode (no SSR/prerendering). However, when trying to build the app, it throws an exception trying to prerender the binary blobs, which is expected. When instructing Vite not to prerender the lib, there are errors on the import, as it is a CommonJS module and was not "ESM-ized" by Vite build process. We then need to import it as "import * as hana from (...)" instead of "import hana from (...)", as it says the module doesn't have a default export, which makes the app finally build, but then breaks the dev mode, because createPool() is now undiscoverable in ESM mode. Also, dev mode only runs if the "ssr" config (see below) is not used, or else it gives an error trying to use require(), which is not defined on ESM mode.&lt;/P&gt;&lt;P&gt;Is there a way users are supposed to handle the combination of CommonJS + binary blobs? Are there plans of migrating the lib to standard ESM?&lt;BR /&gt;&lt;BR /&gt;The Vite configs (vite.config.ts) used to ignore the module on prerendering are:&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;  ssr: {
    noExternal: ["@sap/hana-client"],
  },
  optimizeDeps: {
    exclude: ['@sap/hana-client']  // don't try to pre-bundle it
  },
  build: {
    rollupOptions: {
      plugins: [
        commonjs({
          ignoreDynamicRequires: true
        })
      ]
    }
  },&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;Thanks in advance,&lt;BR /&gt;Lawisch&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/how-to-use-sap-hana-client-module-with-vite-sveltekit/qaq-p/14203494"/>
    <published>2025-09-01T21:51:08.956000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-q-a/full-payment-submission-amendment-reversal/qaq-p/14204176</id>
    <title>Full Payment Submission Amendment reversal</title>
    <updated>2025-09-02T10:46:47.775000+02:00</updated>
    <author>
      <name>Plamo</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/159972</uri>
    </author>
    <content>&lt;P&gt;Hi,&lt;/P&gt;&lt;P&gt;We have submitted an FPSA with the incorrect Payroll Period.&amp;nbsp;&amp;nbsp;&lt;/P&gt;&lt;P&gt;How do we reverse this?&amp;nbsp; The FPSA was only to include Class 1A value on termination payments.&amp;nbsp; Is it correct that we submit an FPSA again, but this time with a -ve value of the class 1A, include the same payroll period?&lt;/P&gt;&lt;P&gt;Then, when we submit the FPSA again, use the correct Payroll Period and a +ve Class 1A value?&lt;/P&gt;&lt;P&gt;I remember from years ago, but perhaps it was an EYU that you placed an 'X' somewhere in the upload template and this reverses the submission?&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-q-a/full-payment-submission-amendment-reversal/qaq-p/14204176"/>
    <published>2025-09-02T10:46:47.775000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/timestamp-incorect-format-in-all-standard-tables/qaq-p/14205796</id>
    <title>Timestamp incorect format in all standard tables</title>
    <updated>2025-09-03T11:48:36.921000+02:00</updated>
    <author>
      <name>Alex9991</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2003628</uri>
    </author>
    <content>&lt;P&gt;Hi Sap,&amp;nbsp;&lt;/P&gt;&lt;P&gt;we have in all systems, Development, Test and Production, the completely wrong timestamp format in all standard tables. I looked for some OSS notes but found nothing related. How can it be corrected in all standard tables?&lt;BR /&gt;Thanks in advance&lt;/P&gt;&lt;P&gt;Alex&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/timestamp-incorect-format-in-all-standard-tables/qaq-p/14205796"/>
    <published>2025-09-03T11:48:36.921000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/financial-management-q-a/fiscal-year-and-posting-period/qaq-p/14206829</id>
    <title>Fiscal Year and Posting Period</title>
    <updated>2025-09-04T08:20:55.696000+02:00</updated>
    <author>
      <name>KartikayMehra</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1779446</uri>
    </author>
    <content>&lt;P&gt;Suppose I am starting a company in mid of a month (&lt;STRONG&gt;suppose 15th April&lt;/STRONG&gt;), for this can I restrict the user to not able to select any date before the &lt;STRONG&gt;15th of April&lt;/STRONG&gt;, since before that my organisation was not in existence.&amp;nbsp;&lt;BR /&gt;But whenever I am creating a fiscal year and posting period, I am making the full month open and not a part of it which is on the basis of date. So, is there any way to manage this scenario.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/financial-management-q-a/fiscal-year-and-posting-period/qaq-p/14206829"/>
    <published>2025-09-04T08:20:55.696000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/size-of-backup-catalog/qaq-p/14207859</id>
    <title>Size of backup catalog</title>
    <updated>2025-09-04T23:34:00.315000+02:00</updated>
    <author>
      <name>SAPSupport</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/121003</uri>
    </author>
    <content>&lt;P&gt;Hi Team,&lt;/P&gt;&lt;P&gt;We have a backup catalog size which is about 100+Mbs, help us how can we reduce the size of backup catalog.&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;BR /&gt;------------------------------------------------------------------------------------------------------------------------------------------------&lt;BR /&gt;&lt;B&gt;Learn more about the SAP Support user and program &lt;A target="_blank" href="https://community.sap.com/t5/enterprise-resource-planning-blogs-by-sap/maximizing-the-power-of-sap-community-at-product-support/ba-p/13501276"&gt;here&lt;/A&gt;.&lt;/B&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/size-of-backup-catalog/qaq-p/14207859"/>
    <published>2025-09-04T23:34:00.315000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/supply-chain-management-q-a/sd-cancelling-billing-error-due-to-deletion-of-accounting-assignment-order/qaq-p/14208543</id>
    <title>SD Cancelling billing error  due to deletion of Accounting assignment order</title>
    <updated>2025-09-05T11:53:42.872000+02:00</updated>
    <author>
      <name>Reshug</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/178263</uri>
    </author>
    <content>&lt;P&gt;Hello Gurus,&lt;/P&gt;&lt;P&gt;we have a tricky situation. Our client has last year flagged one&amp;nbsp; Account Assignment order for deletion. Unfortunately , they figured out currently that they have one open bill assigned to that account. Now when they cancelled that bill,it failed to do reverse posting in FI as the account mentioned in that invoice does not exists. It is throwing&amp;nbsp; error : Order is flagged for deletion, either enter the different order or remove&amp;nbsp; the deletion flag.&amp;nbsp; Cleint does not want to remove the flag for deleteion and in change mode the Account Assignemnt order number is greyed out.&lt;/P&gt;&lt;P&gt;&amp;nbsp;I would like to know how can i change the order number in that bill ?&lt;/P&gt;&lt;P&gt;If changing the order number is not possible what other options are possible as in FBL5n customer is seeing as open item since FI posting is not reversed.?&lt;/P&gt;&lt;P&gt;Looking forward to hear from&amp;nbsp; you.&lt;/P&gt;&lt;P&gt;Thanking you all in advance.&lt;/P&gt;&lt;P&gt;Kind Regards&lt;/P&gt;&lt;P&gt;Reshu&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/supply-chain-management-q-a/sd-cancelling-billing-error-due-to-deletion-of-accounting-assignment-order/qaq-p/14208543"/>
    <published>2025-09-05T11:53:42.872000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/issue-facing-issue-in-odata-service-route-configuration-with-sap-hana/qaq-p/14208556</id>
    <title>[ISSUE] - Facing issue in ODATA service route configuration With SAP HANA</title>
    <updated>2025-09-05T11:55:45.705000+02:00</updated>
    <author>
      <name>bhuvaneshwaran_n2</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2200964</uri>
    </author>
    <content>&lt;P&gt;I have installed SAP HANA Express edition(Trial) with XS advanced.&lt;BR /&gt;I am trying to create a simple entityset schema and expose it as ODATA service from the WebIDE option in SPA HANA.&lt;BR /&gt;Need support for how to add the routing so that, on that i can access the entityset further with ODATA request.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/issue-facing-issue-in-odata-service-route-configuration-with-sap-hana/qaq-p/14208556"/>
    <published>2025-09-05T11:55:45.705000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/questions-about-sap-websites/t-code-mrrl-got-an-error-enter-business-place-message-no-j-1ig-msgs020/qaq-p/14209002</id>
    <title>T.code=MRRL , got an error Enter Business Place Message no. J_1IG_MSGS020</title>
    <updated>2025-09-05T18:31:34.881000+02:00</updated>
    <author>
      <name>bikram_chakraborty</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2210219</uri>
    </author>
    <content>&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Dear All SAPers,&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Kindly help me to resolve this. I have done everything possible to resolve this.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;T.code=MRRL , got an error Enter Business Place Message no. J_1IG_MSGS020&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="bikram_chakraborty_0-1757089499744.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/310054iCE65072D2A8158AB/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="bikram_chakraborty_0-1757089499744.png" alt="bikram_chakraborty_0-1757089499744.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/questions-about-sap-websites/t-code-mrrl-got-an-error-enter-business-place-message-no-j-1ig-msgs020/qaq-p/14209002"/>
    <published>2025-09-05T18:31:34.881000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-q-a/how-can-i-retrieve-through-the-service-layer-the-quantity-of-items-per/qaq-p/14211231</id>
    <title>How can I retrieve through the Service Layer the quantity of items per batch in each warehouse?</title>
    <updated>2025-09-08T22:53:21.983000+02:00</updated>
    <author>
      <name>RonaldoCJunior</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2153745</uri>
    </author>
    <content>&lt;P&gt;Currently, I can only see the available batches and the total quantity of items per warehouse, but not the distribution of quantities per warehouse for each batch.&lt;/P&gt;&lt;P&gt;I have already tested the available endpoints and was not able to combine the information of batches with the available quantity per batch. Is there any path or call in the Service Layer that provides this information?&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-q-a/how-can-i-retrieve-through-the-service-layer-the-quantity-of-items-per/qaq-p/14211231"/>
    <published>2025-09-08T22:53:21.983000+02:00</published>
  </entry>
</feed>
