<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>https://raw.githubusercontent.com/ajmaradiaga/feeds/main/scmt/topics/Cloud-Integration-blog-posts.xml</id>
  <title>SAP Community - Cloud Integration</title>
  <updated>2025-09-07T14:00:09.339338+00:00</updated>
  <link href="https://community.sap.com/t5/c-khhcw49343/Cloud Integration/pd-p/67837800100800006801" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator>
  <subtitle>Cloud Integration blog posts in SAP Community</subtitle>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/evolving-security-in-sap-btp-goodbye-apiaccess-plan-hello-btp-cli/ba-p/14182956</id>
    <title>üîí Evolving Security in SAP BTP ‚Äì Goodbye APIAccess Plan, Hello BTP CLI</title>
    <updated>2025-08-18T22:10:52.716000+02:00</updated>
    <author>
      <name>sushilgupta857</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/720925</uri>
    </author>
    <content>&lt;H1 id="toc-hId-1608729139"&gt;&lt;span class="lia-unicode-emoji" title=":locked_with_key:"&gt;üîê&lt;/span&gt;SAP BTP Security Shift: From APIAccess Plan to BTP CLI Credentials&lt;/H1&gt;&lt;H2 id="toc-hId-1541298353"&gt;üôã‚Äç About Me&lt;/H2&gt;&lt;P&gt;Hare Krishna &lt;span class="lia-unicode-emoji" title=":folded_hands:"&gt;üôè&lt;/span&gt; I am an SAP BTP Cloud Architect sharing practical insights, solutions, and real-world experiences from the SAP ecosystem.&lt;/P&gt;&lt;HR /&gt;&lt;H2 id="toc-hId-1344784848"&gt;&lt;span class="lia-unicode-emoji" title=":glowing_star:"&gt;üåü&lt;/span&gt;Introduction&lt;/H2&gt;&lt;P&gt;SAP is continuously evolving its security and authorization capabilities on the Business Technology Platform (BTP). One major shift is the move away from the &lt;STRONG&gt;APIAccess plan for Authorization and Trust Management Service&lt;/STRONG&gt; towards &lt;STRONG&gt;BTP CLI Security API Credentials&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;This transition brings more centralized control, enhanced governance, and future-ready security management.&lt;/P&gt;&lt;HR /&gt;&lt;H2 id="toc-hId-1148271343"&gt;&lt;span class="lia-unicode-emoji" title=":question_mark:"&gt;‚ùì&lt;/span&gt;Why the Shift?&lt;/H2&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;The &lt;STRONG&gt;APIAccess plan&lt;/STRONG&gt; was primarily used for developers to generate OAuth credentials via the cockpit.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;SAP has marked it &lt;STRONG&gt;obsolete&lt;/STRONG&gt;, pushing customers to adopt the more powerful &lt;STRONG&gt;BTP CLI Security API credential management&lt;/STRONG&gt;.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;This aligns with SAP‚Äôs strategy of delivering &lt;STRONG&gt;CLI-first, automation-ready&lt;/STRONG&gt; tooling.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;HR /&gt;&lt;H2 id="toc-hId-951757838"&gt;&lt;span class="lia-unicode-emoji" title=":light_bulb:"&gt;üí°&lt;/span&gt;Benefits of Using BTP CLI&lt;/H2&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;Centralized credential management at the subaccount level&lt;BR /&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;Fine-grained, role-based access (requires &lt;STRONG&gt;Security Administrator role&lt;/STRONG&gt;)&lt;BR /&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;Automation-friendly (ideal for CI/CD pipelines)&lt;BR /&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;Better lifecycle management (create, rotate, revoke credentials via CLI)&lt;BR /&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;Future-proof ‚Äì new features/enhancements will come only in BTP CLI&lt;/P&gt;&lt;HR /&gt;&lt;H2 id="toc-hId-755244333"&gt;&lt;span class="lia-unicode-emoji" title=":balance_scale:"&gt;‚öñÔ∏è&lt;/span&gt;Key Differences: APIAccess vs BTP CLI Security API Credentials&lt;/H2&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;Aspect APIAccess Plan BTP CLI Security API Credentials &lt;TABLE&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD&gt;&lt;STRONG&gt;Scope&lt;/STRONG&gt;&lt;/TD&gt;&lt;TD&gt;Bound to a specific service instance&lt;/TD&gt;&lt;TD&gt;Managed at subaccount level&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;&lt;STRONG&gt;Access Role&lt;/STRONG&gt;&lt;/TD&gt;&lt;TD&gt;Typically developer role (CF)&lt;/TD&gt;&lt;TD&gt;Requires &lt;STRONG&gt;Security Administrator&lt;/STRONG&gt; role&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;&lt;STRONG&gt;Management&lt;/STRONG&gt;&lt;/TD&gt;&lt;TD&gt;Created via cockpit UI&lt;/TD&gt;&lt;TD&gt;Managed via &lt;STRONG&gt;BTP CLI commands&lt;/STRONG&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;&lt;STRONG&gt;Automation&lt;/STRONG&gt;&lt;/TD&gt;&lt;TD&gt;Limited&lt;/TD&gt;&lt;TD&gt;Fully automation-ready (CI/CD, scripts)&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;&lt;STRONG&gt;Future Support&lt;/STRONG&gt;&lt;/TD&gt;&lt;TD&gt;Deprecated / Obsolete&lt;/TD&gt;&lt;TD&gt;Actively supported &amp;amp; enhanced&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;&lt;STRONG&gt;Governance&lt;/STRONG&gt;&lt;/TD&gt;&lt;TD&gt;Minimal&lt;/TD&gt;&lt;TD&gt;Strong audit &amp;amp; lifecycle management&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;HR /&gt;&lt;H2 id="toc-hId-558730828"&gt;&lt;span class="lia-unicode-emoji" title=":hammer_and_wrench:"&gt;üõ†&lt;/span&gt;Steps to Manage Security API Credentials via BTP CLI&lt;/H2&gt;&lt;H3 id="toc-hId-491300042"&gt;&lt;span class="lia-unicode-emoji" title=":keycap_1:"&gt;1Ô∏è‚É£&lt;/span&gt;Login to BTP CLI&lt;/H3&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;btp login --url https://cpcli.cf.eu10.hana.ondemand.com --subdomain &amp;lt;your-subdomain&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;H3 id="toc-hId-294786537"&gt;&lt;span class="lia-unicode-emoji" title=":keycap_2:"&gt;2Ô∏è‚É£&lt;/span&gt;Create Security API Credential&lt;/H3&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;btp create security/api-credential --subaccount &amp;lt;subaccount-guid&amp;gt; --name &amp;lt;credential-name&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;H3 id="toc-hId-98273032"&gt;&lt;span class="lia-unicode-emoji" title=":keycap_3:"&gt;3Ô∏è‚É£&lt;/span&gt;List Security API Credentials&lt;/H3&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;btp list security/api-credential --subaccount &amp;lt;subaccount-guid&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;H3 id="toc-hId--173471842"&gt;&lt;span class="lia-unicode-emoji" title=":keycap_4:"&gt;4Ô∏è‚É£&lt;/span&gt;Get Details of a Credential&lt;/H3&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;btp get security/api-credential --subaccount &amp;lt;subaccount-guid&amp;gt; --name &amp;lt;credential-name&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;H3 id="toc-hId--369985347"&gt;&lt;span class="lia-unicode-emoji" title=":keycap_5:"&gt;5Ô∏è‚É£&lt;/span&gt;Delete Security API Credential&lt;/H3&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;btp delete security/api-credential --subaccount &amp;lt;subaccount-guid&amp;gt; --name &amp;lt;credential-name&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;HR /&gt;&lt;H2 id="toc-hId--273095845"&gt;&lt;span class="lia-unicode-emoji" title=":camera_with_flash:"&gt;üì∏&lt;/span&gt;Real-Life Example (POC)&lt;/H2&gt;&lt;P&gt;Login to BTP CLI&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;btp login --sso&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 12.56.09‚ÄØAM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302078iB9AB4BDD794E2F9A/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 12.56.09‚ÄØAM.png" alt="Screenshot 2025-08-19 at 12.56.09‚ÄØAM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;It will open browser to enter userid and password. Once authenticated successfully in browser user will be logged in the BTPCLI&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 12.56.54‚ÄØAM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302079i8EAD377073C13072/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 12.56.54‚ÄØAM.png" alt="Screenshot 2025-08-19 at 12.56.54‚ÄØAM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;User should have security admin privileges to perform this task using BTPCLI as highlighted below:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 12.57.11‚ÄØAM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302080i0C73C9ED4F0CAE39/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 12.57.11‚ÄØAM.png" alt="Screenshot 2025-08-19 at 12.57.11‚ÄØAM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Command to create BTP Security api credentials&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;btp create security/api-credential --name APIConnectivitySecurityCred&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.18.25‚ÄØAM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302081iA779AC2F2A62D9C5/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.18.25‚ÄØAM.png" alt="Screenshot 2025-08-19 at 1.18.25‚ÄØAM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Command to list the security api credentials&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;btp list security/api-credential&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.19.46‚ÄØAM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302082i13728050DE9097B0/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.19.46‚ÄØAM.png" alt="Screenshot 2025-08-19 at 1.19.46‚ÄØAM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Command to get the security api credentials:&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt; btp get security/api-credential APIConnectivitySecurityCred &lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.22.26‚ÄØAM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302083iE376E9D469BFA8AF/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.22.26‚ÄØAM.png" alt="Screenshot 2025-08-19 at 1.22.26‚ÄØAM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Command to delete the security api credentials:&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;btp delete security/api-credential APIConnectivitySecurityCred&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.22.44‚ÄØAM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302084i484C8926240A2268/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.22.44‚ÄØAM.png" alt="Screenshot 2025-08-19 at 1.22.44‚ÄØAM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;HR /&gt;&lt;H2 id="toc-hId--469609350"&gt;&lt;span class="lia-unicode-emoji" title=":counterclockwise_arrows_button:"&gt;üîÑ&lt;/span&gt;Migration Guidance: Moving from APIAccess Plan to BTP CLI Security API Credentials&lt;/H2&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":backhand_index_pointing_right:"&gt;üëâ&lt;/span&gt;&lt;STRONG&gt;Why migrate?&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;APIAccess plan is deprecated/obsolete.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;BTP CLI provides a centralized, secure, and role-based way to manage credentials.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;Future enhancements will be delivered only for the BTP CLI approach.&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":backhand_index_pointing_right:"&gt;üëâ&lt;/span&gt;&lt;STRONG&gt;Suggested migration approach:&lt;/STRONG&gt;&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;P&gt;Identify all applications, integrations, or scripts currently using credentials generated via APIAccess plan.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Recreate credentials using BTP CLI with the required &lt;STRONG&gt;Security Administrator role&lt;/STRONG&gt; at the subaccount level.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Update configurations (destination services, API clients, pipelines, etc.) to consume the new credentials.&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Decommission old credentials to avoid accidental usage.&lt;/P&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":pushpin:"&gt;üìå&lt;/span&gt;&lt;STRONG&gt;Tip:&lt;/STRONG&gt; Run this migration in a &lt;STRONG&gt;test subaccount&lt;/STRONG&gt; first to validate all dependencies before rolling out in production.&lt;/P&gt;&lt;HR /&gt;&lt;H2 id="toc-hId--666122855"&gt;üôã‚Äç&lt;span class="lia-unicode-emoji" title=":male_sign:"&gt;‚ôÇÔ∏è&lt;/span&gt; FAQs&lt;/H2&gt;&lt;P&gt;&lt;STRONG&gt;Q1: Do I still need the Space Developer role for managing credentials?&lt;/STRONG&gt;&lt;BR /&gt;&lt;span class="lia-unicode-emoji" title=":backhand_index_pointing_right:"&gt;üëâ&lt;/span&gt;No. Managing Security API Credentials requires the &lt;STRONG&gt;Security Administrator role at subaccount level&lt;/STRONG&gt;, not CF space roles.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Q2: What happens if I continue using APIAccess plan?&lt;/STRONG&gt;&lt;BR /&gt;&lt;span class="lia-unicode-emoji" title=":backhand_index_pointing_right:"&gt;üëâ&lt;/span&gt;APIAccess is &lt;STRONG&gt;obsolete&lt;/STRONG&gt;. Existing instances may continue temporarily, but no future support or enhancements will be provided.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Q3: Can I automate credential rotation with BTP CLI?&lt;/STRONG&gt;&lt;BR /&gt;&lt;span class="lia-unicode-emoji" title=":backhand_index_pointing_right:"&gt;üëâ&lt;/span&gt;Yes &lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;. You can script credential creation/deletion via BTP CLI and integrate into CI/CD pipelines for automated rotations.&lt;/P&gt;&lt;HR /&gt;&lt;H2 id="toc-hId--862636360"&gt;&lt;span class="lia-unicode-emoji" title=":books:"&gt;üìö&lt;/span&gt;References&lt;/H2&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;&lt;A class="" href="https://help.sap.com/whats-new/cf0cb2cb149647329b5d02aa96303f56?Component=Authorization+and+Trust+Management+Service&amp;amp;Valid_as_Of=2024-05-15:2024-05-17&amp;amp;locale=en-US" target="_new" rel="noopener noreferrer"&gt;SAP Help: What‚Äôs New ‚Äì Authorization and Trust Management Service&lt;/A&gt;&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;A class="" href="https://help.sap.com/docs/btp/sap-business-technology-platform/managing-api-credentials-for-calling-rest-apis-of-sap-authorization-and-trust-management-service?locale=en-US" target="_new" rel="noopener noreferrer"&gt;SAP Help: Managing API Credentials for Authorization and Trust Management Service&lt;/A&gt;&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/evolving-security-in-sap-btp-goodbye-apiaccess-plan-hello-btp-cli/ba-p/14182956"/>
    <published>2025-08-18T22:10:52.716000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/custom-search-attributes-in-sap-b2b/ba-p/14185605</id>
    <title>Custom Search Attributes in SAP B2B</title>
    <updated>2025-08-20T20:21:52.573000+02:00</updated>
    <author>
      <name>vishakha_deshmukh</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/839055</uri>
    </author>
    <content>&lt;P&gt;&lt;STRONG&gt;Introduction&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Custom search attributes feature in SAP B2B scenarios can be used to enhance the search experience for users and help them find exactly what they are looking for. These attributes can be tailored to the specific needs of B2B buyers and sellers, such as industry-specific product features, technical specifications, pricing options, and more. By allowing users to filter search results based on these custom attributes, businesses can provide a more personalized and efficient search experience. Additionally, custom search attributes can also be used to gather valuable data on customer preferences and behavior, which can be leveraged to further optimize the B2B buying and selling process.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="vishakha_deshmukh_0-1755711431845.png" style="width: 655px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303183i4B0C14ECFC71FDC6/image-dimensions/655x249/is-moderation-mode/true?v=v2" width="655" height="249" role="button" title="vishakha_deshmukh_0-1755711431845.png" alt="vishakha_deshmukh_0-1755711431845.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-align-center" style="text-align: center;"&gt;&lt;FONT size="1 2 3 4 5 6 7"&gt;High level Diagram for Custom Search in B2B Monitoring&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Note that you can configure maximum of 10 custom search attributes for your B2B Messages per tenant&lt;/STRONG&gt;. &lt;STRONG&gt;Also, Custom Search Attributes with multiple values is supported now and the maximum length is 1000 characters.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Let‚Äôs try to understand this with a use case for Outbound Transaction. Let‚Äôs say your Company sends IDOC Invoice D.01B message to Trading Partner. There are standard search attributes such as Sender Interchange Control Number, Sender Message Number, Receiver Interchange Control Number, Receiver Message Number etc. &amp;nbsp;With the configuration of Custom Search Attribute Invoice Number, you can easily find all the Invoice B2B Interchanges that you want by providing the Invoice Number in the filter in B2B Monitoring.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;How to configure?&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Custom Search Attributes can be maintained for both Inbound as well as Outbound Transactions.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Configure Custom Search Attributes in Configuration Manager in Trading Partner Management (TPM)&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;Login into the SAP Integration Suite and navigate to &lt;STRONG&gt;Design &amp;gt; B2B Scenarios.&lt;/STRONG&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;2. Select the &lt;STRONG&gt;Configuration Manager&lt;/STRONG&gt; tab and choose &lt;STRONG&gt;Create &lt;/STRONG&gt;to create custom search attribute.&lt;/P&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(&lt;STRONG&gt;Note&lt;/STRONG&gt;: &lt;STRONG&gt;Maximum of 10 custom search attributes can be created&lt;/STRONG&gt;)&lt;/P&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;3. Enter a meaningful name in the &lt;STRONG&gt;Name&lt;/STRONG&gt; field and provide a description in the &lt;STRONG&gt;Description&lt;/STRONG&gt; field.&lt;/P&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;4. Choose &lt;STRONG&gt;Save&lt;/STRONG&gt;. The custom search attribute has been created successfully.&lt;/P&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;5. After creating custom search attributes, these attributes need to be assigned to the transactions for them to&amp;nbsp; reflect in B2B Monitor.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="vishakha_deshmukh_1-1755711431856.png" style="width: 587px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303185i6A092F4F144DEC88/image-dimensions/587x317/is-moderation-mode/true?v=v2" width="587" height="317" role="button" title="vishakha_deshmukh_1-1755711431856.png" alt="vishakha_deshmukh_1-1755711431856.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Add Custom Search Attributes to Inbound/Outbound Transactions in Trading Partner Agreement (TPA)&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;Navigate to &lt;STRONG&gt;Design &amp;gt; B2B Scenarios.&lt;/STRONG&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;2. Select&lt;STRONG&gt; Agreements &amp;gt; B2B Scenarios&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;3. Select the transaction, navigate to &lt;STRONG&gt;Custom Search Attribute &lt;/STRONG&gt;tab and choose &lt;STRONG&gt;Add&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;In the resulting Dialog, maintain the following fields:&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;TABLE&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="148"&gt;&lt;P&gt;Field&lt;/P&gt;&lt;/TD&gt;&lt;TD width="330"&gt;&lt;P&gt;Description&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="148"&gt;&lt;P&gt;&lt;STRONG&gt;Name&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="330"&gt;&lt;P&gt;Select a value from the list of attributes that are created via Configuration Manager&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="148"&gt;&lt;P&gt;&lt;STRONG&gt;Source Type&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="330"&gt;&lt;P&gt;Select whether the source type is &lt;STRONG&gt;Parameter&lt;/STRONG&gt; or &lt;STRONG&gt;XPATH&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="148"&gt;&lt;P&gt;&lt;STRONG&gt;Source Value&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="330"&gt;&lt;P&gt;Enter the source value for the name. If &lt;STRONG&gt;Source type&lt;/STRONG&gt; is &lt;STRONG&gt;Parameter&lt;/STRONG&gt;, then enter the parameter here. If the &lt;STRONG&gt;Source type&lt;/STRONG&gt; is &lt;STRONG&gt;XPath&lt;/STRONG&gt;, then enter the XPath of the source value.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="148"&gt;&lt;P&gt;&lt;STRONG&gt;Data Source&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="330"&gt;&lt;P&gt;Select whether the data source should be &lt;STRONG&gt;Sender Interchange&lt;/STRONG&gt; or &lt;STRONG&gt;receiver Interchange&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="vishakha_deshmukh_2-1755711431859.png" style="width: 720px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303184i24F92D2CB39B0BE6/image-dimensions/720x241/is-moderation-mode/true?v=v2" width="720" height="241" role="button" title="vishakha_deshmukh_2-1755711431859.png" alt="vishakha_deshmukh_2-1755711431859.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="vishakha_deshmukh_3-1755711431867.png" style="width: 766px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303187i19210A95F375C11C/image-dimensions/766x310/is-moderation-mode/true?v=v2" width="766" height="310" role="button" title="vishakha_deshmukh_3-1755711431867.png" alt="vishakha_deshmukh_3-1755711431867.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In an IDOC message, the Custom Search Attribute &lt;STRONG&gt;Invoice Number&lt;/STRONG&gt; is taken from &lt;STRONG&gt;BELNR &lt;/STRONG&gt;segment which is&amp;nbsp;&lt;STRONG&gt;IDOC Document Number&lt;/STRONG&gt;. Custom Search Attribute for Invoice Number is taken from the XPath //E1EDK01/BELNR.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;Just for reference, as depicted below in the highlighted area, you can see how the XPath is configured for fields with Qualifier.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="vishakha_deshmukh_4-1755711431873.png" style="width: 670px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303188i248C9FB8906C2991/image-dimensions/670x295/is-moderation-mode/true?v=v2" width="670" height="295" role="button" title="vishakha_deshmukh_4-1755711431873.png" alt="vishakha_deshmukh_4-1755711431873.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;If the &lt;STRONG&gt;Source Type&lt;/STRONG&gt; is &lt;STRONG&gt;Parameter&lt;/STRONG&gt;, the custom search attribute should be maintained in the Trading Partner Agreement (TPA) under &lt;STRONG&gt;Activity Parameters&lt;/STRONG&gt; tab in B2B Scenarios.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="vishakha_deshmukh_5-1755711431875.png" style="width: 749px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303186iEE698C5AF512F4B5/image-dimensions/749x60/is-moderation-mode/true?v=v2" width="749" height="60" role="button" title="vishakha_deshmukh_5-1755711431875.png" alt="vishakha_deshmukh_5-1755711431875.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Header and properties would be resolved during runtime&lt;STRONG&gt;.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Once the Custom Search Attributes are created and defined, they should be used in the necessary B2B transactions in an agreement. These attributes are then pushed into Partner directory once the Trading Partner Agreement (TPA) is activated.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;B2B Monitor&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;The incoming payload consists of the search values in XPath format and when the payload is parsed, the values are read and displayed in the B2B monitor.&lt;/P&gt;&lt;P&gt;In B2B Monitoring, navigate to &lt;STRONG&gt;Monitor &amp;gt; B2B Scenarios &amp;gt; Adapt Filters &lt;/STRONG&gt;and select your Custom Search Attribute e.g., Invoice Number.&lt;/P&gt;&lt;P&gt;Enter the Invoice Number for which you want to see the B2B Messages and you can see only those messages.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="vishakha_deshmukh_6-1755711431884.png" style="width: 627px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303189iF4E20DF9E4ABEF56/image-dimensions/627x364/is-moderation-mode/true?v=v2" width="627" height="364" role="button" title="vishakha_deshmukh_6-1755711431884.png" alt="vishakha_deshmukh_6-1755711431884.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Summary&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Custom Search Attributes is one of the important features in SAP B2B which allows you to search for interchanges based on the user-defined filters in the B2B Monitor section.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/custom-search-attributes-in-sap-b2b/ba-p/14185605"/>
    <published>2025-08-20T20:21:52.573000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/integration-blog-posts/ensuring-exactly-once-in-order-quality-of-service-in-cloud-integration/ba-p/14180026</id>
    <title>Ensuring Exactly Once In Order Quality of Service in Cloud Integration</title>
    <updated>2025-08-21T11:49:19.706000+02:00</updated>
    <author>
      <name>sunny_kapoor</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/42889</uri>
    </author>
    <content>&lt;H1 id="toc-hId-1608660815"&gt;Introduction&lt;/H1&gt;&lt;P&gt;As businesses expand digitally, the need for reliable and consistent data transfer increases. Ensuring "Exactly Once In Order" (EOIO) quality of service (QoS) delivery is critical in this context, as it guarantees data messages are delivered without duplication and in their original sequence. SAP Integration Suite provides capabilities to achieve EOIO in cloud integration scenarios, ensuring high reliability, data integrity, and operational efficiency.&lt;/P&gt;&lt;H1 id="toc-hId-1412147310"&gt;&amp;nbsp;&lt;/H1&gt;&lt;H1 id="toc-hId-1215633805"&gt;What Is Exactly Once In Order Quality of Service (EOIO QoS)?&lt;/H1&gt;&lt;P&gt;Exactly &lt;SPAN&gt;O&lt;/SPAN&gt;nce &lt;SPAN&gt;I&lt;/SPAN&gt;n &lt;SPAN&gt;O&lt;/SPAN&gt;rder (EOIO) quality of service (QoS) is crucial in &lt;STRONG&gt;business process integration&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/STRONG&gt; where the sequence and uniqueness of message delivery are essential to prevent issues like double processing, missing data, or disordered information that can lead to operational errors and inconsistencies.&lt;/P&gt;&lt;P&gt;This QoS guarantees that:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;A message is delivered &lt;STRONG&gt;only once&lt;/STRONG&gt; (no duplication).&lt;/LI&gt;&lt;LI&gt;Messages are delivered &lt;STRONG&gt;in the exact order&lt;/STRONG&gt; they were sent.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;This is particularly important in &lt;STRONG&gt;enterprise systems&lt;/STRONG&gt;, &lt;STRONG&gt;supply chains&lt;/STRONG&gt;, &lt;STRONG&gt;finance&lt;/STRONG&gt;, and other mission-critical processes. Below are some &lt;STRONG&gt;use cases&lt;/STRONG&gt; where EOIO is required or highly beneficial&lt;/P&gt;&lt;H1 id="toc-hId-1019120300"&gt;&amp;nbsp;&lt;/H1&gt;&lt;H1 id="toc-hId-822606795"&gt;Use Cases of EOIO in Business Process Integration&lt;/H1&gt;&lt;P&gt;EOIO has diverse applications across industries,&amp;nbsp;&lt;SPAN&gt;some of which are listed below:&lt;/SPAN&gt;&lt;/P&gt;&lt;H3 id="toc-hId-884258728"&gt;1. Financial Transactions Processing&lt;/H3&gt;&lt;H5 id="toc-hId-945910661"&gt;Scenario:&lt;/H5&gt;&lt;P&gt;A banking system processes a sequence of fund transfers (e.g., debit from account A, then credit to account B).&lt;/P&gt;&lt;H5 id="toc-hId-749397156"&gt;Why EOIO Matters:&lt;/H5&gt;&lt;UL&gt;&lt;LI&gt;Duplicate or out-of-order messages can lead to account imbalance, fraudulent triggers, or failed reconciliations.&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;It &lt;/SPAN&gt;&lt;SPAN&gt;g&lt;/SPAN&gt;uarantees consistency in multi-step or interdependent transactions.&lt;/LI&gt;&lt;/UL&gt;&lt;H5 id="toc-hId-552883651"&gt;Example:&lt;/H5&gt;&lt;UL&gt;&lt;LI&gt;SAP ERP system integrating with SWIFT messaging via Cloud Integration must maintain EOIO to prevent double-posting.&lt;/LI&gt;&lt;/UL&gt;&lt;H3 id="toc-hId-98204708"&gt;2. Supply Chain and Logistics Integration&lt;/H3&gt;&lt;H5 id="toc-hId--760346180"&gt;Scenario:&lt;/H5&gt;&lt;P&gt;Logistics updates from multiple carriers (e.g., shipment picked ‚Üí in transit ‚Üí delivered) are sent to the ERP system.&lt;/P&gt;&lt;H5 id="toc-hId--956859685"&gt;Why EOIO Matters:&lt;/H5&gt;&lt;UL&gt;&lt;LI&gt;Maintaining the chronological order is critical for real-time tracking, customer notifications, and process triggers.&lt;/LI&gt;&lt;LI&gt;Duplicate status updates may mislead warehouse or customer service operations.&lt;/LI&gt;&lt;/UL&gt;&lt;H3 id="toc-hId--566567176"&gt;3. Inventory Management and Replenishment&lt;/H3&gt;&lt;H5 id="toc-hId--1349886695"&gt;Scenario:&lt;/H5&gt;&lt;P&gt;Automated replenishment orders triggered by real-time stock levels across distributed warehouses.&lt;/P&gt;&lt;H5 id="toc-hId--1546400200"&gt;Why EOIO Matters:&lt;/H5&gt;&lt;UL&gt;&lt;LI&gt;Duplicate or unordered stock updates can lead to overstocking or missed replenishments.&lt;/LI&gt;&lt;LI&gt;EOIO ensures real-time stock adjustments are accurate and sequential.&lt;/LI&gt;&lt;/UL&gt;&lt;H3 id="toc-hId--1156107691"&gt;4. Customer Journey and CRM Integration&lt;/H3&gt;&lt;H5 id="toc-hId--1939427210"&gt;Scenario:&lt;/H5&gt;&lt;P&gt;CRM events like "lead created", "email sent", "customer responded", and "sales call made" are integrated from various channels.&lt;/P&gt;&lt;H5 id="toc-hId--2135940715"&gt;Why EOIO Matters:&lt;/H5&gt;&lt;UL&gt;&lt;LI&gt;Accurate customer profiling and scoring depend on the correct sequence.&lt;/LI&gt;&lt;LI&gt;Duplicate activities could skew analytics and automation.&lt;/LI&gt;&lt;/UL&gt;&lt;H1 id="toc-hId--1158842192"&gt;&amp;nbsp;&lt;/H1&gt;&lt;H1 id="toc-hId--1355355697"&gt;Configuring EOIO in SAP Integration Suite&lt;/H1&gt;&lt;P&gt;SAP Integration Suite offers tools and functionalities to implement EOIO, enabling businesses to ensure reliability and data consistency.&lt;/P&gt;&lt;P&gt;On a high level, there are two ways to implement EOIO QoS in &lt;SPAN&gt;the &lt;/SPAN&gt;&lt;SPAN&gt;C&lt;/SPAN&gt;loud &lt;SPAN&gt;I&lt;/SPAN&gt;ntegration capability of SAP Integration Suite:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;With the support for &lt;STRONG&gt;exclusive JMS queues in the Cloud Integration capability of SAP Integration Suite&lt;/STRONG&gt;, you are now able to run scenarios supporting Exactly Once In Order delivery, given that you ensure Exactly Once delivery, as described in&amp;nbsp;&lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/quality-of-service-exactly-once" target="_blank" rel="noopener noreferrer"&gt;Quality of Service Exactly Once&lt;/A&gt;. See&amp;nbsp;also &lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/configure-jms-sender-adapter" target="_blank" rel="noopener noreferrer"&gt;Configure the JMS Sender Adapter&lt;/A&gt;&amp;nbsp;and&amp;nbsp;&lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/configure-jms-receiver-adapter" target="_blank" rel="noopener noreferrer"&gt;Configure the JMS Receiver Adapter&lt;/A&gt;. This blog post focuses on this option, and the configuration details and best practices for using JMS exclusive queues will be discussed later in the post.&lt;/LI&gt;&lt;LI&gt;Alternatively, you can &lt;STRONG&gt;use&amp;nbsp;SAP Integration Suite, advanced event mesh&lt;/STRONG&gt; for implementing Exactly Once In Order delivery. Here, you can either use exclusive queues or partitioned queues. To connect to&amp;nbsp;SAP Integration Suite, advanced event mesh you can leverage the Advanced Event Mesh adapter, see&amp;nbsp;&lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/decoupling-using-sap-integration-suite-advanced-event-mesh" target="_blank" rel="noopener noreferrer"&gt;Decoupling using SAP integration Suite, advanced event mesh&lt;/A&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;The prerequisite for end-to-end Exactly Once In Order delivery is that the sender ensures that a message is only sent when the predecessor message has been acknowledged by a technical success response, such as an HTTP return code 200 or 202.&lt;/P&gt;&lt;P&gt;If you&lt;SPAN&gt;‚Äôd&lt;/SPAN&gt; like to learn how to setup&amp;nbsp;Exactly Once In Order in Cloud Integration, check out the new integration flow design guidelines at&amp;nbsp;&lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/quality-of-service-exactly-once-in-order" target="_blank" rel="noopener noreferrer"&gt;Quality of Service Exactly Once In Order&lt;/A&gt;. The following table helps you to understand the step-by-step workflow of EOIO&lt;SPAN&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;DIV&gt;&lt;TABLE border="1" cellspacing="0" cellpadding="0"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="47px"&gt;&lt;P&gt;&lt;STRONG&gt;Step&amp;nbsp;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="427px"&gt;&lt;P&gt;&lt;STRONG&gt;Process&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="47px"&gt;&lt;P&gt;1&lt;/P&gt;&lt;/TD&gt;&lt;TD width="427px"&gt;&lt;P&gt;Sender prepares message&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="47px"&gt;&lt;P&gt;2&lt;/P&gt;&lt;/TD&gt;&lt;TD width="427px"&gt;&lt;P&gt;Message sent to exclusive/partitioned queue&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="47px"&gt;&lt;P&gt;3&lt;/P&gt;&lt;/TD&gt;&lt;TD width="427px"&gt;&lt;P&gt;Queue ensures ordered delivery&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="47px"&gt;&lt;P&gt;4&lt;/P&gt;&lt;/TD&gt;&lt;TD width="427px"&gt;&lt;P&gt;Receiver acknowledges each message (e.g., HTTP 200/202)&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="47px"&gt;&lt;P&gt;5&lt;/P&gt;&lt;/TD&gt;&lt;TD width="427px"&gt;&lt;P&gt;&lt;SPAN&gt;Next message sent after acknowledgment&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/DIV&gt;&lt;P&gt;&lt;STRONG&gt;Note:&lt;/STRONG&gt;&amp;nbsp;The usage of SAP Integration Suite, advanced event mesh and the Advanced Event Mesh adapter depends on your SAP Integration Suite service plan, see SAP note&amp;nbsp;&lt;A href="https://me.sap.com/notes/2903776" target="_blank" rel="noopener noreferrer"&gt;2903776&lt;/A&gt;.&lt;/P&gt;&lt;H1 id="toc-hId--1383685511"&gt;&amp;nbsp;&lt;/H1&gt;&lt;H1 id="toc-hId--1580199016"&gt;JMS Exclusive Queues&lt;/H1&gt;&lt;H3 id="toc-hId-1931448761"&gt;Implementation&lt;/H3&gt;&lt;P&gt;To implement Exactly Once in Order with JMS queues, we have introduced an access type field in the JMS queue configuration. This feature is available starting with the JMS Sender adapter version 1.4 and the JMS Receiver adapter version 1.6.&lt;/P&gt;&lt;P&gt;In an already existing integration flow, if you want to switch to exclusive queues (replacing earlier default non-exclusive queues), you need to edit the integration flow, delete the JMS sender/receiver adapter and add it again to get latest version supporting exclusive queues.&lt;/P&gt;&lt;P&gt;Here are the configuration details:&lt;/P&gt;&lt;H5 id="toc-hId-1148129242"&gt;JMS Sender Adapter&lt;/H5&gt;&lt;P&gt;For the JMS Sender adapter version 1.4 and up, refer to following link for configuration:&lt;/P&gt;&lt;P&gt;&lt;A href="https://help.sap.com/docs/cloud-integration/sap-cloud-integration/configure-jms-sender-adapter" target="_blank" rel="noopener noreferrer"&gt;Configure JMS Sender Adapter&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="sunny_kapoor_0-1755117488958.png" style="width: 536px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/300563i501F3B3676897CC4/image-dimensions/536x321?v=v2" width="536" height="321" role="button" title="sunny_kapoor_0-1755117488958.png" alt="sunny_kapoor_0-1755117488958.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H5 id="toc-hId-951615737"&gt;JMS Receiver Adapter&lt;/H5&gt;&lt;P&gt;For the JMS Receiver adapter version 1.6 and up, refer to following link for configuration:&lt;/P&gt;&lt;P&gt;&lt;A href="https://help.sap.com/docs/cloud-integration/sap-cloud-integration/configure-jms-receiver-adapter?locale=en-US" target="_blank" rel="noopener noreferrer"&gt;Configure JMS Receiver Adapter&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="sunny_kapoor_1-1755117488960.png" style="width: 530px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/300562iBE7B07D27D322752/image-dimensions/530x313?v=v2" width="530" height="313" role="button" title="sunny_kapoor_1-1755117488960.png" alt="sunny_kapoor_1-1755117488960.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H3 id="toc-hId-1341908246"&gt;Limitations&lt;/H3&gt;&lt;UL&gt;&lt;LI&gt;The access type of a queue cannot be changed, unless you undeploy the integration flows it is being used in and delete the queue. Only then you can edit the integration flow to use a different queue type. After making these changes, you can deploy it again to have the same queue with the new access type.&lt;/LI&gt;&lt;LI&gt;Exclusive queues should have only one consumer. If there is another integration flow which is consuming from same exclusive queue, the order is not guaranteed. So, this should be explicitly taken care while designing the integration flow.&lt;/LI&gt;&lt;LI&gt;As of now (upcoming feature though), the checks for lower and upper limits for retry interval (1-60 mins) and Max retry interval (1-180 mins) are not performed in the integration flow design UI. However, integration flow deployment will fail if the values are out of range, so please keep them within these limits. Please note that these range values differ from non-exclusive queues&lt;SPAN&gt;,&lt;/SPAN&gt; as the retry mechanism for exclusive queues is managed by the broker, and these limits come from the broker itself.&lt;/LI&gt;&lt;/UL&gt;&lt;H5 id="toc-hId-558588727"&gt;Points to be noted&lt;/H5&gt;&lt;UL&gt;&lt;LI&gt;If you move messages from an exclusive queue to another exclusive or non-exclusive queue, the order of these messages will not be guaranteed.&lt;/LI&gt;&lt;LI&gt;If a message processing is stuck in an exclusive queue, all messages following it in the queue will have to wait to be processed. There is no error queue for exclusive queues (unlike non-exclusive queues), so those messages cannot be moved unless moved out manually.&lt;/LI&gt;&lt;/UL&gt;&lt;H5 id="toc-hId-362075222"&gt;Downsides&lt;/H5&gt;&lt;P&gt;Customers should choose exclusive queues only, if really required to implement EOIO QoS in their business scenario. If EOIO QoS is not needed or desired, non-exclusive queues should be preferred. Here are some downsides of using exclusive queues over non-exclusive queues&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;The message processing will be slow as the default value for ‚ÄòNumber of Concurrent Processes‚Äô in sender adapter set to 1 (not even shown in UI). Hence it is serialized.&lt;/LI&gt;&lt;LI&gt;If the top most message is stuck, then all other messages will be stuck because there is no error queue corresponding to an exclusive queue to implement in-order processing. The stuck message needs to be moved out of the queue manually.&lt;/LI&gt;&lt;/UL&gt;&lt;H5 id="toc-hId-165561717"&gt;Error Cases&lt;/H5&gt;&lt;P&gt;The integration flow deployment consuming from or producing to an exclusive queue fails if:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;It is trying to create or access a queue which already exists with different access type.&lt;/LI&gt;&lt;LI&gt;The mentioned retry interval and max retry interval values are out of range.&lt;/LI&gt;&lt;/UL&gt;&lt;H1 id="toc-hId-1142660240"&gt;&amp;nbsp;&lt;/H1&gt;&lt;H1 id="toc-hId-1114330426"&gt;Conclusion&lt;/H1&gt;&lt;P&gt;EOIO is essential for reliable cloud integration, and SAP Integration Suite provides the necessary tools and methodologies to implement i effectively. By ensuring data integrity, sequence preservation, and operational reliability, businesses can enhance their service delivery across industries. With SAP Integration Suite, achieving EOIO is a pathway to operational excellence and future-proof business processes.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/integration-blog-posts/ensuring-exactly-once-in-order-quality-of-service-in-cloud-integration/ba-p/14180026"/>
    <published>2025-08-21T11:49:19.706000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/pipeline-integrated-messaging-runtime-asyc-example/ba-p/14187818</id>
    <title>Pipeline - Integrated Messaging Runtime Asyc Example</title>
    <updated>2025-08-22T16:08:20.488000+02:00</updated>
    <author>
      <name>lm_allen</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/536714</uri>
    </author>
    <content>&lt;H1 id="toc-hId-1608877011"&gt;Introduction&lt;/H1&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;The pipeline concept was introduced by SAP to mirror the way messages are processed in SAP PO/PI - in a pipeline.&amp;nbsp; Using this concept in cloud integration offers one potential route for migrating a large number of integrations from SAP PO/PI.&amp;nbsp; The pipeline concept also reduces the number of JMS queues needed for managing migrated or new asynchronous integration scenarios.&lt;/P&gt;&lt;P&gt;There are a great series of blogs that can be found at &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/introducing-the-new-pipeline-concept-in-cloud-integration/ba-p/13639651" target="_blank"&gt;https://community.sap.com/t5/technology-blog-posts-by-sap/introducing-the-new-pipeline-concept-in-cloud-integration/ba-p/13639651&lt;/A&gt;.&lt;/P&gt;&lt;P&gt;Please note that the original SAP Package for the pipeline concept 'Process Integration Pipeline - Generic Integration Flows and Templates' will soon be deprecated and the new integration packages should be used, see blog: &lt;A href="https://community.sap.com/t5/integration-blog-posts/new-integration-packages-for-the-pipeline-for-cloud-integration/ba-p/14175339" target="_blank"&gt;https://community.sap.com/t5/integration-blog-posts/new-integration-packages-for-the-pipeline-for-cloud-integration/ba-p/14175339&lt;/A&gt;&lt;/P&gt;&lt;P&gt;The aim of this blog is to show an example of manually setting up a simple asynchronous integration using the new pipeline packages.&lt;/P&gt;&lt;P&gt;For reference I have mocked up an example iflow in SAP PO that we will replicate in cloud integration using the pipeline.&amp;nbsp; The flow starts with a json message being sent from Postman over https, converted to xml in the adapter and then sent via email to 2 recipients each with a single interface.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_0-1755870611380.png" style="width: 849px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303952iF3941AD1AB8F66A3/image-dimensions/849x266/is-moderation-mode/true?v=v2" width="849" height="266" role="button" title="lm_allen_0-1755870611380.png" alt="lm_allen_0-1755870611380.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1412363506"&gt;Setting Up The Cloud Integration Pipeline - Overview&lt;/H1&gt;&lt;P&gt;From Discovery Tab download following packages:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://hub.sap.com/package/CloudIntegrationPipelineGenericInbound/overview" target="_blank" rel="noopener noreferrer"&gt;Cloud Integration Pipeline - Generic Inbound&lt;/A&gt;: Contains the generic IDoc and XI inbound flows.&lt;/LI&gt;&lt;LI&gt;&lt;A href="https://hub.sap.com/package/CloudIntegrationPipelineGenericPipelines/overview" target="_blank" rel="noopener noreferrer"&gt;Cloud Integration Pipeline - Generic Pipelines&lt;/A&gt;: Contains the main generic pipeline steps.&lt;/LI&gt;&lt;LI&gt;&lt;A href="https://hub.sap.com/package/CloudIntegrationPipelineGenericOutbound/overview" target="_blank" rel="noopener noreferrer"&gt;Cloud Integration Pipeline - Generic Outbound&lt;/A&gt;: Contains the generic outbound processing flow.&lt;/LI&gt;&lt;LI&gt;&lt;A href="https://hub.sap.com/package/CloudIntegrationPipelineTemplates/overview" target="_blank" rel="noopener noreferrer"&gt;Cloud Integration Pipeline - Templates&lt;/A&gt;: Contains all templates for the scenario-specific flows and custom extensions.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;Although the complete pipeline (shown below with flow steps numbered) is still supported for Asynchronous messages:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_1-1755870611381.png" style="width: 978px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303954i90FC7BBCAE814FF8/image-dimensions/978x292/is-moderation-mode/true?v=v2" width="978" height="292" role="button" title="lm_allen_1-1755870611381.png" alt="lm_allen_1-1755870611381.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;The recommendation is to use the Integrated pipeline (flow steps numbered for reference in diagram below):&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_2-1755870611382.png" style="width: 931px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303953iADE75F7948536E2D/image-dimensions/931x378/is-moderation-mode/true?v=v2" width="931" height="378" role="button" title="lm_allen_2-1755870611382.png" alt="lm_allen_2-1755870611382.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;For setting up the integrated messaging runtime for asynchronous communication (recommended option for asynchronous communication), you need to deploy the following generic integration flows:&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;(Optionally, if you like to use a single entry point for IDoc messages) Pipeline v2 Generic Step01 - Inbound Processing for Idoc&lt;/LI&gt;&lt;LI&gt;(Optionally, if you like to use a single entry point for XI messages) Pipeline v2 Generic Step01 - Inbound Processing for XI&lt;/LI&gt;&lt;LI&gt;Pipeline v2 Generic Step02 - Integrated Messaging Runtime Async&lt;/LI&gt;&lt;LI&gt;Pipeline v2 Generic Step06 - Outbound Processing&lt;/LI&gt;&lt;/UL&gt;&lt;H1 id="toc-hId-1215850001"&gt;&amp;nbsp;&lt;/H1&gt;&lt;H1 id="toc-hId-1019336496"&gt;Configure Flow Step2&lt;/H1&gt;&lt;P&gt;Configure 'Pipeline v2 Generic Step02 - Integrated Messaging Runtime Async' and deploy&lt;/P&gt;&lt;P&gt;Note - JMS queues are created automatically when you deploy&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_3-1755870611383.png" style="width: 665px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303956i46F0208FCB98BBCF/image-dimensions/665x246/is-moderation-mode/true?v=v2" width="665" height="246" role="button" title="lm_allen_3-1755870611383.png" alt="lm_allen_3-1755870611383.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;CustomXPid_SwitchOffTilde is set to true - this ensures the alternative Partner (setup in next step) is read from partner directory.&lt;/P&gt;&lt;P&gt;PipelineJMSQueuePrefix - enter custom Queue Prefix&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-822822991"&gt;Configure Flow Step 6&lt;/H1&gt;&lt;P&gt;Configure 'Pipeline v2 Generic Step06 - Outbound Processing' and deploy&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_4-1755870611383.png" style="width: 695px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303955i3CB85294EA191886/image-dimensions/695x219/is-moderation-mode/true?v=v2" width="695" height="219" role="button" title="lm_allen_4-1755870611383.png" alt="lm_allen_4-1755870611383.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;PipelineJMSQueuePrefix - enter custom Queue Prefix&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-626309486"&gt;Initial Partner Directory Setup&lt;/H1&gt;&lt;P&gt;In &lt;STRONG&gt;Monitor|Integration and APIs|Manage Partner Directory&lt;/STRONG&gt; - create a new Partner entry of type 'Alternative Partners'.&amp;nbsp; This information is used by the generic flow steps to identify the interface being processed.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_5-1755870611384.png" style="width: 607px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303957i3C95848C98463417/image-dimensions/607x309/is-moderation-mode/true?v=v2" width="607" height="309" role="button" title="lm_allen_5-1755870611384.png" alt="lm_allen_5-1755870611384.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-429795981"&gt;Setup Flow Step 1&lt;/H1&gt;&lt;P&gt;For Step 1 of the process you can either create your own iflow of copy a template from the Package 'Cloud Integration Pipeline - Templates'.&amp;nbsp; In this example I copied the following iflow 'Pipeline v2 Template Step01 - Inbound Processing At Least Once'&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_6-1755870611384.png" style="width: 814px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303958i885B645368CAE4C3/image-dimensions/814x45/is-moderation-mode/true?v=v2" width="814" height="45" role="button" title="lm_allen_6-1755870611384.png" alt="lm_allen_6-1755870611384.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Configure Flow and set name of Receiver Queue to match Sender Queue name setup in 'Pipeline v2 Generic Step02 - Integrated Messaging Runtime Async'&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_7-1755870611384.png" style="width: 716px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303960i442920610E56143B/image-dimensions/716x240/is-moderation-mode/true?v=v2" width="716" height="240" role="button" title="lm_allen_7-1755870611384.png" alt="lm_allen_7-1755870611384.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;For this example set Sender Adapter as HTTPS&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_8-1755870611385.png" style="width: 613px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303959i487CCE11AB5D2399/image-dimensions/613x291/is-moderation-mode/true?v=v2" width="613" height="291" role="button" title="lm_allen_8-1755870611385.png" alt="lm_allen_8-1755870611385.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;In 'Set SAP headers' Content Modifier set values below to match ones set in Alternative Partner&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_9-1755870611385.png" style="width: 861px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303963i06207729654ADF0C/image-dimensions/861x493/is-moderation-mode/true?v=v2" width="861" height="493" role="button" title="lm_allen_9-1755870611385.png" alt="lm_allen_9-1755870611385.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Nb: Optionally could pass header 'partnerID' with value in this case of 'INT_0006_Test_Pipeline' rather than using SAP_Sender &amp;amp; SAP_SenderInterface&lt;/P&gt;&lt;P&gt;The 'Parse incoming XML' and 'Set custom header attributes' steps are used for setting customer headers on MPL Logs if required.&amp;nbsp; Can delete if not needed.&amp;nbsp; See blog for more details &lt;A href="https://community.sap.com/t5/integration-blog-posts/new-pipeline-concept-features-supporting-custom-header-properties-and/ba-p/13894048" target="_blank"&gt;https://community.sap.com/t5/integration-blog-posts/new-pipeline-concept-features-supporting-custom-header-properties-and/ba-p/13894048&lt;/A&gt;&lt;/P&gt;&lt;P&gt;The 'Define Service Interface Operations' and 'Map Message Type to Operation' steps are used to replicate the SAP PO functionality of having different operations based on the Message Root Node.&amp;nbsp; Can delete if not needed. See blog for more details &lt;A href="https://community.sap.com/t5/integration-blog-posts/new-pipeline-concept-features-supporting-service-interface-operations-and/ba-p/14049909" target="_blank"&gt;https://community.sap.com/t5/integration-blog-posts/new-pipeline-concept-features-supporting-service-interface-operations-and/ba-p/14049909&lt;/A&gt;&lt;/P&gt;&lt;H1 id="toc-hId-233282476"&gt;&amp;nbsp;&lt;/H1&gt;&lt;H1 id="toc-hId-36768971"&gt;Optional - Flow Step 3&lt;/H1&gt;&lt;P&gt;If want to call a scenario specific inbound conversion then can create an entry in the Partner directory&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_10-1755870611386.png" style="width: 668px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303961iB8A1F492CA11C915/image-dimensions/668x262/is-moderation-mode/true?v=v2" width="668" height="262" role="button" title="lm_allen_10-1755870611386.png" alt="lm_allen_10-1755870611386.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Again can create your own iflow or Copy template iflow 'Pipeline v2 Template Step03 - Inbound Conversion'&lt;/P&gt;&lt;P&gt;Set Process Direct Address to match above setting&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_11-1755870611386.png" style="width: 697px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303962iE91B306D8137B895/image-dimensions/697x394/is-moderation-mode/true?v=v2" width="697" height="394" role="button" title="lm_allen_11-1755870611386.png" alt="lm_allen_11-1755870611386.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;This template also contains steps for custom headers and handling service interface operations - again delete steps if not required.&lt;/P&gt;&lt;P&gt;For this simple example I have added the JSON to XML step.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId--159744534"&gt;Receiver Determination - Partner Directory Setup&lt;/H1&gt;&lt;P&gt;&lt;STRONG&gt;Point-to-Point Scenario (not used for this example build since we have 2 receivers)&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;For Point-to-Point scenarios, that is, scenarios with only one receiver and one receiver interface, you can bypass the two flow steps receiver determination and interface determination.&lt;/P&gt;&lt;P&gt;In this case, you don't have to upload XSLT mappings to determine the list of receivers and receiver interfaces, but instead you need to create corresponding string parameters in the Partner Directory.&lt;/P&gt;&lt;P&gt;1.&amp;nbsp; Define a Partner Directory string parameter with ID receiverDetermination as follows:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_12-1755870611386.png" style="width: 653px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303964iF774002D85846946/image-dimensions/653x173/is-moderation-mode/true?v=v2" width="653" height="173" role="button" title="lm_allen_12-1755870611386.png" alt="lm_allen_12-1755870611386.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;2.&amp;nbsp; define a Partner Directory string parameter with the ID as combination of the constant identifier‚ÄØinterfaceDetermination and the receiver system name, separated with an underscore "_". As value, enter the ProcessDirect endpoint of the scenario-specific integration flow for outbound processing&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_13-1755870611386.png" style="width: 685px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303967i12BD6D7B214E840F/image-dimensions/685x170/is-moderation-mode/true?v=v2" width="685" height="170" role="button" title="lm_allen_13-1755870611386.png" alt="lm_allen_13-1755870611386.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Receiver And Interface Determination&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;For scenarios with more multiple receivers and or multiple receiver interfaces an xslt file can be created listing these.&amp;nbsp; This is saved to the Partner Directory and then used by the Generic integration flow.&lt;/P&gt;&lt;P&gt;ReceiverNotDetermined can be set to Default,Ignore or Error&lt;/P&gt;&lt;P&gt;These option replicate those found on the SAP PO IFlow&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_14-1755870611387.png" style="width: 377px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303965iA3C2EADC9C6719CA/image-dimensions/377x148/is-moderation-mode/true?v=v2" width="377" height="148" role="button" title="lm_allen_14-1755870611387.png" alt="lm_allen_14-1755870611387.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_15-1755870611387.png" style="width: 661px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303969i8A9EEB2FA0B4C8FB/image-dimensions/661x488/is-moderation-mode/true?v=v2" width="661" height="488" role="button" title="lm_allen_15-1755870611387.png" alt="lm_allen_15-1755870611387.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Save as a xsl file&lt;/P&gt;&lt;P&gt;Load as a Binary Parameter in Partner Directory - Note the user interface encodes the file as base64 as it loads (if using the API need to manually convert to base64 before loading)&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_16-1755870611388.png" style="width: 582px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303968iACC4E04262EC8409/image-dimensions/582x293/is-moderation-mode/true?v=v2" width="582" height="293" role="button" title="lm_allen_16-1755870611388.png" alt="lm_allen_16-1755870611388.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-413482044"&gt;Flow Step 7 - Outbound Message&lt;/H1&gt;&lt;P&gt;For the final outbound flow you can either create your own iflow or copy one of the 'Step07' ones from the 'Cloud Integration Pipeline - Templates' package as a starting point.&amp;nbsp; To keep things simple I created my own - one for each receiver.&amp;nbsp; It is also at this point you could add any message transformation logic if required ie: mappings.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_17-1755870611388.png" style="width: 911px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303970i46A9332D0DA8CF9E/image-dimensions/911x573/is-moderation-mode/true?v=v2" width="911" height="573" role="button" title="lm_allen_17-1755870611388.png" alt="lm_allen_17-1755870611388.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_18-1755870611389.png" style="width: 928px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303971i42D25F8ACA1B278D/image-dimensions/928x516/is-moderation-mode/true?v=v2" width="928" height="516" role="button" title="lm_allen_18-1755870611389.png" alt="lm_allen_18-1755870611389.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-216968539"&gt;Testing&lt;/H1&gt;&lt;P&gt;Send Message from postman&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_19-1755870611389.png" style="width: 712px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303972iE8A6A3B5CD39F998/image-dimensions/712x216/is-moderation-mode/true?v=v2" width="712" height="216" role="button" title="lm_allen_19-1755870611389.png" alt="lm_allen_19-1755870611389.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;2 emails receiver with different subjects to differentiate the receivers&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_20-1755870611389.png" style="width: 608px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303973i8BD5589F33301271/image-dimensions/608x146/is-moderation-mode/true?v=v2" width="608" height="146" role="button" title="lm_allen_20-1755870611389.png" alt="lm_allen_20-1755870611389.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_21-1755870611389.png" style="width: 645px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303974i69B3323B8D5C95D3/image-dimensions/645x160/is-moderation-mode/true?v=v2" width="645" height="160" role="button" title="lm_allen_21-1755870611389.png" alt="lm_allen_21-1755870611389.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-20455034"&gt;Notes On Retries&lt;/H1&gt;&lt;P&gt;By default the send from the respective JMS queues will retry 5 times&lt;/P&gt;&lt;P&gt;After the max retries the message will go to the DLQ&lt;/P&gt;&lt;P&gt;Once cause of fail is corrected message can be moved from the DLQ back to the normal queue to process again&lt;/P&gt;&lt;P&gt;Can specify scenario specific retries in partner directory if required&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="lm_allen_22-1755870611390.png" style="width: 673px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303975i6705B661DA55D638/image-dimensions/673x271/is-moderation-mode/true?v=v2" width="673" height="271" role="button" title="lm_allen_22-1755870611390.png" alt="lm_allen_22-1755870611390.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/pipeline-integrated-messaging-runtime-asyc-example/ba-p/14187818"/>
    <published>2025-08-22T16:08:20.488000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/unravelling-the-technical-user-propagation-scenarios-in-sap-integration/ba-p/14182016</id>
    <title>Unravelling the ‚Äòtechnical user‚Äô propagation scenarios in SAP Integration Suite</title>
    <updated>2025-08-25T05:55:48.613000+02:00</updated>
    <author>
      <name>vinayak_adkoli</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/216068</uri>
    </author>
    <content>&lt;H2 id="toc-hId-1737803085"&gt;1. Introduction:&lt;/H2&gt;&lt;P&gt;When it comes to securely connecting to SAP on-premise systems, &lt;STRONG&gt;API Management&lt;/STRONG&gt; and &lt;STRONG&gt;Cloud Integration&lt;/STRONG&gt; stand as two key pillars of the &lt;STRONG&gt;SAP Integration Suite&lt;/STRONG&gt;. While API Management is often aligned with &lt;STRONG&gt;user-centric&lt;/STRONG&gt; flows ‚Äî where the focus is on authenticating and authorizing the end user ‚Äî Cloud Integration has traditionally dealt with &lt;STRONG&gt;system-to-system&lt;/STRONG&gt; communication, which involves backend calls without direct end-user context.&lt;/P&gt;&lt;P&gt;Having said that, across both these capabilities, the ability to connect to backend systems using a &lt;STRONG&gt;fixed technical credential&lt;/STRONG&gt; is a widely desired&amp;nbsp;&lt;STRONG&gt;&lt;FONT color="#008000"&gt;*&lt;/FONT&gt;&lt;/STRONG&gt; approach. However, in many SAP Cloud Integration (CPI) scenarios, the term &lt;STRONG&gt;technical user&lt;/STRONG&gt; is often equated with ‚ÄúBasic Authentication‚Äù ‚Äî a method increasingly viewed by organizations as less secure. A stronger and more trusted approach for connecting applications and services running in SAP BTP to SAP on-premise systems is &lt;STRONG&gt;principal propagation&lt;/STRONG&gt;, where the SAP Cloud Connector generates a short-lived X.509 certificate containing a &lt;STRONG&gt;Common Name (CN)&lt;/STRONG&gt; dynamically retrieved from the calling system.&lt;/P&gt;&lt;TABLE border="1" width="100%"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="100%"&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":light_bulb:"&gt;üí°&lt;/span&gt;&amp;nbsp;&lt;FONT color="#008000"&gt;&lt;STRONG&gt;*&lt;/STRONG&gt; &lt;/FONT&gt;&lt;EM&gt;CPI customers on the BTP &lt;STRONG&gt;Neo&lt;/STRONG&gt; environment are familiar with a feature called &lt;STRONG&gt;certificate-to-user mapping&lt;/STRONG&gt;, which allows an incoming client certificate to be directly mapped to a backend user identity. This made technical user propagation both straightforward and widely adopted.&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;In &lt;STRONG&gt;Cloud Foundry&lt;/STRONG&gt;, the incoming certificate is typically mapped to an access token associated with the&amp;nbsp;&lt;STRONG&gt;service key credential&amp;nbsp;&lt;/STRONG&gt;rather than being directly mapped to a backend user's security context, as in Neo. As a result, customers often struggle to replicate their established Neo patterns, especially for &lt;STRONG&gt;fixed technical identities&lt;/STRONG&gt; ‚Äî this is the exact problem that has now been solved!&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;As a side note, if you‚Äôd like to dive deeper into certificate-to-user mapping and certificate-based authentication in SAP Cloud Integration, you can refer to Mandy Krimmel‚Äôs insightful blog posts covering both &lt;A href="https://community.sap.com/t5/integration-blog-posts/cloud-integration-how-to-setup-secure-http-inbound-connection-with-client/bc-p/13336246" target="_self"&gt;Neo&lt;/A&gt; and &lt;A href="https://community.sap.com/t5/integration-blog-posts/cloud-integration-on-cf-how-to-setup-secure-http-inbound-connection-with/ba-p/13393777" target="_self"&gt;Cloud Foundry&lt;/A&gt;.&lt;/EM&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;Here's where things start to get interesting. With &lt;STRONG&gt;Cloud Connector version 2.15&lt;/STRONG&gt;, SAP introduced the ability to perform &lt;STRONG&gt;technical user propagation&lt;/STRONG&gt; using the &lt;U&gt;SAP-Connectivity-Technical-Authentication&lt;/U&gt; HTTP header. This allows a cloud application to send a signed JWT representing the fixed technical identity, which the Cloud Connector uses to generate a short-lived X.509 certificate ‚Äî all without relying on static passwords. You can read more about this feature in the official SAP Help Portal &lt;A href="https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/authentication-to-on-premise-system" target="_blank" rel="noopener noreferrer"&gt;documentation&lt;/A&gt; and the SAP Community &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/technical-user-propagation-sap-btp-to-s4-on-premise/bc-p/13555634" target="_blank"&gt;blog post&lt;/A&gt;.&lt;/P&gt;&lt;P&gt;Traditionally, principal propagation has been used to propagate an &lt;STRONG&gt;end-user identity&lt;/STRONG&gt;, but here‚Äôs the beauty: it can just as easily propagate a &lt;STRONG&gt;fixed (technical) identity&lt;/STRONG&gt; as a short-lived X.509 certificate. This means you can retain all the advantages of principal propagation ‚Äî dynamic credentials, reduced exposure, and assured identity mapping ‚Äî without falling back to basic authentication.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="a35bsx.jpg" style="width: 500px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/301589i40213A0D9133A351/image-size/large?v=v2&amp;amp;px=999" role="button" title="a35bsx.jpg" alt="a35bsx.jpg" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;This blog post, co-authored by &lt;U&gt;Vinayak Adkoli&lt;/U&gt; and &lt;U&gt;Sunny Kapoor,&lt;/U&gt; focuses on &lt;STRONG&gt;technical user propagation&lt;/STRONG&gt; within &lt;STRONG&gt;Cloud Integration&lt;/STRONG&gt;, exploring how such credentials can be securely propagated across three common Receiver Adapters ‚Äî &lt;STRONG&gt;SOAP&lt;/STRONG&gt;, &lt;STRONG&gt;HTTP&lt;/STRONG&gt;, and &lt;STRONG&gt;OData V2&lt;/STRONG&gt;. In a follow-up post, we will examine similar patterns from the perspective of &lt;STRONG&gt;API Management‚Äôs OnPremise connectivity&lt;/STRONG&gt; flows.&lt;/P&gt;&lt;H2 id="toc-hId-1541289580"&gt;2. Cloud Connector and backend prerequisites to support Technical user propagation&lt;/H2&gt;&lt;P&gt;Before you can configure an IFlow in &lt;STRONG&gt;SAP Integration Suite&lt;/STRONG&gt; to propagate a fixed technical user via a short-lived X.509 certificate, both the &lt;STRONG&gt;SAP Cloud Connector&lt;/STRONG&gt; and the &lt;STRONG&gt;backend system&lt;/STRONG&gt; must be prepared to handle this scenario.&lt;/P&gt;&lt;P&gt;This section outlines the key steps and underlying rationale, but it is not a complete how-to guide. For detailed, step-by-step instructions, please refer to the resources listed below.&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Product &lt;A href="https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/configuring-principal-propagation" target="_self" rel="noopener noreferrer"&gt;documentation&lt;/A&gt; - always up-to-date with the latest enhancements.&lt;/LI&gt;&lt;LI&gt;Michael's &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/how-to-guide-principal-propagation-in-an-https-scenario/ba-p/13325048" target="_self"&gt;blog&lt;/A&gt;. A little old, but still relevant.&lt;/LI&gt;&lt;LI&gt;Martin Raepple's &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-members/principal-propagation-in-a-multi-cloud-solution-between-microsoft-azure-and/ba-p/13491407" target="_self"&gt;blog&lt;/A&gt;&amp;nbsp;is an excellent resource for a step-by-step procedure.&lt;/LI&gt;&lt;/UL&gt;&lt;TABLE border="1" width="100%"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="100%"&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":loudspeaker:"&gt;üì¢&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;EM&gt;(tip) Because the screenshots are embedded within a table, they may appear small even when opened in a new window. To view them in a larger size, simply change the image URL from '.../medium' to '.../large'&lt;/EM&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;TABLE border="1" width="100%"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="10.239885427855357%"&gt;&lt;H4 id="toc-hId-1602941513"&gt;Step No.&lt;/H4&gt;&lt;/TD&gt;&lt;TD width="49.01539563193699%"&gt;&lt;H4 id="toc-hId-1406428008"&gt;Description&lt;/H4&gt;&lt;/TD&gt;&lt;TD width="40.74471894020766%"&gt;&lt;H4 id="toc-hId-1209914503"&gt;Screenshot&lt;/H4&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.239885427855357%"&gt;1.&lt;/TD&gt;&lt;TD width="49.01539563193699%"&gt;&lt;P&gt;Let's begin the setup by reviewing the SAP Cloud Connector Configuration page.&lt;/P&gt;&lt;P&gt;In the Configuration -&amp;gt; On-Premise section of the Cloud Connector, make sure you have a &lt;STRONG&gt;System Certificate&lt;/STRONG&gt; populated with an intermediate CA certificate.&lt;/P&gt;&lt;/TD&gt;&lt;TD width="40.74471894020766%"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-15 at 4.28.06‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/301592i5848F4C1D65EE603/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-15 at 4.28.06‚ÄØPM.png" alt="Screenshot 2025-08-15 at 4.28.06‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.239885427855357%"&gt;2.&lt;/TD&gt;&lt;TD width="49.01539563193699%"&gt;&lt;P&gt;Likewise,&lt;SPAN&gt;&amp;nbsp;the same certificate is also included in the&amp;nbsp;&lt;STRONG&gt;CA Certificate&lt;/STRONG&gt;&amp;nbsp;section&lt;/SPAN&gt;.&lt;/P&gt;&lt;P&gt;IMP: Note that within the &lt;STRONG&gt;Principal Propagation&lt;/STRONG&gt; section, the subject pattern has been specified as &lt;U&gt;CN={$name}&lt;/U&gt;.&amp;nbsp;&lt;/P&gt;&lt;P&gt;It is also possible to create multiple rules that resolve based on a condition. For example, if the system sees an 'email' claim in the token, it will use the email attribute to construct the subject pattern.&lt;/P&gt;&lt;P&gt;You can read more about the order of resolution of subject patterns &lt;A href="https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/configure-subject-patterns-for-principal-propagation" target="_self" rel="noopener noreferrer"&gt;here&lt;/A&gt;.&lt;/P&gt;&lt;/TD&gt;&lt;TD width="40.74471894020766%"&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-15 at 4.32.59‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/301593iFA96E392BC38A36D/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-15 at 4.32.59‚ÄØPM.png" alt="Screenshot 2025-08-15 at 4.32.59‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-22 at 9.03.12‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304318i1DE6CECDF444A8BB/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-22 at 9.03.12‚ÄØPM.png" alt="Screenshot 2025-08-22 at 9.03.12‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;3.&lt;/TD&gt;&lt;TD&gt;&lt;P&gt;In the &lt;STRONG&gt;Access Control&lt;/STRONG&gt; section of the Connector settings, be sure to set the Protocol to ‚ÄòHTTPS‚Äô and the Principal Type to ‚ÄòX.509‚Äô.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":light_bulb:"&gt;üí°&lt;/span&gt;Note that I've unchecked the option to use '&lt;U&gt;System Certificate for Logon&lt;/U&gt;'. This is a nuance that we will call out separately in section 6&lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-15 at 4.34.00‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302093iCE58CD9F8D8F9088/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-15 at 4.34.00‚ÄØPM.png" alt="Screenshot 2025-08-15 at 4.34.00‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;4.&lt;/TD&gt;&lt;TD&gt;Let's look at our &lt;STRONG&gt;backend&lt;/STRONG&gt; configurations now. Txn &lt;U&gt;STRUST&lt;/U&gt; leads us to the Trust Manager. I have the CA certificate and the Root Certificate that signed this CA certificate in the Trust Store&lt;/TD&gt;&lt;TD&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-15 at 4.42.54‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/301594iBBEA818C78CE1787/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-15 at 4.42.54‚ÄØPM.png" alt="Screenshot 2025-08-15 at 4.42.54‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;5.&lt;/TD&gt;&lt;TD&gt;Note that there are 3 key configuration parameters defined in Txn &lt;U&gt;RZ10&lt;/U&gt;. The ICM node will need to be restarted after this.&lt;/TD&gt;&lt;TD&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-15 at 4.36.26‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/301596i36C2A586C5682CFD/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-15 at 4.36.26‚ÄØPM.png" alt="Screenshot 2025-08-15 at 4.36.26‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;6.&lt;/TD&gt;&lt;TD&gt;&lt;P&gt;This is one of the most important steps. Transaction &lt;U&gt;&lt;EM&gt;CERTRULE&lt;/EM&gt;&lt;/U&gt; opens the rule-based certificate mapping screen. If you've previously set up principal propagation, you likely already have a rule using the '&lt;STRONG&gt;CN=*&lt;/STRONG&gt;' filter, where the wildcard typically resolves to an email address or user name. This approach works well for user-based principal propagation. However, since our objective here is to propagate a technical user, we'll instead make use of the Explicit Mapping tab.&amp;nbsp;We‚Äôll go into more detail on this in section 5.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":light_bulb:"&gt;üí°&lt;/span&gt;You will notice that I‚Äôve taken a slightly different approach here compared to Munish Suri‚Äôs helpful &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/technical-user-propagation-sap-btp-to-s4-on-premise/ba-p/13555630" target="_self"&gt;blog&lt;/A&gt;, where he creates a &lt;STRONG&gt;service user&lt;/STRONG&gt; in transaction SU01. The reason that step won‚Äôt work in our case is that the ‚Äòalias‚Äô field is limited to 40 characters, while the client ID from BTP XSUAA exceeds that limit.&lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-15 at 4.37.06‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/301597iB5507D995059914E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-15 at 4.37.06‚ÄØPM.png" alt="Screenshot 2025-08-15 at 4.37.06‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 11.21.03‚ÄØAM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302649i758FD4E639DB6E74/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-19 at 11.21.03‚ÄØAM.png" alt="Screenshot 2025-08-19 at 11.21.03‚ÄØAM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;H2 id="toc-hId-755235560"&gt;&amp;nbsp;&lt;/H2&gt;&lt;H2 id="toc-hId-558722055"&gt;3. SAP Integration Suite / Cloud Integration settings to support Technical user propagation&lt;/H2&gt;&lt;P&gt;The table below highlights the key settings we‚Äôll be using on the SAP Integration Suite side.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;TABLE border="1" width="100%"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="10.13247404224848%"&gt;&lt;H4 id="toc-hId-620373988"&gt;Step No.&lt;/H4&gt;&lt;/TD&gt;&lt;TD width="48.69316147511637%"&gt;&lt;H4 id="toc-hId-423860483"&gt;Description&lt;/H4&gt;&lt;/TD&gt;&lt;TD width="41.17436448263516%"&gt;&lt;H4 id="toc-hId-227346978"&gt;Screenshot&lt;/H4&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.13247404224848%"&gt;1.&lt;/TD&gt;&lt;TD width="48.69316147511637%"&gt;&lt;P&gt;&lt;SPAN&gt;Since we‚Äôve touched on the ‚Äò&lt;STRONG&gt;&lt;EM&gt;certificate-to-user&lt;/EM&gt;&lt;/STRONG&gt;‚Äô mapping functionality in Neo, let‚Äôs align our setup in the Integration Suite tenant with that behavior.&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;Make sure you have generated a service key for the 'Integration-Flow' service plan of the Process Integration Runtime service instance. Select either the 'Certificate' or 'External Certificate' option from the drop-down while doing so.&amp;nbsp;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="41.17436448263516%"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-18 at 1.54.27‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302086iF83BBA4ACE81A98B/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-18 at 1.54.27‚ÄØPM.png" alt="Screenshot 2025-08-18 at 1.54.27‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.13247404224848%"&gt;2.&lt;/TD&gt;&lt;TD width="48.69316147511637%"&gt;&lt;P&gt;If you select ‚Äò&lt;U&gt;Certificate&lt;/U&gt;‚Äô, the BTP platform will generate the certificate and key in PEM format, which will be displayed on the next screen for you to copy.&lt;/P&gt;&lt;P&gt;Make a note of the client_id to be used at a later step.&amp;nbsp;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="41.17436448263516%"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-18 at 1.57.43‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302087iD2C311DC6397678D/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-18 at 1.57.43‚ÄØPM.png" alt="Screenshot 2025-08-18 at 1.57.43‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.13247404224848%"&gt;3.&lt;/TD&gt;&lt;TD width="48.69316147511637%"&gt;Pro Tip: Since the certificate attribute contains a newline character (\n), you will need to remove it before attempting to generate a PFX file or any other format that can encode the key and certificate together, using tools like OpenSSL. Here is a quick video demonstration that can eliminate all newline characters in one go from Sublime Text. (Do a 'Find All' of \n and hit 'enter' to remove them)&lt;/TD&gt;&lt;TD width="41.17436448263516%"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="sublimetext-certificate-small2.gif" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302722i7B28A680A6A06AB2/image-size/medium?v=v2&amp;amp;px=400" role="button" title="sublimetext-certificate-small2.gif" alt="sublimetext-certificate-small2.gif" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.13247404224848%"&gt;4.&lt;/TD&gt;&lt;TD width="48.69316147511637%"&gt;&lt;P&gt;In addition to a service key corresponding to 'Certificate', make sure you have one with '&lt;U&gt;client credentials&lt;/U&gt;' as well. This will be used to demonstrate the scenario where just the 'client credential' will be propagated as a 'technical principal. Impressive, huh&amp;nbsp;&lt;span class="lia-unicode-emoji" title=":smiling_face_with_sunglasses:"&gt;üòé&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Make a note of the client_id to be used at a later step.&amp;nbsp;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="41.17436448263516%"&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-18 at 2.51.34‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302090i2CC00B0E3CCF0CA7/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-18 at 2.51.34‚ÄØPM.png" alt="Screenshot 2025-08-18 at 2.51.34‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;H2 id="toc-hId-119922392"&gt;&lt;STRONG&gt;4. Setting up a simple IFlow for Technical user propagation&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;To illustrate how &lt;STRONG&gt;technical user propagation&lt;/STRONG&gt; works in practice, we‚Äôll walk through the setup of three simple integration flows (iFlows) in SAP Cloud Integration ‚Äî each using a different &lt;STRONG&gt;Receiver Adapter&lt;/STRONG&gt;: &lt;STRONG&gt;SOAP&lt;/STRONG&gt;, &lt;STRONG&gt;HTTP&lt;/STRONG&gt;, and &lt;STRONG&gt;OData V2&lt;/STRONG&gt;. These examples are deliberately kept minimal so you can focus on the &lt;STRONG&gt;adapter configuration&lt;/STRONG&gt; and &lt;STRONG&gt;principal propagation&lt;/STRONG&gt; setup, without getting lost in unrelated processing logic.&amp;nbsp;&lt;/P&gt;&lt;div class="lia-spoiler-container"&gt;&lt;a class="lia-spoiler-link" href="#" rel="nofollow noopener noreferrer"&gt;Spoiler&lt;/a&gt;&lt;noscript&gt; (Highlight to read)&lt;/noscript&gt;&lt;div class="lia-spoiler-border"&gt;&lt;div class="lia-spoiler-content"&gt;Technical user propagation for HTTP and OData V2 Adapters works out of the box.&amp;nbsp; A small adjustment is needed only for the SOAP Adapter.&lt;/div&gt;&lt;noscript&gt;&lt;div class="lia-spoiler-noscript-container"&gt;&lt;div class="lia-spoiler-noscript-content"&gt;Technical user propagation for HTTP and OData V2 Adapters works out of the box.&amp;nbsp; A small adjustment is needed only for the SOAP Adapter.&lt;/div&gt;&lt;/div&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/div&gt;&lt;P&gt;As mentioned before, each scenario we present can be executed in either of the two ways as listed below to inject the fixed technical identity :&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;With a client certificate presented by the sending system (i.e. mTLS)&lt;/LI&gt;&lt;LI&gt;Following 'client credential' grant type, i.e., client_id and client_secret&lt;/LI&gt;&lt;/UL&gt;&lt;H4 id="toc-hId--663397127"&gt;4.1.&amp;nbsp;OData V2 Receiver Adapter ‚Äì Technical user propagation setup&lt;/H4&gt;&lt;P&gt;Let‚Äôs start with a common integration scenario: consuming an &lt;STRONG&gt;OData V2&lt;/STRONG&gt; service from an on-premise SAP backend system. In this setup, technical user propagation enables Cloud Integration to connect to the backend using a short-lived X.509 certificate that represents a fixed technical identity.&lt;/P&gt;&lt;P&gt;With the 2506 &lt;A href="https://help.sap.com/whats-new/5793247a5d5741beb0decc5b7dee1160" target="_self" rel="noopener noreferrer"&gt;update&lt;/A&gt;, SAP Integration Suite now supports technical user propagation &lt;STRONG&gt;out of the box&lt;/STRONG&gt;. Just choose ‚Äò&lt;U&gt;principal propagation&lt;/U&gt;‚Äô in the Authentication drop-down, and the system will automatically pass along either the end-user or technical-user context to the cloud connector and eventually to the backend.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="2506 product increment" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302707i02303C76CD243C4D/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.40.43‚ÄØPM.png" alt="2506 product increment" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;2506 product increment&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Below is an illustration of a simple IFlow that leverages the OData V2 receiver adapter&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="a simplified example of an OData V2 Receiver Adapter" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302709iC1CB1E0F674A96FE/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 12.59.39‚ÄØPM.png" alt="a simplified example of an OData V2 Receiver Adapter" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;a simplified example of an OData V2 Receiver Adapter&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Let's review the 'Connection' settings on the Adapter's property sheet. You will notice that I've set the 'Authentication' to &lt;U&gt;&lt;EM&gt;Principal Propagation&lt;/EM&gt;&lt;/U&gt;.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="property sheet of the OData Receiver" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/302708i2A6D349E87AA4B44/image-size/large?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.39.34‚ÄØPM.png" alt="property sheet of the OData Receiver" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;property sheet of the OData Receiver&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;So far, everything looks good. The next step is to map the technical client identifier to a backend user‚Äîa process we‚Äôll walk through in detail in &lt;STRONG&gt;section 5&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;TABLE border="1" width="100%"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="100%"&gt;&lt;EM&gt;&lt;span class="lia-unicode-emoji" title=":warning:"&gt;‚ö†Ô∏è&lt;/span&gt;Make sure you refer to that section before continuing further.&amp;nbsp;&lt;/EM&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;Invoking a curl command by injecting a client certificate (note that the private key and certificate were available during step 3.2):&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;curl --cert mycertificate.pem --key pvtkey.key  --header 'target: odata' https://&amp;lt;cpi-instance&amp;gt;.cfapps.&amp;lt;landscape&amp;gt;.hana.ondemand.com/http/&amp;lt;pathsuffix&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;If you‚Äôd rather use a tool like Postman or Bruno instead of curl, ensure you have the client certificate in PFX format so it can be attached to your requests.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Client Certificate available in Postman" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304422iC3DBCB4B90FDCB07/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-24 at 5.38.59‚ÄØPM.png" alt="Client Certificate available in Postman" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;Client Certificate available in Postman&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Client Certificate available in Bruno" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304423iE3D08D3A889895C4/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-24 at 5.40.41‚ÄØPM.png" alt="Client Certificate available in Bruno" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;Client Certificate available in Bruno&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;A successful execution should retrieve the needed results from the backend.&lt;/P&gt;&lt;P&gt;Let‚Äôs review key log entries from both SAP Cloud Connector and the backend system to illustrate how technical user propagation was performed.&lt;/P&gt;&lt;P&gt;In the screenshot below from the ljs_trace file in SAP Cloud Connector, the first highlighted entry shows the claims extracted from the decoded JWT received from Cloud Integration. The second entry confirms that the principal was resolved to type &lt;EM&gt;Technical&lt;/EM&gt;, as outlined in step 5.1.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.19.30‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304320iF1E45537A3200D9A/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.19.30‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.19.30‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Next, you can see that an X.509 certificate was generated with the Common Name (CN) set to the technical identifier.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.16.19‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304321i508AEB517D2A423A/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.16.19‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.16.19‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;In the ‚ÄòMonitor‚Äô perspective, you can see the technical identifier listed under the ‚ÄòUser‚Äô section, confirming that it was successfully propagated to the backend.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-24 at 11.22.30‚ÄØAM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304418i59C19B4980D49352/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-24 at 11.22.30‚ÄØAM.png" alt="Screenshot 2025-08-24 at 11.22.30‚ÄØAM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Here is a log entry from the ICM node in the backend confirming that the certificate subject for the said technical identifier was received.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.25.15‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304322i83D7F14962C8E3AE/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.25.15‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.25.15‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Finally, based on the rule set in the CERTRULE, you can verify that the subject. from the certificate resolves to the backend user (uname) called 'SUITEUSER'.&amp;nbsp; This concludes one end-to-end cycle.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.29.31‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304323iD9A57063D18C166F/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.29.31‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.29.31‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H4 id="toc-hId--859910632"&gt;4.2.&amp;nbsp;HTTP Receiver Adapter ‚Äì Technical user propagation setup&lt;/H4&gt;&lt;P&gt;After exploring the OData V2 adapter, let‚Äôs look at the &lt;STRONG&gt;HTTP Receiver Adapter &lt;/STRONG&gt;scenario, which is used when connecting to custom REST APIs / generically available HTTP endpoints in the backend system.&lt;/P&gt;&lt;P&gt;The good news here is that this scenario also works in a manner very similar to the one described above. Here is a snippet of the &lt;A href="https://help.sap.com/docs/cloud-integration/sap-cloud-integration/http-receiver-adapter" target="_self" rel="noopener noreferrer"&gt;documentation&lt;/A&gt; page that describes the support for technical user propagation.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Screenshot 2025-08-23 at 8.52.56‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304326i36E7124144E4D302/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-23 at 8.52.56‚ÄØPM.png" alt="Screenshot 2025-08-23 at 8.52.56‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Let's extend our sample IFlow with a sequence of steps that leverages this functionality.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.01.18‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304327iF9ADF05694461FFB/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.01.18‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.01.18‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;I've marked the HTTP Receiver Adapter attached to a new 'Request-Reply' step. The adapter‚Äôs property sheet closely resembles that of the OData V2 Adapter, with the authentication type configured as &lt;EM&gt;Principal Propagation.&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-23 at 6.12.57‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304328i42F3E99C81A4FDF7/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-23 at 6.12.57‚ÄØPM.png" alt="Screenshot 2025-08-23 at 6.12.57‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Let‚Äôs trigger the IFlow using a curl command. Unlike the OData V2 Adapter example, where we used a certificate, this time we‚Äôll authenticate with the client_credentials grant type by providing a Bearer token.&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;curl --header 'Authorization: Bearer eyJhbGciO&amp;lt;truncated&amp;gt;' https://&amp;lt;cpi-instance&amp;gt;.cfapps.&amp;lt;landscape&amp;gt;.hana.ondemand.com/http/&amp;lt;pathsuffix&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;You should see a successful execution, and the Cloud Connector and backend logs should align with the explanation in the OData V2 Adapter scenario.&amp;nbsp;&lt;/P&gt;&lt;H4 id="toc-hId--1056424137"&gt;4.3. SOAP Receiver Adapter ‚Äì Technical user propagation setup&lt;/H4&gt;&lt;P&gt;Next, let‚Äôs set up the same scenario for the SOAP Receiver Adapter. Unlike the HTTP and OData V2 adapters, which worked almost seamlessly by simply enabling ‚Äò&lt;EM&gt;principal propagation&lt;/EM&gt;,‚Äô the SOAP approach requires a bit more configuration effort.&amp;nbsp; (Note that this may change in one of our future releases.)&lt;/P&gt;&lt;P&gt;Here is my updated sample IFlow with a local integration process step added to handle the SOAP Adapter as well.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.09.28‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304411i88201994F95EE1CC/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-19 at 1.09.28‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.09.28‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;The first step in my Local Integration Process is a Content Modifier that creates the 'SAP-Connectivity-Technical-Authentication' header and assigns it the value of the incoming 'Authorization' header.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-24 at 12.52.31‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304419i9CA9586B4C92F2C2/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-24 at 12.52.31‚ÄØPM.png" alt="Screenshot 2025-08-24 at 12.52.31‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Here is a simple illustration of my SOAP Adapter that invokes a SOAP Service from my S/4HANA system. Carefully note that I have set the 'Authentication' to &lt;STRONG&gt;&lt;EM&gt;none&lt;/EM&gt;&lt;/STRONG&gt; (instead of &lt;EM&gt;principal propagation&lt;/EM&gt;).&amp;nbsp;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-24 at 12.53.06‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304420iD9AF3171E61BF7A3/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-24 at 12.53.06‚ÄØPM.png" alt="Screenshot 2025-08-24 at 12.53.06‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Also, do not forget to include the 'Authorization' as an allowed header within the Runtime Configuration section block, as we are reading this attribute. You may need to tailor the Namespace Mapping based on your backend's WSDL settings.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-24 at 12.53.25‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304421iB1C1502108C1FB69/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-24 at 12.53.25‚ÄØPM.png" alt="Screenshot 2025-08-24 at 12.53.25‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Let's go ahead and issue a POST call to our Integration Flow to invoke the&amp;nbsp;'CreditManagementAccountByIDQuery' Operation from the SOAP Service.&lt;/P&gt;&lt;P&gt;Here is the (request.xml) XML payload I've used:&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;
&amp;lt;glob:CreditManagementAccountByIDQuery xmlns:glob="http://sap.com/xi/SAPGlobal/Global"&amp;gt;
  &amp;lt;Selection&amp;gt;
    &amp;lt;DebtorPartyInternalID&amp;gt;MDG_CU01&amp;lt;/DebtorPartyInternalID&amp;gt;
    &amp;lt;CreditsegmentInternalID&amp;gt;0002&amp;lt;/CreditsegmentInternalID&amp;gt;
  &amp;lt;/Selection&amp;gt;
  &amp;lt;LanguageCode&amp;gt;en&amp;lt;/LanguageCode&amp;gt;
&amp;lt;/glob:CreditManagementAccountByIDQuery&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;Here are my CURL commands:&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;echo "eyJhbGciOiJSUzI1NiIsImprd...full_token_here...JJQog" &amp;gt; token.txt
TOKEN=$(cat token.txt)
curl 'https://&amp;lt;cpi-instance&amp;gt;.cfapps.&amp;lt;landscape&amp;gt;.hana.ondemand.com/http/&amp;lt;pathsuffix&amp;gt;' \
  --header 'target: soap' \
  --header 'Content-Type: text/xml; charset=utf-8' \
  --header "Authorization: Bearer $TOKEN" \
  --data .xml&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;This concludes our testing of invoking the SOAP Adapter.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":light_bulb:"&gt;üí°&lt;/span&gt;&lt;STRONG&gt;A Note on Transparency in Technical User Propagation&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;In the three scenarios we laid out above (OData V2, SOAP, and HTTP), the &lt;STRONG&gt;client or sender system&lt;/STRONG&gt; was responsible for presenting the &lt;EM&gt;technical client ID&lt;/EM&gt; that ultimately got propagated downstream. While this approach works well, there are situations where it may be desirable to keep this entire process &lt;STRONG&gt;transparent to the end user&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;In such cases, the integration developer can insert a &lt;STRONG&gt;Request Reply step&lt;/STRONG&gt; in the iFlow to first call the &lt;STRONG&gt;OAuth token endpoint&lt;/STRONG&gt; using a different set of credentials ‚Äî not necessarily exposed or known to the consuming client. The resulting access token can then be injected into the SAP-Connectivity-Technical-Authentication header, ensuring that the technical user propagation still takes place, but without burdening the client with the responsibility of handling technical credentials directly. Here is a sample Groovy script snippet that can be placed after retrieving the access token&lt;/P&gt;&lt;pre class="lia-code-sample language-java"&gt;&lt;code&gt;import com.sap.gateway.ip.core.customdev.util.Message;
import groovy.json.JsonSlurper;

def Message processData(Message message) {
    // Get the response body as a string
    def body = message.getBody(String);
    
    // Parse the JSON response
    def jsonSlurper = new JsonSlurper();
    def jsonResponse = jsonSlurper.parseText(body);
    
    // Extract the access token (assuming the token is in a field called "access_token")
    def accessToken = jsonResponse.access_token;
    def bearerToken = "Bearer "+ accessToken;
    
    // Set the access token as a message header for technical authentication
    message.setHeader("SAP-Connectivity-Technical-Authentication", bearerToken);
    
    return message;
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;This pattern is particularly useful when you want to &lt;STRONG&gt;decouple client-facing authentication&lt;/STRONG&gt; from &lt;STRONG&gt;backend technical connectivity&lt;/STRONG&gt;, giving you more flexibility and control over how identities are managed across the landscape.&lt;/P&gt;&lt;H2 id="toc-hId--666131628"&gt;5. Mapping technical users to ABAP users in the backend&lt;/H2&gt;&lt;P&gt;Now we will connect the dots between the &lt;U&gt;technical user&lt;/U&gt;&amp;nbsp;and an ABAP &lt;U&gt;backend user&lt;/U&gt;. This ensures that when Cloud Integration presents the technical identity, the backend system knows exactly which user account to log on with.&lt;/P&gt;&lt;P&gt;We‚Äôll achieve this by generating a &lt;STRONG&gt;sample X.509 certificate&lt;/STRONG&gt; that represents the technical client identifier, and then explicitly mapping it to an ABAP user via transaction &lt;STRONG&gt;CERTRULE&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;Here is a step-by-step instruction to perform this mapping.&lt;/P&gt;&lt;TABLE border="1" width="100%"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="10.239885427855354%"&gt;&lt;H4 id="toc-hId--1449451147"&gt;Step No.&lt;/H4&gt;&lt;/TD&gt;&lt;TD width="49.12280701754387%"&gt;&lt;H4 id="toc-hId--1645964652"&gt;Description&lt;/H4&gt;&lt;/TD&gt;&lt;TD width="40.63730755460078%"&gt;&lt;H4 id="toc-hId--1842478157"&gt;Screenshot&lt;/H4&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.239885427855354%"&gt;1.&lt;/TD&gt;&lt;TD width="49.12280701754387%"&gt;&lt;P&gt;Get back to the SAP Cloud Connector -&amp;gt; Configuration -&amp;gt; On Premise setting page and click on the button at the bottom of the screen labelled '&lt;U&gt;Generate a Sample Certificate&lt;/U&gt;'.&amp;nbsp;&lt;/P&gt;&lt;P&gt;We need this dummy short-lived X.509 certificate to perform the mapping step.&amp;nbsp;&lt;/P&gt;&lt;P&gt;Notice that I'm demonstrating setting the ${user_type} to 'Technical' as indicated in point 2.2&lt;/P&gt;&lt;/TD&gt;&lt;TD width="40.63730755460078%"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-23 at 5.08.51‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304319iC931BD17A01531E7/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-23 at 5.08.51‚ÄØPM.png" alt="Screenshot 2025-08-23 at 5.08.51‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.239885427855354%"&gt;2.&lt;/TD&gt;&lt;TD width="49.12280701754387%"&gt;Paste the client_id retrieved from step 3.2 / 3.4 in the CN field and click '&lt;U&gt;Generate&lt;/U&gt;'. This will export a certificate file to your local hard drive.&lt;/TD&gt;&lt;TD width="40.63730755460078%"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.30.55‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303208i2D56072ABE86AFBD/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-19 at 1.30.55‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.30.55‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.239885427855354%"&gt;3.&lt;/TD&gt;&lt;TD width="49.12280701754387%"&gt;&lt;P&gt;In your SAP Logon, head to txn&amp;nbsp; CERTRULE -&amp;gt; &lt;U&gt;Explicit Mappings&lt;/U&gt; and import this short-lived certificate from the previous step.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":light_bulb:"&gt;üí°&lt;/span&gt;Refer back to step 1.6 for an explanation of why this step is needed.&lt;/P&gt;&lt;/TD&gt;&lt;TD width="40.63730755460078%"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.32.51‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303209i03BD2C9FCF4FA090/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-19 at 1.32.51‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.32.51‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.239885427855354%"&gt;4.&lt;/TD&gt;&lt;TD width="49.12280701754387%"&gt;&lt;P&gt;Once the certificate is loaded, click on '&lt;U&gt;Explicit Mapping&lt;/U&gt;' to map the certificate subject to an actual ABAP user / technical alias.&lt;/P&gt;&lt;/TD&gt;&lt;TD width="40.63730755460078%"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.33.15‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303210i05EDB204B19BABD9/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-19 at 1.33.15‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.33.15‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.239885427855354%"&gt;5.&lt;/TD&gt;&lt;TD width="49.12280701754387%"&gt;&lt;P&gt;In my screenshot, I'll be mapping the certificate subject to a 'dialog' user. Instead, you can also choose a technical alias.&lt;/P&gt;&lt;P&gt;Your backend service call will be executed in this user's context.&amp;nbsp;&lt;/P&gt;&lt;P&gt;In ABAP terminology, this corresponds to the &lt;U&gt;sy-uname&lt;/U&gt; attribute.&lt;/P&gt;&lt;/TD&gt;&lt;TD width="40.63730755460078%"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.33.48‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303211iE1797E7CDAB1C2D3/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-19 at 1.33.48‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.33.48‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="10.239885427855354%"&gt;6.&lt;/TD&gt;&lt;TD width="49.12280701754387%"&gt;If you managed to get this far, you should see an entry created in the mapping table&amp;nbsp;&lt;span class="lia-unicode-emoji" title=":grinning_face:"&gt;üòÄ&lt;/span&gt;&lt;/TD&gt;&lt;TD width="40.63730755460078%"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-19 at 1.34.36‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/303212iD09E15A2FEE3EA01/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-19 at 1.34.36‚ÄØPM.png" alt="Screenshot 2025-08-19 at 1.34.36‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;H2 id="toc-hId--1452185648"&gt;6. &lt;span class="lia-unicode-emoji" title=":warning:"&gt;‚ö†Ô∏è&lt;/span&gt; A note of caution on the Cloud Connector "system certificate" default&lt;/H2&gt;&lt;P&gt;Let‚Äôs take a moment to discuss a nuanced behavior we briefly touched on above in &lt;STRONG&gt;point 2.3&lt;/STRONG&gt;. In the Cloud Connector configuration, there is an option called &lt;EM&gt;‚ÄúSystem Certificate for Logon‚Äù&lt;/EM&gt;. When this option is enabled, the Cloud Connector will use its own system certificate to authenticate in cases where &lt;STRONG&gt;no principal information&lt;/STRONG&gt; is available in the request.&lt;/P&gt;&lt;P&gt;While this might sound convenient, it introduces an important caveat: a &lt;STRONG&gt;fixed technical user&lt;/STRONG&gt; will always be propagated ‚Äî even in scenarios where your design expected to rely on true end-user principal propagation. Instead of failing due to missing identity information, the Cloud Connector silently falls back to the system certificate and logs on with the mapped technical user. Another common case that results in ‚Äúno principal information‚Äù is when the &lt;STRONG&gt;authentication&lt;/STRONG&gt; section of the Cloud Integration adapter is set to &lt;EM&gt;None&lt;/EM&gt; ‚Äî either deliberately for testing, or accidentally left that way during configuration.&lt;/P&gt;&lt;P&gt;This can be problematic in security-sensitive landscapes, because it may unintentionally bypass your intended identity propagation setup. It‚Äôs therefore crucial to carefully review whether this setting should be &lt;STRONG&gt;enabled&lt;/STRONG&gt; in your environment and confirm that it aligns with your authentication and compliance requirements.&lt;/P&gt;&lt;H2 id="toc-hId--1648699153"&gt;7. Final thoughts&lt;/H2&gt;&lt;P&gt;As we‚Äôve seen across the &lt;STRONG&gt;OData V2&lt;/STRONG&gt;, &lt;STRONG&gt;SOAP&lt;/STRONG&gt;, and &lt;STRONG&gt;HTTP&lt;/STRONG&gt; receiver adapters, SAP Integration Suite offers a flexible yet secure way to propagate a &lt;EM&gt;technical user&lt;/EM&gt; without falling back on basic authentication. By leveraging the &lt;STRONG&gt;short-lived X.509 certificates&lt;/STRONG&gt; issued through Cloud Connector and carefully configuring the adapter authentication settings, customers can ensure consistent, policy-compliant access to their on-premise systems.&lt;/P&gt;&lt;P&gt;This approach not only modernizes the classic ‚Äúcertificate-to-user mapping‚Äù patterns familiar from the Neo environment but also aligns with Cloud Foundry‚Äôs service key‚Äìbased model, giving you the best of both worlds: the security of principal propagation and the practicality of fixed user connectivity where required. With these patterns in hand, you can design integrations that are both &lt;STRONG&gt;secure&lt;/STRONG&gt; and &lt;STRONG&gt;operationally simple&lt;/STRONG&gt;, while avoiding common pitfalls such as unintended fallbacks or misconfigured authentication.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;span class="lia-unicode-emoji" title=":pushpin:"&gt;üìå&lt;/span&gt;In the next installment of this series, we‚Äôll extend the same concept to &lt;STRONG&gt;API Management&lt;/STRONG&gt;, focusing on how technical user propagation works through the On-Premise Proxy component ‚Äî so stay tuned if you‚Äôre interested in applying these patterns beyond Cloud Integration.&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;EDITED : API Management blog article is linked &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/applying-techncial-user-propagation-to-api-management/ba-p/14191788" target="_self"&gt;here&lt;/A&gt;.&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/unravelling-the-technical-user-propagation-scenarios-in-sap-integration/ba-p/14182016"/>
    <published>2025-08-25T05:55:48.613000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/supply-chain-management-blog-posts-by-sap/configuring-sap-cloud-integration-for-an-ibp-to-s-4hana-on-prem-private/ba-p/14194922</id>
    <title>Configuring SAP Cloud Integration for an IBP to S/4HANA (on prem / private cloud) integration</title>
    <updated>2025-08-27T14:47:07.837000+02:00</updated>
    <author>
      <name>SofianePebre</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1476236</uri>
    </author>
    <content>&lt;P&gt;Hi SAP Community,&lt;/P&gt;&lt;P&gt;Following a first entry blog on introducing SAP Cloud Integration from Integration Services as the new time series ETL for IBP integration, here is a second sharing focusing this time on configuring the Integration Suite to lay the groundwork for integration flow creation.&lt;/P&gt;&lt;P&gt;---------------&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_0-1756298531314.png" style="width: 26px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305539iBA5D7D30C373FCF5/image-dimensions/26x26/is-moderation-mode/true?v=v2" width="26" height="26" role="button" title="SofianePebre_0-1756298531314.png" alt="SofianePebre_0-1756298531314.png" /&gt;&lt;/span&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_1-1756298531275.png" style="width: 24px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305538i1F540DA6EDAE3E0B/image-dimensions/24x24/is-moderation-mode/true?v=v2" width="24" height="24" role="button" title="SofianePebre_1-1756298531275.png" alt="SofianePebre_1-1756298531275.png" /&gt;&lt;/span&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;Again, to all customers/partners out there working with CI-DS :&amp;nbsp;&lt;STRONG&gt;there is currently no plan to sunset CI-DS&lt;/STRONG&gt;&lt;SPAN&gt;, it will continue to be supported by SAP in the future.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;---------------&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Before proceeding, please make sure you meet the below prerequisites.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Prerequisites&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;All steps from my first&amp;nbsp;&lt;A href="https://community.sap.com/t5/supply-chain-management-blog-posts-by-sap/sap-ibp-new-integration-option-introducing-sap-cloud-integration-from-btp-s/ba-p/14169516" target="_blank"&gt;technical setup blog entry&lt;/A&gt;. &amp;nbsp;&lt;/LI&gt;&lt;LI&gt;The SAP Cloud connector for S/4HANA (on premise or private cloud) has been installed and configured to connect your SAP IBP and SAP S/4HANA instances.&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;More info on installation steps &lt;A href="https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/installation?version=Cloud" target="_blank" rel="noopener noreferrer"&gt;&amp;nbsp;: SAP BTP Connectivity ‚Äì Installation&lt;/A&gt;.&lt;/LI&gt;&lt;LI&gt;More info on the configuration, including how to setup the password for the Administrator user :&amp;nbsp;&lt;A href="https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/cloud-connector-initial-configuration?version=Cloud" target="_blank" rel="noopener noreferrer"&gt;SAP BTP Connectivity ‚Äì Initial Configuration&lt;/A&gt;.&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;Users have been created via the BTP cockpit with the relevant roles depending on what tasks they need to perform. The three typical roles for CI are the following: &lt;EM&gt;PI_Administrator, PI_Integration_Developer and PI_Business_Expert&lt;/EM&gt;. Check the &lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/persona-2937e5ca6ef448cfb21451a2461cc2a6#loio2937e5ca6ef448cfb21451a2461cc2a6__business" target="_blank" rel="noopener noreferrer"&gt;Personas for CI information&lt;/A&gt; to understand what each covers in order to assign the most relevant ones.&lt;UL&gt;&lt;LI&gt;To support actions from this blog entry you need the PI_Integration_Developer role.&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;LI&gt;The &lt;A href="https://help.sap.com/ibp_s4hana_addon" target="_blank" rel="noopener noreferrer"&gt;SAP S/4HANA, Supply Chain Integration Add-On for SAP Integrated Business Planning&lt;/A&gt; is configured in S/4HANA for integration purposes.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Defining the Destinations&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Before you can begin designing iflows, you must start by defining your source and target systems as you would typically do for CI-DS (Datastore section).&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Configure IBP as a Destination&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;For the Integration Suite, you need to perform this action on the BTP subaccount level of your BTP cockpit.&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;First find the path from your BTP cockpit: &lt;EM&gt;Account Explorer &amp;gt; Global Account &amp;gt; Subaccounts &lt;/EM&gt;tab, and select your subaccount as seen in the previous blog entry on how to setup the technical landscape in BTP.&lt;/LI&gt;&lt;LI&gt;Navigate to the Account Overview screen and select &lt;EM&gt;Connectivity &amp;gt; Destinations&lt;/EM&gt; from the left side panel.&lt;/LI&gt;&lt;LI&gt;Start by creating a destination to model your IBP tenant by selecting the ‚ÄúCreate‚Äù button&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_0-1756289413495.png" style="width: 781px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305466iE397033B968C1599/image-dimensions/781x351/is-moderation-mode/true?v=v2" width="781" height="351" role="button" title="SofianePebre_0-1756289413495.png" alt="SofianePebre_0-1756289413495.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Choose ‚ÄúFrom scratch‚Äù&lt;/LI&gt;&lt;LI&gt;Then populate at least the following fields:&lt;UL&gt;&lt;LI&gt;Name, I suggest identifying your IBP destination with its tenant code in the XXX format as shown below,&lt;/LI&gt;&lt;LI&gt;Type : &lt;EM&gt;RFC&lt;/EM&gt;,&lt;/LI&gt;&lt;LI&gt;Description, optional details on the destination can be added,&lt;/LI&gt;&lt;LI&gt;Proxy Type : &lt;EM&gt;Internet&lt;/EM&gt;,&lt;/LI&gt;&lt;LI&gt;Alias User, represents the Communication User created previously in IBP, in our example USR_SAP_COM_931,&lt;/LI&gt;&lt;LI&gt;Password, the password set for the Communication User in IBP,&lt;/LI&gt;&lt;LI&gt;WebSocket RFC Server Host, your IBP tenant url in the format ‚Äú&lt;EM&gt;myXXXXXX-api.scmibp1.ondemand.com‚Äù&lt;/EM&gt;,&lt;/LI&gt;&lt;LI&gt;WebSocket RFC Server Port: &lt;EM&gt;443&lt;/EM&gt;,&lt;/LI&gt;&lt;LI&gt;Client: &lt;EM&gt;100&lt;/EM&gt;.&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_1-1756289413497.png" style="width: 523px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305464i13F6D3D0C2202D52/image-dimensions/523x675/is-moderation-mode/true?v=v2" width="523" height="675" role="button" title="SofianePebre_1-1756289413497.png" alt="SofianePebre_1-1756289413497.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Click on Create.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;To check the connection is setup correctly, you can use the ‚ÄúCheck Connection‚Äù button after saving, located on the top right-hand corner of the Destination configuration screen&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_2-1756289413503.png" style="width: 848px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305465i7AE592C65EDB9F80/image-dimensions/848x212/is-moderation-mode/true?v=v2" width="848" height="212" role="button" title="SofianePebre_2-1756289413503.png" alt="SofianePebre_2-1756289413503.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;You should get the following success message:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_3-1756289413505.png" style="width: 320px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305467i209B27F0545E8DB6/image-dimensions/320x109/is-moderation-mode/true?v=v2" width="320" height="109" role="button" title="SofianePebre_3-1756289413505.png" alt="SofianePebre_3-1756289413505.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Now you need to configure your S/4HANA system as a destination to start building iflows.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Configure S/4HANA as a Destination&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;From the Destinations list,&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Choose once again ‚ÄúCreate‚Äù and ‚ÄúFrom scratch‚Äù as done to configure the IBP destination.&lt;/LI&gt;&lt;LI&gt;Then populate at least the following fields:&lt;UL&gt;&lt;LI&gt;Name, I suggest identifying your IBP S/4HANA destination with its tenant and client codes as shown below,&lt;/LI&gt;&lt;LI&gt;Type : &lt;EM&gt;RFC&lt;/EM&gt;,&lt;/LI&gt;&lt;LI&gt;Description, optional details on the destination can be added,&lt;/LI&gt;&lt;LI&gt;Proxy Type : &lt;EM&gt;On Premise&lt;/EM&gt;,&lt;/LI&gt;&lt;LI&gt;User, represents the technical user that must first exist in your S/4HANA system with necessary authorizations assigned (you can use template role SAP_IBPECC_CI_RFC_1.0),&lt;/LI&gt;&lt;LI&gt;Password, the password set for the above technical user in S/4HANA,&lt;/LI&gt;&lt;LI&gt;Location ID, if you set a location ID during the Cloud Connector configuration set the same name here (which you can check in the left side panel: Connectivity &amp;gt; Cloud Connectors),&lt;BR /&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_4-1756289413510.png" style="width: 539px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305468i36833111B08E1735/image-dimensions/539x349/is-moderation-mode/true?v=v2" width="539" height="349" role="button" title="SofianePebre_4-1756289413510.png" alt="SofianePebre_4-1756289413510.png" /&gt;&lt;/span&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;EM&gt;Example&lt;/EM&gt;:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_5-1756289413512.png" style="width: 604px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305469i48AB291209EDB685/image-dimensions/604x424/is-moderation-mode/true?v=v2" width="604" height="424" role="button" title="SofianePebre_5-1756289413512.png" alt="SofianePebre_5-1756289413512.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;In the Target System Configuration section, set the following:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Virtual Application Server Host, the virtual host name used during the Cloud Connector configuration (which you can check in the left side panel: Connectivity &amp;gt; Cloud Connectors),&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_6-1756289413517.png" style="width: 627px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305472iCE4D7F70793946E7/image-dimensions/627x406/is-moderation-mode/true?v=v2" width="627" height="406" role="button" title="SofianePebre_6-1756289413517.png" alt="SofianePebre_6-1756289413517.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;System Number, your S/4HANA system number used for this integration,&lt;/LI&gt;&lt;LI&gt;Client, your S/4HANA client used for this integration.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;EM&gt;Example:&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_7-1756289413518.png" style="width: 551px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305471iF017132F5A5622E1/image-dimensions/551x245/is-moderation-mode/true?v=v2" width="551" height="245" role="button" title="SofianePebre_7-1756289413518.png" alt="SofianePebre_7-1756289413518.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Click on Create.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;To check the connection is setup correctly, you can use the ‚ÄúCheck Connection‚Äù button after saving, located on the top right-hand corner of the Destination configuration screen.&lt;/P&gt;&lt;P&gt;You should get the below message:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_8-1756289413519.png" style="width: 384px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305470i8CEB82AF74FFDEB2/image-dimensions/384x124/is-moderation-mode/true?v=v2" width="384" height="124" role="button" title="SofianePebre_8-1756289413519.png" alt="SofianePebre_8-1756289413519.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Lay the groundwork for building Iflows&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Now that the technical setup is completed and connections have been configured and tested, you can proceed with building integration content.&lt;/P&gt;&lt;P&gt;The first thing you‚Äôll need to do is leverage the pre-built integration content delivered by SAP.&lt;/P&gt;&lt;P&gt;Access your Integration Suite tenant, you can do so either with the direct URL or via your BTP cockpit, select your subaccount and from the left side panel &lt;EM&gt;Instances and Subscriptions&lt;/EM&gt;. From there, see below screenshot, find your Integration Suite subscription and find the &lt;EM&gt;Go to Application&lt;/EM&gt; option from the menu.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_9-1756289413524.png" style="width: 731px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305474iE0C34722A76C0719/image-dimensions/731x299/is-moderation-mode/true?v=v2" width="731" height="299" role="button" title="SofianePebre_9-1756289413524.png" alt="SofianePebre_9-1756289413524.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;In the next entries we will focus essentially on these three sections of the Integration Suite:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_10-1756289413526.png" style="width: 223px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305473i5E790AEC9CE64DF6/image-dimensions/223x335/is-moderation-mode/true?v=v2" width="223" height="335" role="button" title="SofianePebre_10-1756289413526.png" alt="SofianePebre_10-1756289413526.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Discover&lt;BR /&gt;This section offers preconfigured packages delivered by SAP that can help accelerate your integration work. &lt;SPAN&gt;A package regroups integration flows (hereafter referred to as iflows), documentation, value mappings and other so-called artifacts to help you cover a specific integration scenario.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;Design&lt;BR /&gt;The Design section is where you create your iflows. To begin you can copy packages from the Discover section or create a package of your own from scratch.&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;Monitor&lt;BR /&gt;Here you can monitor your executed iflows once deployed.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;Let‚Äôs now introduce the preconfigured packages that will be relevant for the IBP ‚Äì S/4HANA (private cloud / on-premise) integration, specifically based on the use of the SAP S/4HANA, Supply Chain Integration Add-On for SAP Integrated Business Planning.&lt;/P&gt;&lt;P&gt;In the Discover section look for the following three packages:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;SAP IBP - Reusable Integration Flows&lt;/LI&gt;&lt;LI&gt;SAP IBP Add-On - Reusable Integration Flows&lt;/LI&gt;&lt;LI&gt;SAP IBP - Integration with SAP S/4HANA Cloud Private Edition or SAP S/4HANA or SAP ERP&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_11-1756289413534.png" style="width: 689px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305475i9E548831A88B1B1B/image-dimensions/689x359/is-moderation-mode/true?v=v2" width="689" height="359" role="button" title="SofianePebre_11-1756289413534.png" alt="SofianePebre_11-1756289413534.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;You‚Äôll need to copy each of them into the Design section. To do this, access the first one by clicking on the entry itself which brings you to the content of the package and select ‚ÄúCopy‚Äù.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_12-1756289413538.png" style="width: 671px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305477i85CF131BE5305533/image-dimensions/671x250/is-moderation-mode/true?v=v2" width="671" height="250" role="button" title="SofianePebre_12-1756289413538.png" alt="SofianePebre_12-1756289413538.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Do this for the two other packages and now access the Design section to confirm all three have been correctly copied in your working environment.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_13-1756289413542.png" style="width: 643px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305476i66A980A5E0E57A46/image-dimensions/643x361/is-moderation-mode/true?v=v2" width="643" height="361" role="button" title="SofianePebre_13-1756289413542.png" alt="SofianePebre_13-1756289413542.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Now any iflows that you will build to support your integration project will necessarily be composed of so-called reusable iflows which are part of these preconfigured packages delivered by SAP.&lt;/P&gt;&lt;P&gt;A &lt;STRONG&gt;reusable iflow&lt;/STRONG&gt; is a prebuilt sequence allowing to perform a particular action in a source or target system. Let‚Äôs just say it encapsulates SAP Best Practices in terms of design (necessary checks, logging exception messages, opening and closing a connection to the system, etc.) with a single role that could be reading data from S/4HANA, fetching and posting data in IBP, reading data in IBP or initializing the iflow.&lt;/P&gt;&lt;P&gt;The iflows that you will create, we call them &lt;STRONG&gt;business iflows&lt;/STRONG&gt;, will use a series of these reusable iflows depending on what your need done. To be able to execute an iflow, it first needs to be deployed and because your business iflow will incorporate sub iflows including reusable iflows, it is essential all of these are deployed first so let‚Äôs tackle this action.&lt;/P&gt;&lt;P&gt;To deploy you reusable iflows, you need to do the following for all artifacts of both packages SAP IBP - Reusable Integration Flows &lt;STRONG&gt;and&lt;/STRONG&gt; SAP IBP Add-On - Reusable Integration Flows:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Access the package&lt;/LI&gt;&lt;LI&gt;Navigate to the Artifact tab&lt;/LI&gt;&lt;LI&gt;For each iflow in this section, select the menu (three dots on the right) and click on Deploy&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_14-1756289413545.png" style="width: 782px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305478i7EB92D18223AA1E2/image-dimensions/782x239/is-moderation-mode/true?v=v2" width="782" height="239" role="button" title="SofianePebre_14-1756289413545.png" alt="SofianePebre_14-1756289413545.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Click on Yes in the confirmation dialog.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_15-1756289413546.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305479i951188205F2A80DA/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="SofianePebre_15-1756289413546.png" alt="SofianePebre_15-1756289413546.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;At some point you should get the following notification on the bottom of the screen:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_16-1756289413547.png" style="width: 205px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305480iA19036A87EE01719/image-dimensions/205x93/is-moderation-mode/true?v=v2" width="205" height="93" role="button" title="SofianePebre_16-1756289413547.png" alt="SofianePebre_16-1756289413547.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;You can also check this in the Monitor section from the left side panel, choose &lt;EM&gt;Manage Integration Content&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_17-1756289413549.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305481i49AA6189B623A3A6/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="SofianePebre_17-1756289413549.png" alt="SofianePebre_17-1756289413549.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Check the status on the iflow previously deployed.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_18-1756289413554.png" style="width: 726px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305482iBD08519D8C889673/image-dimensions/726x291/is-moderation-mode/true?v=v2" width="726" height="291" role="button" title="SofianePebre_18-1756289413554.png" alt="SofianePebre_18-1756289413554.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Again: do this for ALL iflows within the Artifacts tab of BOTH of the reusable iflows packages.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;In the next blog entry, we shall create a first customer iflow based on reusable iflows to call data from S/4HANA via its integration addon (calling an extractor directly as CI-DS would) and see how we can influence the call via mappings and filters.&lt;/P&gt;&lt;P&gt;Stay Tuned!&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;STRONG&gt;Sources&amp;nbsp;&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;FONT color="#000000"&gt;Overview of&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/what-is-sap-integration-suite?utm_source=chatgpt.com" target="_blank" rel="noopener noreferrer"&gt;SAP Integration Suite&lt;/A&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;and&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://help.sap.com/docs/cloud-integration/sap-cloud-integration/sap-cloud-integration?version=Cloud" target="_blank" rel="noopener noreferrer"&gt;SAP Cloud Integration&lt;/A&gt;&lt;/FONT&gt;&lt;/LI&gt;&lt;LI&gt;&lt;FONT color="#000000"&gt;Connection setup guide&amp;nbsp;&lt;A title="https://me.sap.com/notes/3628813" href="https://me.sap.com/notes/3628813" target="_blank" rel="noopener noreferrer"&gt;https://me.sap.com/notes/3628813&lt;/A&gt;&lt;/FONT&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/LI&gt;&lt;/UL&gt;</content>
    <link href="https://community.sap.com/t5/supply-chain-management-blog-posts-by-sap/configuring-sap-cloud-integration-for-an-ibp-to-s-4hana-on-prem-private/ba-p/14194922"/>
    <published>2025-08-27T14:47:07.837000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/process-aware-agentic-testing-of-sap-with-int4-suite/ba-p/14196856</id>
    <title>Process-Aware Agentic Testing of SAP with Int4 Suite</title>
    <updated>2025-08-28T10:55:30.207000+02:00</updated>
    <author>
      <name>MichalKrawczyk</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/45785</uri>
    </author>
    <content>&lt;P&gt;&lt;STRONG&gt;Process-Aware Agentic Testing of SAP with Int4 Suite&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Let‚Äôs start with a simple example every SAP consultant knows:&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Test Case: Create Standard Sales Order (VA01)&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 1:&lt;/STRONG&gt; Enter transaction code VA01 in the command box.&lt;BR /&gt;Expected Result: ‚ÄúCreate Sales Order‚Äù initial screen is displayed.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 2:&lt;/STRONG&gt; On the initial screen, enter details like:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Order Type: &amp;lt;ip_Order_Type&amp;gt;&lt;/LI&gt;&lt;LI&gt;Sales Organization: &amp;lt;ip_Sales_Org&amp;gt;&lt;/LI&gt;&lt;LI&gt;Distribution Channel: &amp;lt;ip_distr_channel&amp;gt;&lt;/LI&gt;&lt;LI&gt;Division: &amp;lt;ip_division&amp;gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Step 3:&lt;/STRONG&gt; Click Enter.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Step 4:&lt;/STRONG&gt; Enter header details such as:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;PO Number: &amp;lt;ip_PO_number&amp;gt;&lt;/LI&gt;&lt;LI&gt;Sold-to Party: &amp;lt;ip_sold_to_party&amp;gt;&lt;/LI&gt;&lt;LI&gt;Ship-to Party: &amp;lt;ip_ship_to_party&amp;gt;&lt;/LI&gt;&lt;LI&gt;PO Date: &amp;lt;ip_PO_date&amp;gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Step 5:&lt;/STRONG&gt; Enter item details:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Material: &amp;lt;ip_Material&amp;gt;&lt;/LI&gt;&lt;LI&gt;Order Quantity: &amp;lt;ip_Order_qty&amp;gt;&lt;/LI&gt;&lt;LI&gt;Plant: &amp;lt;ip_plant&amp;gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Step 6:&lt;/STRONG&gt; Click Save.&lt;BR /&gt;Expected Result: &lt;EM&gt;‚ÄúStandard Order XXXXXX has been saved.‚Äù&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;Looks perfect on paper. But in real life, there are two big problems:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;STRONG&gt;Where to get the correct data to start the test?&lt;/STRONG&gt; A VA01 script needs valid values for customer, material, plant, and so on. Guesswork doesn‚Äôt work. The best source is historical data already posted on production by one of the integrations. Int4 Suite can use millions of these API transactions as the foundation for realistic tests.&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&lt;STRONG&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="data_1.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305816i65B1E447CC06E5A0/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="data_1.png" alt="data_1.png" /&gt;&lt;/span&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;STRONG&gt;What if the required master or stock data is missing in test?&lt;/STRONG&gt; Even with a historical sales order in hand, posting might fail because the material never existed in the test system, the customer master is missing, or there‚Äôs no stock. This is where Int4 Suite acts agentically: it can copy the missing material from production, create stock via another API, and retry posting automatically.&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="screen.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305817iE9BFC67A44ABAE98/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="screen.png" alt="screen.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;This is the heart of &lt;STRONG&gt;Process-Aware Agentic Testing&lt;/STRONG&gt;. Process-aware, because the software knows what data and conditions are needed for the test. Agentic, because it acts on its own to prepare that business context and complete the transaction.&lt;/P&gt;&lt;P&gt;And this problem is not limited to VA01. In many SAP projects, test automation still works in a very ‚Äúdry‚Äù way. A tool calls a transaction with some example data and checks the response. Technically it works, but it‚Äôs not how real business runs. It‚Äôs like testing a car engine without fuel in the tank, without air in the tires, and without a driver inside. The engine starts, but you can‚Äôt really drive anywhere.&lt;/P&gt;&lt;P&gt;Dry testing always brings the same frustrations:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Functinal consultants must provide ‚Äúreference data‚Äù,&lt;/LI&gt;&lt;LI&gt;missing objects must be prepared manually ‚Äì by functional consultants,&lt;/LI&gt;&lt;LI&gt;results are very hard to repeat.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;Int4 Suite changes this. With access to millions of historical API transactions and the ability to prepare business objects through SAP S/4HANA APIs, it makes every test run in full business context.&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Example 1:&lt;/STRONG&gt; Posting a historical sales order fails because the material is missing. Int4 Suite copies the material from production, creates stock, and retries the posting.&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Example 2:&lt;/STRONG&gt; Testing a delivery fails because the sales order doesn‚Äôt exist in test. Int4 Suite can post a new sales order via API based on historical data, and then create the delivery.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;For SAP S/4HANA projects, this is a new paradigm. Instead of brittle scripts and endless manual setup, you get &lt;STRONG&gt;agentic, process-aware testing&lt;/STRONG&gt;: tests that adapt, prepare their own data, and validate full business processes end-to-end.&lt;/P&gt;&lt;P&gt;In short: don‚Äôt just test if a transaction runs. Test if it runs &lt;STRONG&gt;with the right business context&lt;/STRONG&gt;. That‚Äôs the future of SAP testing with Int4 Suite.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/process-aware-agentic-testing-of-sap-with-int4-suite/ba-p/14196856"/>
    <published>2025-08-28T10:55:30.207000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/sap-integration-suite-generative-ai-based-integration-flow-generation-with/ba-p/14196606</id>
    <title>SAP Integration Suite ‚Äì Generative AI based Integration Flow Generation with Mediation Steps</title>
    <updated>2025-08-29T05:52:38.107000+02:00</updated>
    <author>
      <name>DeepakGDeshpande</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/36535</uri>
    </author>
    <content>&lt;H2 id="toc-hId-1020198593" id="toc-hId-1738851505"&gt;Introduction&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;SAP Integration Suite - Cloud Integration version 6.69.**, comes with an enhancement on Generative AI (GenAI) feature -&amp;nbsp;&lt;/SPAN&gt;&lt;EM&gt;GenAI based Integration Flow Generation with Mediations Steps&lt;/EM&gt;&lt;SPAN&gt;.&amp;nbsp; This feature is an extension to GenAI based Integration Flow Generation as described in&amp;nbsp;&lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/sap-integration-suite-generative-ai-based-integration-flow-generation/ba-p/13761166" target="_blank"&gt;https://community.sap.com/t5/technology-blog-posts-by-sap/sap-integration-suite-generative-ai-based-integration-flow-generation/ba-p/13761166&lt;/A&gt;&amp;nbsp;.&amp;nbsp;&lt;/SPAN&gt;This feature will be available only in SAP Integration Suite Cloud Integration&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;EM&gt;Premium Editions&lt;/EM&gt;, on specific regions/data centres.&amp;nbsp;&lt;SPAN&gt;This blog or product document will be updated with the list of regions/data centres once the rollout of this feature/software completes.&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;This feature is forecasted to rollout in mid-September 2025 (these are tentative timelines, subjected to change as per internal phased rollout plan).&lt;/P&gt;&lt;H2 id="toc-hId-823685088" id="toc-hId-1542338000"&gt;Enabling GenAI Based Integration Flow Generation feature&lt;/H2&gt;&lt;P&gt;As tenant administrator of your premium edition tenant, you need to enable this feature in Settings page of SAP Integration Suite. Compared to steps mentioned in the earlier blog &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/sap-integration-suite-generative-ai-based-integration-flow-generation/ba-p/13761166," target="_blank"&gt;https://community.sap.com/t5/technology-blog-posts-by-sap/sap-integration-suite-generative-ai-based-integration-flow-generation/ba-p/13761166,&lt;/A&gt;&amp;nbsp;there is an enhancement in the settings page and the GenAI settings have been moved to a dedicated sub-navigation item called &lt;EM&gt;Artificial Intelligence&lt;/EM&gt;, screenshot of which has been provided below. To enable this feature, you need to agree to the relevant terms and conditions.&lt;/P&gt;&lt;P&gt;Below are the sample screenshots of the same&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_0-1756368523392.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305795i90DE8DE3A13BA37E/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_0-1756368523392.png" alt="DeepakGDeshpande_0-1756368523392.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;U&gt;Note&lt;/U&gt; : &lt;STRONG&gt;Flow Step Recommendations&lt;/STRONG&gt; is a AI (ML) related feature which was/is available in all editions of Integration Suite. It is a alway's ON feature and tenant administrator will not be able to switch it OFF.&amp;nbsp; For more information, checkout the blog post&amp;nbsp;&lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/sap-cloud-integration-flow-step-recommendations/ba-p/13474550" target="_blank"&gt;https://community.sap.com/t5/technology-blog-posts-by-sap/sap-cloud-integration-flow-step-recommendations/ba-p/13474550&lt;/A&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_0-1756371650627.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305824iD347E8CE04298F10/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_0-1756371650627.png" alt="DeepakGDeshpande_0-1756371650627.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_1-1756368532989.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305796iCA43FFED53610DBB/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_1-1756368532989.png" alt="DeepakGDeshpande_1-1756368532989.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_2-1756368549318.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305797iA67040544CF9BF78/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_2-1756368549318.png" alt="DeepakGDeshpande_2-1756368549318.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-627171583" id="toc-hId-1345824495"&gt;Generating Integration Flows with Mediation Steps&lt;/H2&gt;&lt;P&gt;Once this feature is switched ON by the tenant administrator, you - as &lt;EM&gt;integration developer&lt;/EM&gt; persona - can use this feature to generate integration flows.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Now, you click on&amp;nbsp;&lt;/SPAN&gt;&lt;EM&gt;Add -&amp;gt; Integration flow&lt;/EM&gt;&lt;SPAN&gt;&amp;nbsp;menu in your package view, you will be given option for generating the integration flow with assistance from AI or create integration flow manually.&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Below are the screenshots of generating integration flows using generative AI.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_0-1756369485293.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305801i57EAD0A9763E6EBD/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_0-1756369485293.png" alt="DeepakGDeshpande_0-1756369485293.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_1-1756369510610.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305802iCE0690FDB8AC1E8E/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_1-1756369510610.png" alt="DeepakGDeshpande_1-1756369510610.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_2-1756369518526.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305803iB707F97DC4560B47/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_2-1756369518526.png" alt="DeepakGDeshpande_2-1756369518526.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_3-1756369596908.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305805iA446FDFA89E56A07/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_3-1756369596908.png" alt="DeepakGDeshpande_3-1756369596908.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;If you observe the above screenshot, the description contains information about the components of the integration flow along with systems. This is the extension compared to previous feature version, wherein the generative AI&amp;nbsp;backend layer recognises the components - also known as mediations steps - and generates the integration flow accordingly.&amp;nbsp;&lt;/P&gt;&lt;P&gt;Once the description is complete, click on send button.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_4-1756370013162.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305809i8410D7A8DB04DEC1/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_4-1756370013162.png" alt="DeepakGDeshpande_4-1756370013162.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;The feature extension now also provides a detailed AI Response on what it has identified as systems, components and actions - kind of a reasoning - with which it will proceed for the integration flow generation. Click on &lt;EM&gt;Generate&lt;/EM&gt; button. Below is the sample output of the generated integration flow.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_5-1756370149261.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305810iB268133CDD2ACC63/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_5-1756370149261.png" alt="DeepakGDeshpande_5-1756370149261.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_1-1756372140923.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305828i47B42652179D2A1E/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_1-1756372140923.png" alt="DeepakGDeshpande_1-1756372140923.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;As you can observe above screenshot, the generated integration flow has the flow steps which matches the components/mediation steps information provided in the integration flow requirement description as user input, along with that, integration flow is auto&amp;nbsp; aligned/auto formatted. The generative AI backend layer has provided proper names to flow steps/mediation steps as per the description, unlike static names like &lt;EM&gt;content modifier 1&lt;/EM&gt;, &lt;EM&gt;message mapping 1&lt;/EM&gt;&amp;nbsp;, which you might have observed when you manually drag-and-drop the flow elements and rename them - saves your time a lot.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_7-1756370181206.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305812i0F8BE769952F4644/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_7-1756370181206.png" alt="DeepakGDeshpande_7-1756370181206.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;It has also generated resources, i.e., message mapping file for the message mapping flow step.&lt;/P&gt;&lt;P&gt;Currently, the generative AI backend layer is only generating empty/default resources., e.g., the generated message mapping file doesn't contain source and target schema structure as shown in the below screenshot.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="DeepakGDeshpande_8-1756370428268.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305815i527E742D914A08E0/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="DeepakGDeshpande_8-1756370428268.png" alt="DeepakGDeshpande_8-1756370428268.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;The relevant resources's content like message mapping with schemas, groovy scripts with custom logic shall be supported in next upcoming increments.&amp;nbsp;&lt;/P&gt;&lt;H3 id="toc-hId-559740797" id="toc-hId-1278393709"&gt;&lt;SPAN&gt;Summary&lt;/SPAN&gt;&lt;/H3&gt;&lt;P&gt;SAP Integration Suite ‚Äì Cloud Integration GenAI based integration flow generation with mediation steps feature will help you bootstrap and accelerate the integration development activity.&lt;/P&gt;&lt;P&gt;As mentioned in the summary section of previous blog &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/sap-integration-suite-generative-ai-based-integration-flow-generation/ba-p/13761166" target="_blank"&gt;https://community.sap.com/t5/technology-blog-posts-by-sap/sap-integration-suite-generative-ai-based-integration-flow-generation/ba-p/13761166&lt;/A&gt; , this feature extension enhances the generative AI offering with mediations steps. Having said that, all is not complete yet. We noticed accuracy issues sometimes/in some cases - as with LLMs - in our internal validation. Some of the observations are : missing accuracy in generated integration flow and its mediation steps names/sequence connections, missing discovered UCL system's configuration with outbound adapters (please check previous blog on UCL approach in GenAI based Integration flow generation) and flow steps, empty/default resources like message mapping, groovy scripts, missing auto alignment/auto formatting, missing semantic connections for control flows (e.g. router, multicast) of generated integration flow.&lt;/P&gt;&lt;P&gt;We continue working on fixing accuracy issues as we make future releases, but the current extension in GenAI based Integration Flow generation with mediation steps should surely increase the integration flow developer efficiency.&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/sap-integration-suite-generative-ai-based-integration-flow-generation-with/ba-p/14196606"/>
    <published>2025-08-29T05:52:38.107000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/applying-techncial-user-propagation-to-api-management/ba-p/14191788</id>
    <title>Applying 'Techncial User Propagation' to API Management</title>
    <updated>2025-08-29T07:03:22.437000+02:00</updated>
    <author>
      <name>vinayak_adkoli</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/216068</uri>
    </author>
    <content>&lt;H2 id="toc-hId-1738703761"&gt;1. Introduction:&lt;/H2&gt;&lt;P&gt;In the previous &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/unravelling-the-technical-user-propagation-scenarios-in-sap-integration/ba-p/14182016" target="_self"&gt;blog&lt;/A&gt;, we explored how technical user propagation works in &lt;STRONG&gt;SAP Integration Suite / Cloud Integration&lt;/STRONG&gt; using the OData V2, SOAP, and HTTP receiver adapters. In this installment, we turn our attention to &lt;STRONG&gt;API Management&lt;/STRONG&gt;, where the &lt;A href="https://help.sap.com/docs/sap-api-management/sap-api-management/on-premise-connectivity-plan" target="_self" rel="noopener noreferrer"&gt;on-premise proxy component&lt;/A&gt;&amp;nbsp;plays a crucial role in securely bridging cloud-hosted APIs with on-premise systems. Much like Cloud Integration, the question of propagating a &lt;EM&gt;fixed technical identity&lt;/EM&gt; comes up frequently here ‚Äî but the mechanisms and configuration steps differ.&lt;/P&gt;&lt;H2 id="toc-hId-1542190256"&gt;&lt;STRONG&gt;2. Quick recap on on-premise connectivity in API Management:&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;Before diving deeper, let‚Äôs briefly review how &lt;STRONG&gt;API Management&lt;/STRONG&gt; handles connectivity to on-premise systems. Within the &lt;STRONG&gt;API Provider settings&lt;/STRONG&gt;, API Management supports the concept of &lt;EM&gt;Principal Propagation&lt;/EM&gt;. This means that when a request is forwarded to an on-premise system, the expectation is that a valid user session (or &lt;STRONG&gt;principal&lt;/STRONG&gt;) already exists ‚Äî typically established via mechanisms such as SSO / token exchange.&lt;/P&gt;&lt;P&gt;Under the hood, the &lt;STRONG&gt;On-premise proxy component&lt;/STRONG&gt; in API Management uses the&amp;nbsp;&lt;STRONG&gt;BTP Destination&lt;/STRONG&gt;&amp;nbsp;as the connectivity anchor. The authenticated user session is propagated to this destination, which in turn leverages the &lt;STRONG&gt;Cloud Connector&lt;/STRONG&gt; to securely tunnel the call into the corporate network. Finally, at the backend system level, the &lt;STRONG&gt;X.509 certificate &lt;/STRONG&gt;mechanism comes into play, mapping the propagated principal to the appropriate backend user. We described this process in our previous blog.&lt;/P&gt;&lt;H2 id="toc-hId-1345676751"&gt;&lt;STRONG&gt;3. Concrete example ‚Äì Entra ID &amp;amp; token exchange:&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;In practice, many customers authenticate users against Identity Provider systems such as Entra ID (formerly Azure AD). In this flow, Entra ID issues a JWT token where the &lt;U&gt;&lt;EM&gt;user subject&lt;/EM&gt;&lt;/U&gt; (often the user‚Äôs email ID) is included as a claim. This JWT is then presented to API Management, which, after an optional verification step, in turn exchanges it with XSUAA using the OAuth2 SAML Assertion flow. The result is an XSUAA-issued token that the on-premise proxy component in API Management can securely propagate downstream. This pattern is widely adopted and serves as the backbone of many user-centric API Management scenarios.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Note:&lt;/STRONG&gt; There are many excellent SAP Community blogs that go into great detail about this token handshake and its variants. To keep our focus sharp, we won‚Äôt recap those here ‚Äî instead, we‚Äôll stay aligned with the specific objective of this blog: exploring how technical user propagation scenarios can be addressed in &lt;STRONG&gt;API Management‚Äôs On-Premise proxy component&lt;/STRONG&gt;.&lt;/P&gt;&lt;H2 id="toc-hId-1149163246"&gt;&lt;STRONG&gt;4. From user sessions to technical credentials:&lt;/STRONG&gt;&lt;/H2&gt;&lt;P&gt;While the model described above works seamlessly for user-centric flows, many integration patterns require a fixed technical credential instead. This is where customers start looking for approaches similar to the one we highlighted in Cloud Integration, where technical user propagation can be achieved by leveraging the '&lt;STRONG&gt;SAP-Connectivity-Technical-Authentication&lt;/STRONG&gt;' header. With API Management‚Äôs on-premise proxy component, patterns are available to achieve secure technical identity propagation, which differ slightly from the one we highlighted for Cloud Integration.&lt;/P&gt;&lt;H2 id="toc-hId-952649741"&gt;5. Usage scenarios with API Management:&lt;/H2&gt;&lt;P&gt;To make this blog post engaging, we would like to introduce multiple patterns of usage, since there is no single &lt;EM&gt;‚Äúgold standard‚Äù&lt;/EM&gt;&amp;nbsp; for implementing authentication in API Management. The right choice depends on the system landscape, security requirements, and integration goals. Below, we outline a few practical scenarios that illustrate different approaches. You are free to adjust the scenario based on your security needs:&lt;/P&gt;&lt;H4 id="toc-hId-1014301674"&gt;1. JWT Bearer Token injection (Client credentials authentication):&lt;/H4&gt;&lt;P&gt;In this scenario, the client is responsible for obtaining an access token itself. This typically involves the client exchanging its client credentials of API Management's on-premise proxy component for a&amp;nbsp;JWT access token and presenting it as part of the API call. API Management then processes this token and propagates the corresponding identity further downstream through the destination, Cloud Connector, and finally to the backend.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Note:&lt;/STRONG&gt; While this approach is relatively straightforward, it places the responsibility of managing OAuth credentials and tokens directly on the client. Therefore, it should not be relied upon as the sole security mechanism. It is strongly recommended to validate the JWT on the API Management layer (or downstream) and ensure that it contains the expected claims (such as issuer, audience, scope, or custom claims like the target client_id) before granting access. This ensures that the token has not only been issued by BTP's XSUAA&amp;nbsp; but also carries the correct authorization context for your APIs.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Pre-requisite(s):&lt;/STRONG&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Make sure that you have created a service instance of the '&lt;U&gt;API Management, API portal&lt;/U&gt;'&amp;nbsp; service with the '&lt;U&gt;on-premise-connectivity&lt;/U&gt;' service plan.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-25 at 6.31.33‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304873iCA3CB132EEBCB1AC/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-25 at 6.31.33‚ÄØPM.png" alt="Screenshot 2025-08-25 at 6.31.33‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H4 id="toc-hId-817788169"&gt;&lt;STRONG&gt;2. API Key injection (Credential abstraction for clients):&lt;/STRONG&gt;&lt;/H4&gt;&lt;P&gt;In this setup, the client application supplies an &lt;STRONG&gt;API Key&lt;/STRONG&gt; when calling API Management in addition to any other security mechanism. Behind the scenes, the API Proxy is configured to exchange fixed technical credentials with the Identity Provider (BTP XSUAA) to obtain an access token. This approach helps ensure that the sensitive technical credentials ‚Äî the ones that need to be propagated ‚Äî remain hidden from the client, thereby strengthening security.&lt;/P&gt;&lt;P&gt;To make matters more interesting, in our walkthrough, we will not rely on a basic &lt;EM&gt;client credentials &lt;/EM&gt;grant type. Instead, we will demonstrate a &lt;STRONG&gt;certificate-based token exchange&lt;/STRONG&gt;, where API Management presents a client certificate to XSUAA (via OAuth2 with mutual TLS) to obtain the token. This pattern is increasingly popular in enterprise landscapes because it provides stronger binding between client identity and issued tokens (&lt;A href="https://datatracker.ietf.org/doc/html/rfc8705" target="_self" rel="nofollow noopener noreferrer"&gt;RFC 8705&lt;/A&gt;), without ever exposing the client secret, while still abstracting the complexity from the consuming client.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Pre-requisite(s):&lt;/STRONG&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;a) Ensure that the &lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/activating-developer-hub" target="_self" rel="noopener noreferrer"&gt;Developer Hub&lt;/A&gt; is enabled and that you can create product subscriptions.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;b) Ensure you have a service key enabled for &lt;U&gt;X.509&lt;/U&gt; certificate authentication. Copy the generated client_id. You can follow &lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/on-premise-connectivity-plan" target="_self" rel="noopener noreferrer"&gt;this&lt;/A&gt; guide to set it up, and then refer to step 3.3 in our previous article to create a PFX/P12 file that bundles the certificate and key together.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-27 at 4.43.24‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305676i60BF448692BBB8E1/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-27 at 4.43.24‚ÄØPM.png" alt="Screenshot 2025-08-27 at 4.43.24‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;c) Ensure that the PFX file is uploaded to a keystore from the 'Certificates' section.&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-27 at 6.22.53‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/306064i07D1A5304BE26380/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-27 at 6.22.53‚ÄØPM.png" alt="Screenshot 2025-08-27 at 6.22.53‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H4 id="toc-hId-621274664"&gt;&lt;STRONG&gt;3. Client Certificate-based Authentication:&lt;/STRONG&gt;&lt;/H4&gt;&lt;P&gt;In this scenario, the consuming client application presents an &lt;STRONG&gt;external client certificate&lt;/STRONG&gt; directly to the API Management runtime when invoking an API. The API Management host validates the certificate against its trust store and, based on pre-configured certificate-to-credential mapping, resolves the call to a &lt;STRONG&gt;fixed technical credential&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;This design is particularly useful in system-to-system integrations where client identities are represented by certificates instead of (/in addition to) tokens or API Keys, as the certificate itself acts as the authentication factor. Internally, the mapped technical user is then propagated through to the BTP Destination, Cloud Connector, and ultimately to the backend system using the same mechanisms as in the earlier scenarios.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Note:&lt;/STRONG&gt; This approach is especially appealing when clients cannot (or should not) handle OAuth flows, but are capable of securely storing and presenting a client certificate. However, it requires careful lifecycle management of certificates (renewal, rotation, and trust configuration) to ensure uninterrupted connectivity.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Pre-requisite(s):&lt;/STRONG&gt;&lt;/P&gt;&lt;OL class="lia-list-style-type-lower-alpha"&gt;&lt;LI&gt;Make sure you are configured for &lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/request-for-two-way-ssl-certificate" target="_self" rel="noopener noreferrer"&gt;certificate-based&lt;/A&gt; authentication. You can then manage your clients‚Äô certificate chains in the Trust Store as a convenient self-service feature.&lt;/LI&gt;&lt;LI&gt;&amp;nbsp;Ensure you can read the '&lt;SPAN&gt;ConnectionProperties&lt;/SPAN&gt;' and '&lt;SPAN&gt;ClientProperties&lt;/SPAN&gt;' property variables. You will need to create an operations &lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/tls-ssl-connection-information-variables" target="_self" rel="noopener noreferrer"&gt;ticket&lt;/A&gt; to do so.&amp;nbsp;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;Let‚Äôs examine each of these scenarios in detail. Please note that this is not a &lt;EM&gt;step-by-step&lt;/EM&gt; guide; rather, we will focus on highlighting only the key steps.&lt;/P&gt;&lt;H2 id="toc-hId-166595721"&gt;6. Scenario#1 (Client credentials Authentication) - API Provider and Proxy configurations:&lt;/H2&gt;&lt;P&gt;Let‚Äôs review the essential API Provider and Proxy configurations required to enable propagation of the 'SAP-Connectivity-Technical-Authentication' header.&lt;/P&gt;&lt;P&gt;1. Create an &lt;U&gt;Extract Variable&lt;/U&gt; policy like so (typically on the 'PreFlow' step) to extract the JWT token from the Authorization request and store it in a variable to be referenced later.&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;!-- Extract content from the request or response messages, including headers, URI paths, JSON/XML payloads, form parameters, and query parameters --&amp;gt;
&amp;lt;ExtractVariables async="true" continueOnError="false" enabled="false" xmlns='http://www.sap.com/apimgmt'&amp;gt;
	&amp;lt;Header name="Authorization"&amp;gt;
        &amp;lt;Pattern ignoreCase="true"&amp;gt;Bearer {sapapim.jwt}&amp;lt;/Pattern&amp;gt;
    &amp;lt;/Header&amp;gt;
    &amp;lt;IgnoreUnresolvedVariables&amp;gt;true&amp;lt;/IgnoreUnresolvedVariables&amp;gt;
	&amp;lt;Source&amp;gt;request&amp;lt;/Source&amp;gt;
&amp;lt;/ExtractVariables&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;2. After this step, use a &lt;U&gt;Verify JWT&lt;/U&gt; policy to verify the signatures on the JWT as well as any standard and custom claims. Follow &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/blog-series-json-web-tokens-jwt-verification-using-sap-cloud-platform-api/ba-p/13419698" target="_self"&gt;this&lt;/A&gt; blog series to learn more about JWT verification capabilities.&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;!-- Verify JWT TOken --&amp;gt;
&amp;lt;VerifyJWT async="false" continueOnError="false" enabled="true" xmlns="http://www.sap.com/apimgmt"&amp;gt;
    &amp;lt;Algorithm&amp;gt;RS256&amp;lt;/Algorithm&amp;gt;
    &amp;lt;Source&amp;gt;sapapim.jwt&amp;lt;/Source&amp;gt;
    &amp;lt;PublicKey&amp;gt;
            &amp;lt;Value ref="jwt.publickey"/&amp;gt;
    &amp;lt;/PublicKey&amp;gt;
    &amp;lt;Subject ref="apim.subject"/&amp;gt;
    &amp;lt;Issuer ref="apim.issuer"/&amp;gt;
    &amp;lt;Audience ref="apim.issuer"/&amp;gt;
    &amp;lt;AdditionalClaims&amp;gt;
    &amp;lt;/AdditionalClaims&amp;gt;
&amp;lt;/VerifyJWT&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;3. Next, create an &lt;U&gt;AssignMessage&lt;/U&gt; policy like so to inject the '&lt;EM&gt;SAP-Connectivity-Technical-Authentication&lt;/EM&gt;' header with the variable captured from the previous step, and make sure to remove the '&lt;EM&gt;Authorization&lt;/EM&gt;' header.&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;!-- This policy can be used to create or modify the standard HTTP request and response messages --&amp;gt;
&amp;lt;AssignMessage async="false" continueOnError="false" enabled="true" xmlns='http://www.sap.com/apimgmt'&amp;gt;
	&amp;lt;Remove&amp;gt;
		&amp;lt;Headers&amp;gt;
		     &amp;lt;Header name="Authorization"&amp;gt;&amp;lt;/Header&amp;gt;
		&amp;lt;/Headers&amp;gt;
	&amp;lt;/Remove&amp;gt;
	&amp;lt;Set&amp;gt;
		&amp;lt;Headers&amp;gt;
		     &amp;lt;Header name="SAP-Connectivity-Technical-Authentication"&amp;gt;Bearer {sapapim.accessToken}&amp;lt;/Header&amp;gt;
		&amp;lt;/Headers&amp;gt;
	&amp;lt;/Set&amp;gt; 
	&amp;lt;IgnoreUnresolvedVariables&amp;gt;false&amp;lt;/IgnoreUnresolvedVariables&amp;gt;
	&amp;lt;AssignTo createNew="false" type="request"&amp;gt;request&amp;lt;/AssignTo&amp;gt;
&amp;lt;/AssignMessage&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;4. Finally, ensure that the API Provider‚Äôs &lt;EM&gt;authentication&lt;/EM&gt; setting is configured as &lt;U&gt;&lt;EM&gt;None&lt;/EM&gt;&lt;/U&gt; rather than &lt;EM&gt;Principal Propagation&lt;/EM&gt;. This is the very configuration we applied for the SOAP Adapter scenario discussed in the previous blog post.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-26 at 3.05.38‚ÄØPM.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305303i5753771BD1BFE32E/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Screenshot 2025-08-26 at 3.05.38‚ÄØPM.png" alt="Screenshot 2025-08-26 at 3.05.38‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;5. Let's get down to testing now. The first step would be to get an access token from the authorization server's (XSUAA) token endpoint.&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;curl --location --request POST 'https://&amp;lt;subdomain&amp;gt;.authentication.&amp;lt;region&amp;gt;.hana.ondemand.com/oauth/token' \
  --header 'Content-Type: application/x-www-form-urlencoded' \
  --user '&amp;lt;client_id&amp;gt;:&amp;lt;client_secret&amp;gt;' \
  --data-urlencode 'grant_type=client_credentials'&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;6. Copy the access token from the result of the call above and invoke the API Proxy by presenting the Bearer token in the Authorization header.&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;curl --location --request GET 'https://&amp;lt;apim_base_url&amp;gt;/&amp;lt;your_api_path&amp;gt;' \
  --header "Authorization: Bearer &amp;lt;access_token&amp;gt;"&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":white_heavy_check_mark:"&gt;‚úÖ&lt;/span&gt;&amp;nbsp;Assuming that the rest of your configurations are intact, the call should complete successfully and return the expected backend records.&lt;/P&gt;&lt;P&gt;7. To validate the token handshake and X.509 certificate generation, refer to the verification steps detailed in Step 4.1 in our &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/unravelling-the-technical-user-propagation-scenarios-in-sap-integration/ba-p/14182016" target="_self"&gt;linked&lt;/A&gt; blog post.&lt;/P&gt;&lt;H2 id="toc-hId--29917784"&gt;7. Scenario#2 (APIKey injection) - Proxy configuration:&lt;/H2&gt;&lt;P&gt;In this scenario, the client credentials will not be exposed directly to the client. Instead, we inject the required client_id as a custom attribute within the Product Subscription. During runtime, this identifier is dynamically retrieved via a policy and used to obtain an access token from the authorization server&lt;/P&gt;&lt;P&gt;1. Log in to your Developer Hub, create a product subscription for your target API. Navigate to the Custom Attribute tab and create an attribute called&lt;U&gt; 'x_client_id'&lt;/U&gt; and place the client_id copied from step 2.b. as the Value.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-27 at 6.57.16‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305681i492F9116AB62D50F/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-27 at 6.57.16‚ÄØPM.png" alt="Screenshot 2025-08-27 at 6.57.16‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;2. You may choose to follow the same workflow demonstrated in Scenario 1. In addition, an important step is to configure the &lt;U&gt;Verify API Key&lt;/U&gt; policy, for example, in the PreFlow segment.&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt; &amp;lt;!--Specify in the APIKey element where to look for the variable containing the api key--&amp;gt; 
&amp;lt;VerifyAPIKey async='true' continueOnError='false' enabled='true' 
xmlns='http://www.sap.com/apimgmt'&amp;gt;
	&amp;lt;APIKey ref='request.header.apikey'/&amp;gt;
&amp;lt;/VerifyAPIKey&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;3. Next, add an &lt;U&gt;AccessEntity&lt;/U&gt; policy to get hold of a reference to the 'application's' attributes.&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;!-- this policy can be used to retrieve all details of an entity(application, API Product, company, company developer, consumer key and developer) --&amp;gt;
&amp;lt;AccessEntity async="true" continueOnError="false" enabled="true" xmlns='http://www.sap.com/apimgmt'&amp;gt;
	&amp;lt;!-- the name of the type of entity to be retrieved --&amp;gt;
	&amp;lt;EntityType value="app"/&amp;gt;
	&amp;lt;!-- The value that identifies the specific entity whose profile should be retrieved. The ref attribute identifies the variable that provides the source of the identifier. 
	The type identifies the EntityType populated by the referenced variable --&amp;gt;
	&amp;lt;EntityIdentifier ref="request.header.apikey" type="consumerkey"/&amp;gt;
&amp;lt;/AccessEntity&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;4. Then add an &lt;U&gt;ExtractVariable&lt;/U&gt; policy to parse and extract the value of the custom attribute defined in the previous step.&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;!-- Extract content from the request or response messages, including headers, URI paths, JSON/XML payloads, form parameters, and query parameters --&amp;gt;
&amp;lt;ExtractVariables async="true" continueOnError="false" enabled="true" xmlns='http://www.sap.com/apimgmt'&amp;gt;
	&amp;lt;!-- the source variable which should be parsed --&amp;gt;
	&amp;lt;Source&amp;gt;AccessEntity.name-of-the-AccessEntity-policy-here&amp;lt;/Source&amp;gt;
	&amp;lt;!-- Specifies the XML-formatted message from which the value of the variable will be extracted --&amp;gt;
	&amp;lt;XMLPayload&amp;gt;
    	&amp;lt;!-- Specifies variable to which the extracted value will be assigned --&amp;gt;
    	&amp;lt;Variable name="x-client-id" type="string"&amp;gt;
    		&amp;lt;!-- Specifies the XPath defined for the variable --&amp;gt;
    		&amp;lt;XPath&amp;gt;/App/Attributes/Attribute[Name='x_client_id']/Value/text()&amp;lt;/XPath&amp;gt;
   	    &amp;lt;/Variable&amp;gt;
	&amp;lt;/XMLPayload&amp;gt;
&amp;lt;/ExtractVariables&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;5. After this step, we add a small script to construct the URL-encoded form payload in preparation for the token retrieval step. Notice that we &lt;U&gt;have not&lt;/U&gt; used the client secret attribute at all.&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-javascript"&gt;&lt;code&gt;function getFormElement(name,value){
    return name + "=" + encodeURIComponent(value);
}

function createOAuthRequest(){
    return getFormElement("grant_type","client_credentials")
                + "&amp;amp;" + getFormElement("client_id", context.getVariable("x-client-id")) ;
}

context.setVariable("sapapim.tokenRequest", createOAuthRequest());&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;6. We will follow this up with a &lt;U&gt;ServiceCallout&lt;/U&gt; policy to make a POST request to the '.&lt;EM&gt;cert...&lt;/EM&gt;' token endpoint. Notice that we are attaching the certificate of the service key retrieved in step 2.c. by referencing it from the keystore.&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;ServiceCallout async="false" continueOnError="false" enabled="true" xmlns="http://www.sap.com/apimgmt"&amp;gt;
    &amp;lt;Request clearPayload="true"&amp;gt;
        &amp;lt;Set&amp;gt;
            &amp;lt;Payload contentType="application/x-www-form-urlencoded"&amp;gt;{sapapim.tokenRequest}&amp;lt;/Payload&amp;gt;
            &amp;lt;Verb&amp;gt;POST&amp;lt;/Verb&amp;gt;
        &amp;lt;/Set&amp;gt;
        &amp;lt;IgnoreUnresolvedVariables&amp;gt;false&amp;lt;/IgnoreUnresolvedVariables&amp;gt;
    &amp;lt;/Request&amp;gt;
    &amp;lt;Response&amp;gt;sapapim.tokenResponse&amp;lt;/Response&amp;gt;
    &amp;lt;Timeout&amp;gt;30000&amp;lt;/Timeout&amp;gt;
    &amp;lt;HTTPTargetConnection&amp;gt;
        &amp;lt;URL&amp;gt;https://&amp;lt;tenant-dentifier&amp;gt;.authentication.cert.&amp;lt;region&amp;gt;.hana.ondemand.com/oauth/token&amp;lt;/URL&amp;gt;
        &amp;lt;SSLInfo&amp;gt; 
                 &amp;lt;Enabled&amp;gt;true&amp;lt;/Enabled&amp;gt; 
                &amp;lt;ClientAuthEnabled&amp;gt;true&amp;lt;/ClientAuthEnabled&amp;gt; 
                &amp;lt;KeyStore&amp;gt;KEYSTORE-NAME-GOES-HERE&amp;lt;/KeyStore&amp;gt; 
                &amp;lt;KeyAlias&amp;gt;CERTIFICATE-NAME-GOES-HERE&amp;lt;/KeyAlias&amp;gt; 
        &amp;lt;/SSLInfo&amp;gt;
    &amp;lt;/HTTPTargetConnection&amp;gt;
&amp;lt;/ServiceCallout&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;7. Finally, retrieve the access token and attach it to the&amp;nbsp;&lt;EM&gt;SAP-Connectivity-Technical-Authentication&lt;/EM&gt; header, as demonstrated in step 3 of scenario 1.&lt;/P&gt;&lt;P&gt;8. To test this setup, modify the curl command from scenario 1 to add the APIKey header attribute, like so:&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;curl --location --request GET 'https://&amp;lt;apim_base_url&amp;gt;/&amp;lt;your_api_path&amp;gt;' \ 
--header "APIKey: &amp;lt;your_api_key&amp;gt;"&lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-120823068"&gt;8. Scenario#3 (Client certificate-based authentication) - Proxy configuration:&lt;/H2&gt;&lt;P&gt;The critical security step in this scenario is that the client presents its certificate, which API Management validates against the trusted certificates stored in its Trust Store. This validation ensures that only clients with a recognized and trusted certificate can establish communication, thereby guaranteeing both authenticity and trust in the interaction.&lt;/P&gt;&lt;P&gt;When the 'ConnectionProperties' and 'ClientProperties' attributes are enabled, as described in the prerequisites section, you can also access key certificate details such as the Issuer DN and Client CN. For this scenario, we assume that the API Administrator maintains an access control list mapping a predefined set of certificate Common Names to unique client_ids. This ensures that the technical identifier is propagated only when a matching client certificate is presented.&amp;nbsp;&lt;/P&gt;&lt;P&gt;Let's set this up.&lt;/P&gt;&lt;P&gt;1. Create a &lt;U&gt;Key Value Map&lt;/U&gt; and maintain a table mapping the common name of the client to the designated client_id.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screenshot 2025-08-28 at 3.20.27‚ÄØPM.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/306107i8771F75CD2D9D143/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screenshot 2025-08-28 at 3.20.27‚ÄØPM.png" alt="Screenshot 2025-08-28 at 3.20.27‚ÄØPM.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;2. Construct a &lt;U&gt;KeyValueMapOperations&lt;/U&gt; policy that dynamically retrieves the 'tls.client.s.dn' property from the presented certificate, looks up the Key Value Map created in the above step, and assigns the value of the client_id to a variable called 'x_client_id'.&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&amp;gt;
&amp;lt;KeyValueMapOperations mapIdentifier="TechnicalAuthenticationMap" async="false" continueOnError="false" enabled="false" xmlns="http://www.sap.com/apimgmt"&amp;gt;
    &amp;lt;Get assignTo="x_client_id" index="1"&amp;gt;
        &amp;lt;Key&amp;gt;
            &amp;lt;Parameter ref ="tls.client.s.dn"/&amp;gt;
        &amp;lt;/Key&amp;gt;
    &amp;lt;/Get&amp;gt;
    &amp;lt;Scope&amp;gt;environment&amp;lt;/Scope&amp;gt;
&amp;lt;/KeyValueMapOperations&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;3. Repeat steps 5, 6, and 7 from Scenario 2 to generate an access token and assign it to the target header.&lt;/P&gt;&lt;P&gt;4. To test the invocation, adjust the curl command to pass the client certificate&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;curl --location --request GET 'https://&amp;lt;apim_base_url&amp;gt;/&amp;lt;your_api_path&amp;gt;' \
  --header "Authorization: Bearer &amp;lt;access_token&amp;gt;" \
  --header "APIKey: &amp;lt;your_api_key&amp;gt;" \
  --cert &amp;lt;path_to_certificate&amp;gt;.pfx --cert-type P12 --pass &amp;lt;pfx_password&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":clapping_hands:"&gt;üëè&lt;/span&gt;Congratulations on getting this far!&lt;/P&gt;&lt;H2 id="toc-hId--75690437"&gt;9. Summary:&lt;/H2&gt;&lt;P&gt;The three API Management scenarios illustrate different approaches for &lt;STRONG&gt;technical user propagation &lt;/STRONG&gt;using the&lt;STRONG&gt; SAP-Connectivity-Technical-Authentication header&lt;/STRONG&gt;. In the first approach, the client directly provides credentials to obtain an access token, exposing sensitive information. The second approach leverages API Management to propagate technical credentials internally, keeping them hidden from the client and simplifying integration. The third approach uses mutual TLS and X.509 certificates to securely propagate the technical user identity from API Management through the API Provider to the backend system, ensuring end-to-end authentication without exposing internal credentials.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/applying-techncial-user-propagation-to-api-management/ba-p/14191788"/>
    <published>2025-08-29T07:03:22.437000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/integration-blog-posts/realizing-ai-s-potential-in-and-through-sap-integration-suite/ba-p/14193578</id>
    <title>Realizing AI‚Äôs Potential in and Through SAP Integration Suite</title>
    <updated>2025-08-29T12:23:42.890000+02:00</updated>
    <author>
      <name>Elaine_w</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1779375</uri>
    </author>
    <content>&lt;H1 id="toc-hId-1609678671"&gt;&lt;FONT size="6" color="#000000"&gt;&lt;SPAN&gt;&lt;STRONG&gt;Real&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;SPAN&gt;&lt;STRONG&gt;izing AI‚Äôs Potential in and Through SAP Integration Suite&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/H1&gt;&lt;P&gt;&lt;FONT size="3" color="#000000"&gt;&lt;SPAN&gt;AI is reshaping how enterprises approach integration, simplifying complex processes, reducing manual effort, and unlocking new levels of agility. In SAP Integration Suite, AI is more than just a trend: it&lt;/SPAN&gt; &lt;SPAN&gt;is both a set of powerful capabilities enhancing in&lt;/SPAN&gt;&lt;SPAN&gt;tegration today, and a key enabler for intelligent, connected systems in the future.&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;FONT color="#000000"&gt;&lt;STRONG&gt;&lt;SPAN&gt;AI in Integration Suite&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; ‚Äì Intelligence is embedded directly into the product to enhance developer productivity, improve operational efficiency, and accelerate time to cloud through features like flow generation and optimization, anomaly detection, and &lt;/SPAN&gt;&lt;SPAN&gt;intelligent troubleshooting and monitoring.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;FONT color="#000000"&gt;&lt;STRONG&gt;&lt;SPAN&gt;Integration Suite for AI&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt; ‚Äì SAP Integration Suite also plays a vital role in enabling next-generation AI scenarios. It acts as the integration foundation for orchestrating autonomous, context-aware agents and supporting seamless interaction between AI systems and enterprise landscapes, backed by the governance and scalability that modern businesses need.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;This blog offers a practical overview of SAP Integration Suite‚Äôs evolving AI capabilities, highlighting how AI is embedded in SAP Integration Suite today, how it maps to key integration needs, and how it enables customers to build toward an AI-augmented future.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-1542247885"&gt;&lt;FONT size="5" color="#000000"&gt;&lt;STRONG&gt;&lt;SPAN&gt;AI in Integration Suite: Embedded Intelligence in Action&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/H2&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;AI is not an isolated feature in SAP Integration Suite, instead, it‚Äôs woven into the platform to enhance how integrations are designed, built, and operated. Our embedded AI capabilities focus on delivering real, day-to-day value across two core dimensions:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;FONT color="#000000"&gt;Improve developer productivity&lt;/FONT&gt;&lt;/LI&gt;&lt;LI&gt;&lt;FONT color="#000000"&gt;Enhance operational excellence&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;Here‚Äôs how embedded intelligence is making an impact in these areas:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;H3 id="toc-hId-1474817099"&gt;&lt;FONT size="4" color="#000000"&gt;&lt;U&gt;&lt;STRONG&gt;Improve Developer Productivity&amp;nbsp;&lt;/STRONG&gt;&lt;/U&gt;&lt;/FONT&gt;&lt;/H3&gt;&lt;P class="lia-align-left" style="text-align : left;"&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;Designing integrations can be &lt;FONT size="3"&gt;time-consuming,&lt;/FONT&gt; es&lt;FONT size="3"&gt;pecially when d&lt;/FONT&gt;ealing with complex mappings, unfamiliar systems, &lt;/SPAN&gt;&lt;SPAN&gt;or writing custom scripts to handle specific logic&lt;/SPAN&gt;&lt;SPAN&gt;. SAP Integration Suite embeds AI to streamline this process and help developers move faster with greater confidence.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/creating-integration-flow" target="_blank" rel="noopener noreferrer"&gt;&lt;STRONG&gt;iFlow Creation&lt;/STRONG&gt;&lt;/A&gt;&lt;BR /&gt;&lt;FONT color="#000000"&gt;Developers can now generate integration flows simply by describing the scenario in natural language. This generative AI capability interprets the intent, assembles a draft iFlow with relevant flow steps, and gives developers a strong starting point, and significantly accelerating the design phase. Future enhancements are expected to include automatic generation of mappings, scripts, and other artifacts to further streamline the process. Check&lt;/FONT&gt; &lt;A href="https://roadmaps.sap.com/board?range=2025Q1-2026Q3&amp;amp;PRODUCT=000D3A47875C1EDB98A8A910864AC24B&amp;amp;FT=AI&amp;amp;FT=GEN_AI&amp;amp;FT=INTEGRATION" target="_self" rel="noopener noreferrer"&gt;the roadmap&lt;/A&gt; &lt;FONT color="#000000"&gt;for new updates.&lt;/FONT&gt;&amp;nbsp;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Elaine_w_0-1756159016396.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304854i72C2DF8534B030E4/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Elaine_w_0-1756159016396.png" alt="Elaine_w_0-1756159016396.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;U&gt;&lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/generative-ai-based-script-optimization/ba-p/13970403" target="_blank"&gt;Script Optimization&lt;/A&gt;&lt;/U&gt;&lt;/STRONG&gt;&lt;BR /&gt;&lt;FONT color="#000000"&gt;Generative AI in SAP Integration Suite can help developers refine Groovy and JavaScript scripts by analyzing code in real time and suggesting best-practice optimizations. These recommendations reduce the need for manual tuning, streamline the coding process and help maintain high performance and quality from the outset.&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/integration-advisor" target="_blank" rel="noopener noreferrer"&gt;&lt;STRONG&gt;Integration Advisor&lt;/STRONG&gt;&lt;/A&gt;&lt;BR /&gt;&lt;FONT color="#000000"&gt;Integration Suite is one of the first iPaaS to embed AI into capabilities for supporting B2B scenarios. Integration Advisor uses a machine learning-based, global knowledge pool to propose mappings between source and target structures. By learning from industry standards and past implementations, it dramatically reduces the time and effort required to configure B2B and A2A integrations, especially in complex message transformation scenarios.&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/sap-cloud-integration-flow-step-recommendations/ba-p/13474550" target="_blank"&gt;&lt;STRONG&gt;Flow Step Recommendations&lt;/STRONG&gt;&lt;/A&gt;&lt;BR /&gt;&lt;FONT color="#000000"&gt;When developers build integration flows, AI recommends the next logical flow step, such as a Groovy script or End Message, based on usage patterns. This intelligent guidance accelerates the flow creation process, minimizes trial-and-error, and supports consistent design quality across teams.&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;Together, these capabilities significantly reduce repetitive tasks, speed up development, and help teams deliver high-quality integrations more efficiently, regardless of their experience level.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;H3 id="toc-hId-1278303594"&gt;&lt;FONT size="4" color="#000000"&gt;&lt;U&gt;&lt;STRONG&gt;Enhance Operational Excellence&amp;nbsp;&lt;/STRONG&gt;&lt;/U&gt;&lt;/FONT&gt;&lt;/H3&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;Operational reliability is critical for scalable, enterprise-grade integration. SAP Integration Suite embeds AI to help teams proactively monitor, maintain, and optimize their integration landscapes, reducing manual troubleshooting and improving long-term performance.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/integration-blog-posts/api-anomaly-detection-in-sap-integration-suite/ba-p/13726636" target="_blank"&gt;&lt;STRONG&gt;&lt;SPAN&gt;API Anomaly Detection&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/A&gt;&lt;SPAN&gt;&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;Leveraging machine learning, the platform continuously monitors integration flows and APIs to detect unusual patterns, such as latency spikes, increased error rates, or unexpected traffic surges. This helps teams identify and address issues before they impact business processes, improving response time and reducing downtime.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="anomalydetection.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304139i2D08AB462C650953/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="anomalydetection.png" alt="anomalydetection.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/integration-blog-posts/leveraging-api-traffic-predictions-in-sap-integration-suite/ba-p/14012084" target="_blank"&gt;&lt;STRONG&gt;API Volume Prediction&lt;/STRONG&gt;&lt;/A&gt;&lt;BR /&gt;&lt;FONT color="#000000"&gt;AI models analyze historical usage patterns to forecast, providing two distinct insights: one on historical usage trends and the other on predicted future volumes. The dual view helps developers and operations teams stay ahead of peak loads and avoid capacity-related disruptions, ensuring both long-term planning and real-time operational awareness.&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/generative-ai-based-script-optimization/ba-p/13970403" target="_blank"&gt;&lt;STRONG&gt;Script Optimization&lt;/STRONG&gt;&lt;/A&gt;&lt;BR /&gt;&lt;FONT color="#000000"&gt;Generative AI analyzes custom Groovy or JavaScript scripts used in integration flows, identifying potential performance bottlenecks or inefficiencies. It then recommends optimized versions of the code, enabling developers to improve execution quality without deep manual debugging or rewriting.&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;By embedding these intelligent capabilities, SAP Integration Suite supports a more proactive, data-driven approach to integration operations, allowing teams to deliver higher reliability with less overhead.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;H2 id="toc-hId-952707370"&gt;&lt;FONT color="#000000"&gt;&lt;STRONG&gt;&lt;SPAN&gt;Integration Suite for AI: Enabling the Next Generation of Intelligent Automation&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/H2&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;As the enterprise landscape evolves, agentic AI is emerging as a new class of autonomous systems that can reason, interact, and execute tasks on behalf of users. This shift is driving demand for more adaptable and intelligent integration backbones. To function effectively, these AI agents must be able to connect with enterprise systems, orchestrate business logic, access data, and execute workflows securely and reliably. This is where SAP Integration Suite becomes essential. It not only embeds AI to optimize development and operations, but also plays a foundational role in enabling agentic AI by providing the connective fabric that links intelligent agents with business applications and services.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;Across the industry, we‚Äôre seeing a growing push toward agent-centric automation, from AI copilots to autonomous digital workers, and integration is the linchpin that determines whether these agents can truly act in context. SAP Integration Suite helps enterprises bridge this gap with built-in capabilities that simplify how AI agents discover, consume, and govern enterprise integrations.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;Here are two ways it already supports this shift:&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/ai-adapter-for-sap-integration-suite/ba-p/14175843" target="_blank"&gt;&lt;STRONG&gt;AI Adapter&lt;/STRONG&gt;&lt;/A&gt;&lt;BR /&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;The AI Adapter enables seamless communication between SAP Integration Suite and &lt;/SPAN&gt;&lt;SPAN&gt;generative AI services, provided by &lt;/SPAN&gt;&lt;SPAN&gt;SAP‚Äôs AI Core or third-party providers like OpenAI. With minimal configuration, developers can embed AI capabilities, such as text generation, summarization, or classification, directly into integration flows.&amp;nbsp;&lt;/SPAN&gt;This makes it easier to enrich payloads with contextual insights, automate decision logic, and integrate AI-driven functionality within a governed framework. By removing the need for custom scripting or API handling, the AI Adapter boosts developer efficiency and expands the scope for advanced AI-powered use cases&lt;SPAN&gt;.&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;STRONG&gt;&lt;A href="https://api.sap.com/integrations/discoverintegrations" target="_blank" rel="noopener noreferrer"&gt;AI-Powered Content Recommendations in Business Accelerator Hub&lt;/A&gt; &lt;/STRONG&gt;&lt;/SPAN&gt;&lt;BR /&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;To help agents and developers access the right integration assets quickly, the SAP Business Accelerator Hub &lt;/SPAN&gt;features Joule &lt;SPAN&gt;for natural language search. Instead of browsing manually, users (or agents in the future) can ask questions like ‚ÄúHow do I connect SAP S/4HANA to Salesforce?‚Äù and receive tailored recommendations across integration flows, APIs, and templates.&amp;nbsp;&lt;/SPAN&gt;This AI-driven discovery process reduces time to integration and enhances reusability, which is the key requirement for agent-based automation where responsiveness and adaptability are critical.&lt;/FONT&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Elaine_w_2-1755899230088.png" style="width: 928px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/304138iE28D775208063670/image-dimensions/928x568/is-moderation-mode/true?v=v2" width="928" height="568" role="button" title="Elaine_w_2-1755899230088.png" alt="Elaine_w_2-1755899230088.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H2 id="toc-hId-756193865"&gt;&amp;nbsp;&lt;/H2&gt;&lt;H2 id="toc-hId-559680360"&gt;&lt;FONT size="5" color="#000000"&gt;&lt;STRONG&gt;&lt;SPAN&gt;Where We‚Äôre Heading&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/H2&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;The evolution of AI in SAP Integration Suite is accelerating, expanding beyond foundational productivity and monitoring features into more adaptive, intelligent, and autonomous integration experiences.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;On the embedded AI front, we‚Äôre advancing how integrations are designed, optimized, and managed. Expect more powerful capabilities for automating integration development and API operations, along with intelligent migration from legacy systems like SAP Process Orchestration. These innovations are designed to further boost developer efficiency, reduce operational overhead, and &lt;/SPAN&gt;&lt;SPAN&gt;reduce time to cloud&lt;/SPAN&gt;&lt;SPAN&gt;.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;At the same time, SAP Integration Suite is evolving to support agent-driven automation. As&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;part of this direction, we plan to enhance the API Management to allow AI systems to interact with enterprise tools and data. This will enable more dynamic, context-aware automation, built on a foundation of governance, scalability and future readiness.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT color="#000000"&gt;&lt;SPAN&gt;In the upcoming blogs, we‚Äôll explore each of the two directions in depth, highlighting real-world use cases, customer stories, and innovations that are redefining integration in the era of AI.&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/integration-blog-posts/realizing-ai-s-potential-in-and-through-sap-integration-suite/ba-p/14193578"/>
    <published>2025-08-29T12:23:42.890000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/integration-blog-posts/new-feature-for-the-pipeline-for-cloud-integration-custom-preprocessing/ba-p/14199571</id>
    <title>New feature for the Pipeline for Cloud Integration: custom preprocessing exit</title>
    <updated>2025-08-29T16:07:46.101000+02:00</updated>
    <author>
      <name>alex_bundschuh</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/45178</uri>
    </author>
    <content>&lt;P&gt;As mentioned in my last blog post &lt;A class="" href="https://community.sap.com/t5/integration-blog-posts/new-integration-packages-for-the-pipeline-for-cloud-integration/ba-p/14175339" target="_blank"&gt;New integration packages for the Pipeline for Cloud Integration&lt;/A&gt;, we have deprecated the previous package&amp;nbsp;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://hub.sap.com/package/PIPipelineGenericIntegrationFlows/overview" target="_blank" rel="noopener noreferrer"&gt;Process Integration Pipeline - Generic Integration Flows &amp;amp; Templates&lt;/A&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;and have shipped four new packages replacing the deprecated package for supporting the Pipeline for Cloud Integration. You will notice that the previous package has the label [DEPRECATED] in its name now. No worries, you can still run the old package in a transition phase, if you run the latest update you will notice that just the name has been changed. But we encourage you to switch to the new packages, see &lt;A href="https://help.sap.com/docs/migration-guide-po/migration-guide-for-sap-process-orchestration/pipelines" target="_blank" rel="noopener noreferrer"&gt;Pipelines&lt;/A&gt;&amp;nbsp;about how to proceed.&lt;/P&gt;&lt;P&gt;One more reason for switching to the new packages, besides the higher flexibility for setting up different pipelines, is that from now on we ship new features in the new packages only. One of the new features that we have lately shipped is the &lt;STRONG&gt;support for custom preprocessing&lt;/STRONG&gt;. You have the option to&amp;nbsp;&lt;SPAN&gt;call a custom exit integration flow without having to edit the provided generic flows. To do so, you must implement a separate integration flow that can be called at the very beginning of each generic integration flow. See &lt;A href="https://help.sap.com/docs/migration-guide-po/migration-guide-for-sap-process-orchestration/customizing-pipeline-concept#custom-preprocessing-exit" target="_blank" rel="noopener noreferrer"&gt;Custom Preprocessing Exit&lt;/A&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Let me show you how to configure the custom preprocessing. You have two options, either configure it globally, which means that the custom exit integration flow is called for all of your integration scenarios, or configure it scenario-specific. You can even combine both options, having one global custom exit which is applied across all scenarios and in addition calling scenario-specific exit flows for particular scenarios only.&lt;/SPAN&gt;&lt;/P&gt;&lt;H2 id="toc-hId-1738940129"&gt;&lt;SPAN&gt;Global setting&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;To enable custom preprocessing globally, you need to configure each generic integration flow that should call the custom preprocessing flow as follows:&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In the configuration, change the value of the parameter &lt;STRONG&gt;CustomXPreGlobal_Enabled&lt;/STRONG&gt; from &lt;EM&gt;false&lt;/EM&gt; (which is the default) to &lt;EM&gt;true&lt;/EM&gt;. Furthermore, maintain the ProcessDirect endpoint of your custom exit integration flow in the parameter &lt;STRONG&gt;CustomXPreGlobal_Endpoint&lt;/STRONG&gt;, by default the value is&amp;nbsp;&lt;EM&gt;/pip/custom/preProcessing/global&lt;/EM&gt;. You can keep it or change it to your preference. You may then create one custom integration flow for each generic integration flow of the pipeline or use one single&amp;nbsp;custom integration flow across all pipeline steps depending on your requirements. See also below.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Exit Global Setting.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/306607i0772911C94656545/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Exit Global Setting.png" alt="Exit Global Setting.png" /&gt;&lt;/span&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;H2 id="toc-hId-1542426624"&gt;&lt;SPAN&gt;Scenario-specific setting&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;For scenario-specific configuration, you can define for which pipeline steps the custom exit integration flow should be called. For this, you need to add the corresponding string parameters to the scenario in the Partner Directory&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;for which the custom preprocessing should be enabled.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Create a string parameter&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;&lt;STRONG&gt;CustomXPreEnabled&lt;/STRONG&gt;&amp;nbsp;where &lt;/SPAN&gt;&lt;SPAN&gt;you define the list of pipeline steps which should call the exit flow separated by pipe.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In our example in the screenshot below, we enable custom preprocessing for all pipeline steps:&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;01 stands for&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;either the generic XI inbound processing or the generic IDoc inbound processing&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;02 corresponds to either the generic inbound processing flow or the generic integrated messaging runtime&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;04 corresponds to the generic receiver determination flow&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;05 corresponds to the generic interface determination flow&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;06 corresponds to the generic outbound processing flow&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;If you run through the integrated messaging runtime, which is our recommended pipeline anyway, only step numbers 01, 02, and 06 are relevant. If you only like to run the custom exit flow for the&amp;nbsp;integrated messaging runtime and the&amp;nbsp;generic outbound processing flow for instance, then set the value to 02|06. I think you get the point.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;Furthermore, create a string parameter&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;CustomXPreEndpoint&lt;/SPAN&gt;&lt;/STRONG&gt;, which points to the ProcessDirect endpoint of your custom exit integration flow. Other than for the global setting, here we only support one custom integration flow across all pipeline steps to minimize the configuration effort, but you can have a separate&amp;nbsp;custom integration flow for each scenario. See how we are able to implement pipeline step specific logic below.&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Exit Scenario-specific Setting.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/306610i10FD7B30905DC99C/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Exit Scenario-specific Setting.png" alt="Exit Scenario-specific Setting.png" /&gt;&lt;/span&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Because we only have one&amp;nbsp;custom integration flow for each scenario, we pass the header &lt;STRONG&gt;customXPipelineStep&lt;/STRONG&gt; from the generic flows to the custom flow. With this, you have the option to implement pipeline step specific logic based on this very header. You can use a copy of the template &lt;A href="https://hub.sap.com/integrationflow/com.sap.integration.cloud.pipeline.v2.template.custom.exit" target="_blank" rel="noopener noreferrer"&gt;Pipeline v2 Template - Custom Exit&lt;/A&gt; to model your custom flow. It contains a router with routes for all pipeline steps including corresponding router conditions. To ensure that the header value is present in the custom flow, the header is part of the allowed headers settings. Furthermore, the template adds the pipeline step number to the custom header properties so that you have full transparency in the message monitor about which pipeline step called the exit flow.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Exit Scenario-specific flow.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/306611iCDCD9D819B47CD55/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Exit Scenario-specific flow.png" alt="Exit Scenario-specific flow.png" /&gt;&lt;/span&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;From what we heard from customers, potential use cases could be to implement additional external or internal logging capabilities or to stop certain messages from sending to the receiver systems based on some conditions, e.g. maintained in the Partner Directory. So, regardless of your use case, I think with this we have increased the flexibility of the pipeline for Cloud Integration.&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/integration-blog-posts/new-feature-for-the-pipeline-for-cloud-integration-custom-preprocessing/ba-p/14199571"/>
    <published>2025-08-29T16:07:46.101000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/integration-blog-posts/new-templates-for-the-pipeline-for-cloud-integration-enhancing-the-custom/ba-p/14199651</id>
    <title>New templates for the Pipeline for Cloud Integration: enhancing the custom receiver determination</title>
    <updated>2025-08-29T17:49:35.867000+02:00</updated>
    <author>
      <name>alex_bundschuh</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/45178</uri>
    </author>
    <content>&lt;P&gt;As mentioned in one of my last blog post &lt;A class="" href="https://community.sap.com/t5/integration-blog-posts/new-integration-packages-for-the-pipeline-for-cloud-integration/ba-p/14175339" target="_blank"&gt;New integration packages for the Pipeline for Cloud Integration&lt;/A&gt;, we have added two new templates in one of our new integration packages, so actually the &lt;A href="https://hub.sap.com/package/CloudIntegrationPipelineTemplates/integrationflow" target="_blank" rel="noopener noreferrer"&gt;Cloud Integration Pipeline - Templates&lt;/A&gt; package where we ship templates for the scenario-specific integration flows and custom exits to support the Pipeline for Cloud Integration.&lt;/P&gt;&lt;P&gt;Both &lt;STRONG&gt;new templates&lt;/STRONG&gt; can be used to implement an alternative approach for &lt;STRONG&gt;custom receiver and receiver interface determination&lt;/STRONG&gt;. Depending on your specific requirements or boundary conditions, you can call a custom integration flow to determine the list of receivers and interfaces instead of&amp;nbsp;&lt;SPAN&gt;the default of running an XSLT mapping stored in the Partner Directory.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Custom receiver and receiver interface determination has been supported before with the more generic template&amp;nbsp;&lt;SPAN&gt;&lt;A href="https://hub.sap.com/integrationflow/com.sap.integration.cloud.pipeline.v2.template.step04.custom.receiver.determination" target="_blank" rel="noopener noreferrer"&gt;Pipeline v2 Template Step04 - Custom Receiver Determination&lt;/A&gt;. Now, we have added the following two templates, namely:&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;The template &lt;SPAN&gt;&lt;A href="https://hub.sap.com/integrationflow/com.sap.integration.cloud.pipeline.v2.template.step04.custom.receiver.determination.xrd" target="_blank" rel="noopener noreferrer"&gt;Pipeline v2 Template Step04 - Custom Receiver and Interface Determination via Extended Receiver Determination&lt;/A&gt;&amp;nbsp;&lt;/SPAN&gt;has been added for an option to implement custom receiver determination based on a message mapping and by maintaining exchange properties for the interface determination. A similar approach is applied in the SAP Process Orchestration to Cloud Integration migration tool when selecting the &lt;STRONG&gt;Pipeline migration approach&lt;/STRONG&gt;.&lt;/LI&gt;&lt;LI&gt;The template&amp;nbsp;&lt;SPAN&gt;&lt;A href="https://hub.sap.com/integrationflow/com.sap.integration.cloud.pipeline.v2.template.step04.custom.receiver.determination.scripts" target="_blank" rel="noopener noreferrer"&gt;Pipeline v2 Template Step04 - Custom Receiver and Interface Determination via Exchange Properties&lt;/A&gt;&lt;/SPAN&gt;&amp;nbsp;allows you to implement&amp;nbsp;custom receiver and interface determination by maintaining exchange properties. A similar approach is applied in the SAP Process Orchestration to Cloud Integration migration tool when selecting the &lt;STRONG&gt;standard migration approach&lt;/STRONG&gt; for the Recipient List and Content-Based-Router patterns.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;In the following, I will show you how the two new approaches can be exemplarily configured.&lt;/SPAN&gt;&lt;/P&gt;&lt;H2 id="toc-hId-1738941028"&gt;Option using Mapping and Exchange Properties&lt;/H2&gt;&lt;P class=""&gt;In this option, the custom receiver determination is based on a message mapping resulting in an XML message containing the list of receivers. By maintaining corresponding exchange properties and running a Groovy script, the interfaces are added to the beforehand created XML message.&lt;/P&gt;&lt;DIV class=""&gt;&lt;P&gt;&lt;STRONG&gt;Note&lt;/STRONG&gt; that this option can be used as alternative to the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A class="" href="https://help.sap.com/docs/migration-guide-po/migration-guide-for-sap-process-orchestration/special-cases?locale=en-US&amp;amp;state=PRODUCTION&amp;amp;version=SHIP#loio1606af9b55bf4391bea01d2f7ee112af__section_kjy_1jf_j1c" target="_blank" rel="noopener noreferrer"&gt;Reuse Extended Receiver Determination&lt;/A&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;in case you want to migrate an integration scenario on SAP Process Orchestration that already uses the extended receiver determination. Other than the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN class=""&gt;Reuse Extended Receiver Determination&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;option, this option results into a combined receiver and interface XML message and hence is also supported in the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A class="" title="The asynchronous integrated messaging runtime combines inbound conversion, receiver determination, and interface determination in one single pipeline step." href="https://help.sap.com/docs/migration-guide-po/migration-guide-for-sap-process-orchestration/integrated-messaging-runtime-asynchronous?locale=en-US&amp;amp;state=PRODUCTION&amp;amp;version=SHIP" target="_blank" rel="noopener noreferrer"&gt;integrated messaging runtime&lt;/A&gt;.&lt;/P&gt;&lt;P&gt;The custom integration flow looks as follows: In a content modifier step, you have to configure the parameters and XPaths for the interface determination. Then you run your message mapping to determine the list of receivers. This results into an XML message with all receivers that the message should sent to. By the way, you need to define the configuration before you run the message mapping because the message mapping will overwrite your payload which is needed in the content modifier. Finally, you run a script to add the receiver interfaces to the receiver nodes based on your configuration.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="XRD Option - Integration Flow.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/306714iA1AB3F351D06CACC/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="XRD Option - Integration Flow.png" alt="XRD Option - Integration Flow.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;/DIV&gt;&lt;P class=""&gt;In the content modifier, for each potential receiver &amp;lt;Receiver name&amp;gt; from the Receivers XML and for each condition for the interface determination with index &amp;lt;Index number&amp;gt; starting from 1 on, you need to maintain the following exchange parameters adhering to the naming convention:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;SAP-IFDET-&amp;lt;Receiver name&amp;gt;~IFIndex&amp;lt;Index number&amp;gt;&lt;/STRONG&gt; where you specify the XPath condition for the interface condition&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;SAP-IFENDPT-&amp;lt;Receiver name&amp;gt;~IFIndex&amp;lt;Index number&amp;gt;&lt;/STRONG&gt; where you specify the ProcessDirect endpoint of the corresponding scenario-specific outbound flow&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;SAP-IFNAME-&amp;lt;Receiver name&amp;gt;~IFIndex&amp;lt;Index number&amp;gt;&lt;/STRONG&gt;&amp;nbsp;where you specify the receiver interface name (this is an optional parameter)&lt;/LI&gt;&lt;/UL&gt;&lt;P class=""&gt;&lt;SPAN&gt;To specify the behavior for the case that the receivers XML message doesn't contain any node and no receiver could be determined, create the following parameters:&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;STRONG&gt;SAP-NOREC&lt;/STRONG&gt;: could be either&amp;nbsp;&lt;SPAN class=""&gt;Ignore&lt;/SPAN&gt;,&amp;nbsp;&lt;SPAN class=""&gt;Error&lt;/SPAN&gt;, or&amp;nbsp;&lt;SPAN class=""&gt;Default&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;STRONG&gt;SAP-NOREC-Default&lt;/STRONG&gt;: in case of Default, specify default receiver name&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P class=""&gt;&lt;SPAN&gt;If the default receiver is not in the list of already specified receivers, you need to create the corresponding parameters&amp;nbsp;&lt;STRONG&gt;SAP-IFDET-Default~IFIndex&amp;lt;Index number&amp;gt;&lt;/STRONG&gt;,&amp;nbsp;&lt;STRONG&gt;SAP-IFENDPT-Default~IFIndex&amp;lt;Index number&amp;gt;&lt;/STRONG&gt;, and&amp;nbsp;&lt;STRONG&gt;SAP-IFNAME-Default~IFIndex&amp;lt;Index number&amp;gt;&lt;/STRONG&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P class=""&gt;&lt;SPAN&gt;Here, an example of the configuration that the script uses to add the interfaces to the Receivers XML.&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;In our example, we have 3 receivers, each receiver has one interface only with actual no condition so we specify the XPath true(). The default type is Default and the default receiver is already configured, so no need to create the default receiver specific parameters.&lt;/SPAN&gt;&lt;/P&gt;&lt;P class=""&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="XRD Option - Content Modifier.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/306722i18A5CA476316D7F3/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="XRD Option - Content Modifier.png" alt="XRD Option - Content Modifier.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class=""&gt;Here, an example of a message mapping which builds the Receivers XML message with the list of potential receivers.&lt;/P&gt;&lt;P class=""&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="XRD Option - Mapping.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/306720i5F08475D63507E8F/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="XRD Option - Mapping.png" alt="XRD Option - Mapping.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class=""&gt;&amp;nbsp;&lt;/P&gt;&lt;P class=""&gt;&lt;SPAN&gt;The Groovy script&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;customInterfaceDeterminationViaXProperties&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;then adds the interfaces to the beforehand created XML message.&lt;/SPAN&gt;&lt;/P&gt;&lt;H2 id="toc-hId-1542427523"&gt;Option using Exchange Properties&lt;/H2&gt;&lt;P class=""&gt;In this option, you can implement a combined custom receiver and interface determination by maintaining exchange properties and running two Groovy scripts.&amp;nbsp;The first Groovy script&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;customReceiverDeterminationViaXProperties&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;creates an XML message containing the list of receivers based on the corresponding configuration parameters. The second Groovy script&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;customInterfaceDeterminationViaXProperties&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;adds the interfaces to the previously created XML message based on the corresponding configuration parameters.&lt;/P&gt;&lt;P class=""&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Config Option - Integration Flow.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/306738i1560A3BF581EE170/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Config Option - Integration Flow.png" alt="Config Option - Integration Flow.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class=""&gt;For the receiver and interface determination, you need to maintain the corresponding exchange properties in the&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;content modifier following the naming convention:&lt;/P&gt;&lt;P class=""&gt;&lt;SPAN&gt;For each receiver &amp;lt;Receiver name&amp;gt;, create the following exchange property:&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;SAP-DYNREC-&amp;lt;Receiver name&amp;gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&amp;nbsp;where you specify the XPath condition for the receiver determination&lt;/LI&gt;&lt;/UL&gt;&lt;P class=""&gt;&lt;SPAN&gt;The parameters for the interface determination are the same like above.&lt;/SPAN&gt;&lt;/P&gt;&lt;P class=""&gt;&lt;SPAN&gt;Here, an example of the configuration that the scripts use to create the combined receivers and interfaces XML. It's the same example like above, in addition to above we have added the XPaths for the receiver determinations.&lt;/SPAN&gt;&lt;/P&gt;&lt;P class=""&gt;&lt;SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Config Option - Content Modifier.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/306741iEC1BF9A42B24CA4A/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Config Option - Content Modifier.png" alt="Config Option - Content Modifier.png" /&gt;&lt;/span&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;For more details, see &lt;A href="https://help.sap.com/docs/migration-guide-po/migration-guide-for-sap-process-orchestration/customizing-pipeline-concept#custom-receiver-determination" target="_blank" rel="noopener noreferrer"&gt;Custom Receiver Determination&lt;/A&gt;.&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/integration-blog-posts/new-templates-for-the-pipeline-for-cloud-integration-enhancing-the-custom/ba-p/14199651"/>
    <published>2025-08-29T17:49:35.867000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/integration-blog-posts/taming-the-x12-856-message-in-sap-integration-advisor-a-step-by-step-guide/ba-p/14115410</id>
    <title>Taming the X12 856 message in SAP Integration Advisor: A Step-by-Step Guide</title>
    <updated>2025-09-01T09:37:29.204000+02:00</updated>
    <author>
      <name>stefan_boller</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/196798</uri>
    </author>
    <content>&lt;H1 id="toc-hId-1602348930"&gt;Introduction&lt;/H1&gt;&lt;P&gt;In customer support we often get requests how to handle X12 856&amp;nbsp;&lt;SPAN&gt;(Ship Notice/Manifest) &lt;/SPAN&gt;messages. In a &lt;A title="Blog post about pre-transformation" href="https://community.sap.com/t5/technology-blog-posts-by-sap/restoring-the-hierarchical-order-of-a-flattened-source-message-via-the-pre/ba-p/13553678" target="_blank"&gt;previous blog post&lt;/A&gt; we explained how we can handle X12 856 messages as source messages with the help of &lt;A title="Link to SAP Help about Pre-transformations in Integration Advisor" href="https://help.sap.com/docs/cloud-integration/sap-cloud-integration/pre-transformation-of-message-implementation-guideline?locale=en-US" target="_blank" rel="noopener noreferrer"&gt;pre-transformations&lt;/A&gt;. In this article we show the reverse scenario where the X12 856 message is the target message. The biggest challenge there is the correct ordering of the HL segments according to the packaging hierarchy and the determination of their hierarchical ID numbers. Currently, this can only done with a custom post-processing XSLT script which is explained in details.&lt;/P&gt;&lt;H1 id="toc-hId-1405835425"&gt;Scenario&lt;/H1&gt;&lt;P&gt;We use the reverse scenario of &lt;A title="Pretransformation Blog Post" href="https://community.sap.com/t5/technology-blog-posts-by-sap/restoring-the-hierarchical-order-of-a-flattened-source-message-via-the-pre/ba-p/13553678" target="_blank"&gt;our earlier blog post&lt;/A&gt;: Assume you have a source MIG based on a cXML ShipNoticeRequest which shall be mapped to an X12 856 based target MIG. Let's start with the source MIG:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Structure of source MIG (cXML ShipNoticeRequest)" style="width: 870px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/283998i65A4961FE900D18D/image-dimensions/870x1393?v=v2" width="870" height="1393" role="button" title="stefan_boller_0-1751975095537.png" alt="Structure of source MIG (cXML ShipNoticeRequest)" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;Structure of source MIG (cXML ShipNoticeRequest)&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;There is not so much to mention. The important parts for our scenario are the ShipNoticePortion group, which corresponds to the orders, the ShipNoticeItem group, which contains the line items of the shipment, and the Packaging group, which describes the packing for each item. These are the parts which needs to be mapped to the different hierarchy levels of the HL segments in the target X12 856 message, which looks like the following:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Structure of target MIG (cXML ShipNoticeRequest)" style="width: 743px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/284003i94D6AA9C873A42B0/image-dimensions/743x2028?v=v2" width="743" height="2028" role="button" title="stefan_boller_1-1751975951782.png" alt="Structure of target MIG (cXML ShipNoticeRequest)" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;Structure of target MIG (cXML ShipNoticeRequest)&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Note that we used here Integration Advisor's qualification feature to distinguish the different hierarchy levels: We have in total four duplications of the HL segment, each is qualified by a different value of element 735 (Hierarchical Level Code): S for shipment (corresponds to the root of the source cXML message), O for order (corresponds to the ShipNoticePortion of the source), P for pack (corresponds to Package), and I for item (corresponds to ShipNoticeItem). But if we exactly do these mappings:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;ShipNoticeRequest -&amp;gt; HL[S]&lt;/LI&gt;&lt;LI&gt;ShipNoticePortion -&amp;gt; HL[O]&lt;/LI&gt;&lt;LI&gt;Package -&amp;gt; HL[P]&lt;/LI&gt;&lt;LI&gt;ShipNoticeItem -&amp;gt; HL[I],&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="First naive mapping attempt" style="width: 1215px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/284027iC1B29D793371C638/image-dimensions/1215x486?v=v2" width="1215" height="486" role="button" title="stefan_boller_0-1751979499025.png" alt="First naive mapping attempt" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;First naive mapping attempt&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;and simulate it with the attached payload, we&amp;nbsp;see the following issues in the resulting payload:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;The hierarchical ID number (field 628) is missing.&lt;/LI&gt;&lt;LI&gt;the parent hierarchical ID number (field 734) is missing.&lt;/LI&gt;&lt;LI&gt;The HL groups are sorted according to their type and not according to their hierarchical order.&lt;/LI&gt;&lt;LI&gt;The packages are duplicated, we see four instances of them, although the source cXML message contains only three of them:&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Actual payload after naive mapping" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/285063iB359659D3B3C3F53/image-size/large?v=v2&amp;amp;px=999" role="button" title="stefan_boller_0-1752146173716.png" alt="Actual payload after naive mapping" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;Actual payload after naive mapping&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;The expected payload should look something like this:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Expected target payload" style="width: 973px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/285066iBC2A64761B521BD9/image-dimensions/973x604?v=v2" width="973" height="604" role="button" title="stefan_boller_1-1752146243962.png" alt="Expected target payload" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;Expected target payload&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Here each child element is below its corresponding parent element, has a unique continuous number, and a reference to its parent.&lt;/P&gt;&lt;H1 id="toc-hId-1209321920"&gt;Solution&lt;/H1&gt;&lt;P&gt;This mapping challenge unfortunately can't solved with Integration Advisor's core capabilities, however, it's still possible to use Integration Advisor for the main mapping and use an additional XSLT script to generate the expected output. But before we explain the XSLT script, we need to add some additional mappings to the naive mapping explained above so that the XSLT script can do its work:&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Create a group-to-leaf mapping (see also&amp;nbsp;&lt;A title="Group to Leaf Mapping" href="https://help.sap.com/docs/cloud-integration/sap-cloud-integration/mapping-source-and-target-nodes#mapping-cardinality" target="_blank" rel="noopener noreferrer"&gt;Group to Leaf Mapping&lt;/A&gt;)&amp;nbsp; from ShipNoticePortion to HL[735=O]/HL/628 with the following XSLT function:&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;xsl:sequence select="$nodes_in/ShipNoticePortion/@position"/&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P class="lia-indent-padding-left-90px" style="padding-left : 90px;"&gt;Note: This is not the final content of the 628 field, but serves as a temporary ID to distinguish the different orders (ShipNoticePortions) in the intermediate result. You could also use other unique IDs of the order like the orderID. Here the ID is just the position of the order in the list of all ShipNoticePortions.&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Create another group-to-leaf mapping from ShipNoticePortion to&amp;nbsp;HL[735=P]/HL/734 with the same XSLT function:&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;xsl:sequence select="$nodes_in/ShipNoticePortion/@position"/&amp;gt;‚Äã&lt;/code&gt;&lt;/pre&gt;&lt;P class="lia-indent-padding-left-90px" style="padding-left : 90px;"&gt;If you used another ID in step 1 you have to use the same here as well. Please note that this mapping line goes to one level deeper than the first one (to HL[735=P] instead to HL[735=O]. And the target node is 734 instead of 628.&lt;/P&gt;&lt;UL&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;Create a mapping from ShipNoticePortion/ShipNoticeItem/Packaging/ShippingContainerSerialCode to&amp;nbsp;HL[735=P]/HL/628. Like in step 1 this is needed to uniquely identify the packages and is only a temporary ID, which later will be replaced by the final value.&lt;/LI&gt;&lt;LI&gt;Map the same field (ShipNoticePortion/ShipNoticeItem/Packaging/ShippingContainerSerialCode) also to&amp;nbsp;HL[735=I]/HL/734 (again one level deeper and a different target field).&lt;/LI&gt;&lt;LI&gt;And finally map the nodes ShipNoticePortion/OrderReference/orderID and ShipNoticePortion/ShipNoticeItem/lineNumber to&amp;nbsp;HL[735=I]/HL/628. Again we need a unique ID for each item, which is the concatenation of orderID and lineNumber in this case. Again also other alternatives are possible.&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;These mapping lines are only those relevant for the construction of the right target structure. Obviously you need to add the mapping lines for the right content, which is omitted here to reduce the complexity.&lt;/P&gt;&lt;P&gt;With these mappings we get a target payload like the previous one, but with the small difference that each hierarchy item now has an identifier, which could be used in a post-processing XSLT script to sort them according to their hierarchy as well as to eliminate duplicates, and a reference to its parent item:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Target payload after IA mapping" style="width: 611px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305529i478EF4DA8FE9C422/image-dimensions/611x2468/is-moderation-mode/true?v=v2" width="611" height="2468" role="button" title="stefan_boller_2-1756297299130.png" alt="Target payload after IA mapping" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;Target payload after IA mapping&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Here we show the XML version of the target payload, because that is what is created by the XSLT mapping generated by the Integration Advisor. Although it's possible to download the flat file version in Integration Advisor, the final conversion from XSLT to flat file is done by the corresponding &lt;A title="EDI to XML converter in SAP Help" href="https://help.sap.com/docs/cloud-integration/sap-cloud-integration/define-xml-to-edi-converter?locale=en-US" target="_blank" rel="noopener noreferrer"&gt;EDI flowstep&lt;/A&gt; of Cloud Integration. And that's why we can use an additional XSLT step in our Cloud Integration pipeline (or in the custom post-processing Integration Flow, if you use TPM) to transform it to the right structure.&amp;nbsp;&lt;/P&gt;&lt;P&gt;This can be done with the &lt;A title="Post-processing XSLT" href="https://community.sap.com/khhcw49343/attachments/khhcw49343/integrationblog-board/1871.13/2/PostProcessingX12_856.xml" target="_self"&gt;attached XSLT&lt;/A&gt; (note, that you have to change the namespace prefix of the root node to xsl to make it work, due to some security restrictions, I couldn't upload the correct file). If you apply it to the previous result you get this XML:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="stefan_boller_0-1756303609706.png" style="width: 579px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/305584i57690BB433C7CF36/image-dimensions/579x2641/is-moderation-mode/true?v=v2" width="579" height="2641" role="button" title="stefan_boller_0-1756303609706.png" alt="stefan_boller_0-1756303609706.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;As you can see the different hierarchy levels are in the right order, each children is under its corresponding parent and has a continuous number, and also the duplicate is eliminated. Furthermore, each element has the right reference to its parent in the D_734 field. If you convert it to an EDI flat file, you will get exactly the payload shown at the beginning of this article.&lt;/P&gt;&lt;P&gt;Note also that the script can be applied to the IA version of the payload as well as to the Cloud Integration version. If you use an Integration Flow like &lt;A title="Link to SOAP to X12 Integration Flow Template" href="https://api.sap.com/integrationflow/SAP_SOAP_to_X12_-_Outbound" target="_blank" rel="noopener noreferrer"&gt;this,&amp;nbsp;&lt;/A&gt;this means that you can add it before or after the "X12 Post-processing" step. It will work in the same way in both cases. If you use TPM, the optional post-processing in the interchange step (see point 37 in &lt;A title="Link to SAP Help for Trading Partner Agreement" href="https://help.sap.com/docs/integration-suite/sap-integration-suite/creating-agreement-latest-format?locale=en-US" target="_blank" rel="noopener noreferrer"&gt;Trading Partner Agreement&amp;nbsp;&lt;/A&gt;and &lt;A title="Link to SAP Help about ProcessDirect Adapter in context of TPM" href="https://help.sap.com/docs/integration-suite/sap-integration-suite/understanding-processdirect-adapter?locale=en-US" target="_blank" rel="noopener noreferrer"&gt;Understanding the ProcessDirect Adapter&lt;/A&gt;) always works on the Cloud Integration version of the payload. But also there the XSLT script is usable. You need to build an Integration Flow with a ProcessDirect Adapter as inbound channel. This Integration Flow needs only one XSLT mapping step which uses the XSLT script.&lt;/P&gt;&lt;H1 id="toc-hId-1012808415"&gt;Conclusion&lt;/H1&gt;&lt;P&gt;With the attached XSLT script you can now create a correct X12 856 message with Integration Advisor. It should work for most of the cases independent of the required hierarchy levels (and also some similar ones with small modifications). It neither depends on the exact source message, therefore it should be usable also for scenarios with other source messages. The only condition which needs to be fulfilled is that to each hierarchy item a unique identifier can be assigned which is mapped to the D_628 and D_734 fields as in our example. If you have similar scenarios for which this script does not work, let me know, maybe we can find a solution together. I would be happy to hear from you.&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/integration-blog-posts/taming-the-x12-856-message-in-sap-integration-advisor-a-step-by-step-guide/ba-p/14115410"/>
    <published>2025-09-01T09:37:29.204000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/joule-provisioning-with-sap-s-4hana-cloud-private-edition-using-cloud/ba-p/14202777</id>
    <title>Joule provisioning with SAP S/4HANA Cloud Private Edition using Cloud Integration Automation service</title>
    <updated>2025-09-01T10:57:08.090000+02:00</updated>
    <author>
      <name>abhyarthana</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/731998</uri>
    </author>
    <content>&lt;P&gt;We are happy to announce that Joule integration with SAP S/4HANA Cloud Private Edition is now available in Cloud Integration Automation service as one of the integration scenarios.&lt;/P&gt;&lt;P&gt;Joule, being the next generation AI copilot from SAP, it is important for SAP to make Joule provisioning and setup easy and automated for its customers. Joule is available for SAP S/4HANA Cloud Private Edition within &lt;A href="https://www.sap.com/products/erp/rise.html" target="_blank" rel="noopener noreferrer"&gt;RISE with SAP&lt;/A&gt;. The existing manual integration process is complex, time consuming and the whole integration process can take weeks, but thanks to the automation capabilities provided by the Cloud Integration Automation service, the Joule integration set up is now much simpler and faster, reduced to just days.&lt;/P&gt;&lt;P&gt;By leveraging the Cloud Integration Automation service (offered as a service within BTP) at no additional cost, setting up Joule in SAP S/4HANA Cloud Private Edition is now considerably faster, simpler, and more reliable. This service allows for the automation of number of integration steps, significantly reducing the overall integration effort for SAP customers.&lt;/P&gt;&lt;P&gt;Customer can leverage ready-to-use guided workflows, automations, and role-specific execution to simplify and accelerate the entire Joule integration.&lt;/P&gt;&lt;P&gt;&lt;U&gt;&lt;STRONG&gt;Involved Components&lt;/STRONG&gt;&lt;/U&gt;&lt;/P&gt;&lt;P&gt;The different component involved are&amp;nbsp;&lt;/P&gt;&lt;UL class="lia-list-style-type-disc"&gt;&lt;LI&gt;SAP BTP&lt;/LI&gt;&lt;LI&gt;SAP Cloud Connector&lt;/LI&gt;&lt;LI&gt;SAP S/4HANA PCE&lt;/LI&gt;&lt;LI&gt;SAP Cloud Identity Services&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screen Shot 1.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/307258i8DABEB52CF34AC68/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screen Shot 1.png" alt="Screen Shot 1.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Though the Joule integration process is complex, the Cloud Integration Automation service is ideally positioned to connect Joule with SAP S/4HANA Cloud Private Edition for these reasons:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Cloud Integration Automation service being an AI enabled task orchestration tool.&lt;/LI&gt;&lt;LI&gt;Out of the box standardized guided workflows and role-based execution.&lt;/LI&gt;&lt;LI&gt;Integrated parameter management&lt;/LI&gt;&lt;LI&gt;Hybrid approach, where in it can automate the steps and provide a documentation which cannot be automated.&lt;/LI&gt;&lt;LI&gt;Cloud Integration Automation service comes with no additional cost and the service is available in SAP BTP.&lt;/LI&gt;&lt;LI&gt;Cloud Integration Automation service can provide the system landscape information hence bringing greater visibility of the entire customer landscape&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screen Shot 2.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/307263i2084C84BC3F0B616/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screen Shot 2.png" alt="Screen Shot 2.png" /&gt;&lt;/span&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;The Joule integration with SAP S/4HANA Cloud Private Edition can be broadly classified into following:&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;1) SAP BTP Configuration&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Tasks:&lt;/STRONG&gt;&lt;/P&gt;&lt;TABLE width="594"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="413.611px" height="50px"&gt;&lt;P&gt;&lt;STRONG&gt;Task Name:&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="179.641px" height="50px"&gt;&lt;P&gt;&lt;STRONG&gt;Automated / Manual&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="413.611px" height="50px"&gt;&lt;P&gt;Creating new BTP sub account&lt;/P&gt;&lt;/TD&gt;&lt;TD width="179.641px" height="50px"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="413.611px" height="77px"&gt;&lt;P&gt;Adding the entitlements to the subaccount for Joule, Cloud Identity Service and Work Zone&lt;/P&gt;&lt;/TD&gt;&lt;TD width="179.641px" height="77px"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="413.611px" height="50px"&gt;&lt;P&gt;Enabling Cloud Foundry&lt;/P&gt;&lt;/TD&gt;&lt;TD width="179.641px" height="50px"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="413.611px" height="50px"&gt;&lt;P&gt;Establish trust with Cloud Identity Services&lt;/P&gt;&lt;/TD&gt;&lt;TD width="179.641px" height="50px"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="413.611px" height="77px"&gt;&lt;P&gt;Activate SAP Work Zone, Connectivity service and create service keys&lt;/P&gt;&lt;/TD&gt;&lt;TD width="179.641px" height="77px"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="413.611px" height="50px"&gt;&lt;P&gt;Activate Cloud Identity Service&lt;/P&gt;&lt;/TD&gt;&lt;TD width="179.641px" height="50px"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="413.611px" height="50px"&gt;&lt;P&gt;Disable IDP and Trust domain.&lt;/P&gt;&lt;/TD&gt;&lt;TD width="179.641px" height="50px"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;STRONG&gt;2)&amp;nbsp;&lt;/STRONG&gt;&lt;STRONG&gt;SAP Cloud Connector configuration&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Tasks:&lt;/STRONG&gt;&lt;/P&gt;&lt;TABLE width="594"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;&lt;STRONG&gt;Task Name&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;&lt;STRONG&gt;Automated / Manual&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Add subaccount in your SAP Cloud Connector&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Create mapping virtual to internal systems (HTTP)&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Create mapping virtual to internal systems (RFC)&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Add resource path for HTTP &amp;amp; RFC&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;STRONG&gt;3) BTP Destinations&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;STRONG&gt;Tasks:&lt;/STRONG&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;TABLE width="594"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;&lt;STRONG&gt;Task Name&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;&lt;STRONG&gt;Automated / Manual&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Create Work Zone design time destination&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Create Work Zone runtime destination&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Retrieving nomination via the SAP Cloud Connector&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Create Navigation Service&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;RFC destination for identity provisioning&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Navigational and transactional capabilities&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;STRONG&gt;4) SAP S/4HANA PCE&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;STRONG&gt;Tasks:&lt;/STRONG&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;TABLE width="594"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;&lt;STRONG&gt;Task Name&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;&lt;STRONG&gt;Automated / Manual&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Activate SICF service&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Add Role (I&lt;SPAN&gt;t works only for standard roles exposed by CDM&lt;/SPAN&gt;)&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Create catalog in Fiori launchpad designer&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Manual&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Create new role in role maintenance&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Manual&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Schedule jobs to expose contents&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Manual&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;STRONG&gt;5) Joule activation&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;STRONG&gt;Tasks:&lt;/STRONG&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;TABLE width="594"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;&lt;STRONG&gt;Task Name&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;&lt;STRONG&gt;Automated / Manual&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Run Booster from BTP cockpit&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Manual&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;STRONG&gt;6) SAP work zone configuration&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;STRONG&gt;Tasks:&lt;/STRONG&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;TABLE width="594"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;&lt;STRONG&gt;Task Name&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;&lt;STRONG&gt;Automated / Manual&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Create content provider&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Manual&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;STRONG&gt;7) SAP Cloud Identity services&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;STRONG&gt;Tasks:&lt;/STRONG&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;TABLE width="594"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;&lt;STRONG&gt;Task Name&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;&lt;STRONG&gt;Automated / Manual&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Trust the domain&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Setup source system&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Setup target system&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Automated&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="415"&gt;&lt;P&gt;Running the job&lt;/P&gt;&lt;/TD&gt;&lt;TD width="180"&gt;&lt;P&gt;Manual&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;STRONG&gt;&lt;U&gt;Joule Provisioning Scenario using Cloud Integration Automation service&lt;/U&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;To kickstart Joule integration for your SAP S/4HANA Cloud Private Edition, simply click on &lt;STRONG&gt;Joule Provisioning&lt;/STRONG&gt; scenario in the Cloud Integration Automation service as highlighted in the below screen shot.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Screen shot 3.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/307267iF9471425C8662A14/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="Screen shot 3.png" alt="Screen shot 3.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;To conclude, Cloud Integration Automation service with its automation and workflow capabilities not only made the Joule integration easy and automated but also helps in accelerating the Joule adoption in the private cloud space.&lt;/P&gt;&lt;P&gt;If you want to know more about the Cloud Integration Automation service find related links and blogs below.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;A href="https://help.sap.com/docs/cloud-integration-automation/user-guide/overview" target="_blank" rel="noopener noreferrer"&gt;What is Cloud Integration Automation Service? | SAP Help Portal&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/integration-of-custom-code-migration-app-to-erp-system-using-cloud/ba-p/14090205#M181069" target="_blank"&gt;Integration of Custom Code Migration app to ERP system using Cloud Integration Automation service&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/joule-for-sap-s-4hana-cloud-private-edition-a-comprehensive-setup-guide/ba-p/13786453" target="_blank"&gt;Joule for SAP S/4HANA Cloud Private Edition&lt;/A&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/joule-provisioning-with-sap-s-4hana-cloud-private-edition-using-cloud/ba-p/14202777"/>
    <published>2025-09-01T10:57:08.090000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/sap-integration-suite%E3%81%AEai-adapter%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9-vol2-%E5%9F%BA%E6%9C%AC%E7%B7%A8/ba-p/14203431</id>
    <title>SAP Integration Suite„ÅÆAI Adapter„ÅÆ‰Ωø„ÅÑÊñπ Vol2.Âü∫Êú¨Á∑®</title>
    <updated>2025-09-01T19:41:18.652000+02:00</updated>
    <author>
      <name>yasuyukiuno</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/557133</uri>
    </author>
    <content>&lt;P&gt;SAP Integration Suite„ÅÆAI„Ç¢„ÉÄ„Éó„Çø„Åå„Çà„ÅÜ„ÇÑ„Åè„É™„É™„Éº„Çπ„Åï„Çå„Åü„ÅÆ„ÅßË©¶„Åó„Å¶„Åø„Åæ„Åó„Åü„ÄÇ&lt;BR /&gt;„Åì„ÅÆË®ò‰∫ã„Åß„ÅØIntegration Suite AI„Ç¢„ÉÄ„Éó„Çø„Éº„ÅÆÂà©Áî®ÊñπÊ≥ï„Çí„Çπ„ÉÜ„ÉÉ„Éó„Éê„Ç§„Çπ„ÉÜ„ÉÉ„Éó„ÅßËß£Ë™¨„Åó„Åæ„Åô„ÄÇ&lt;BR /&gt;ÊúÄ„ÇÇÂü∫Êú¨ÁöÑ„Å™AI„Ç¢„ÉÄ„Éó„ÇøÂà©Áî®ÊñπÊ≥ï„ÅØ„ÄÅ&lt;A title="SAP Integration Suite„ÅÆAI Adapter„ÅÆ‰Ωø„ÅÑÊñπ Vol1.Âü∫Êú¨Á∑®" href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-integration-suite%E3%81%AEai-adapter%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9-vol1-%E5%9F%BA%E6%9C%AC%E7%B7%A8/ba-p/14181932" target="_blank"&gt;ÂâçÂõû„ÅÆË®ò‰∫ã&lt;/A&gt;„ÇíÂèÇËÄÉ„Å´„Åó„Å¶‰∏ã„Åï„ÅÑ„ÄÇ&lt;/P&gt;&lt;P&gt;Á¨¨2Âõû„ÅÆ„ÉÜ„Éº„Éû„ÅØ„ÄÅ„Äé„É™„ÇØ„Ç®„Çπ„Éà„Éö„Ç§„É≠„Éº„Éâ„ÇΩ„Éº„Çπ„ÇíExchange Body„ÅßÊåáÂÆö„Åó„Å¶„Åø„Çà„ÅÜ„Äè„Åß„Åô„ÄÇ&lt;BR /&gt;"Exchange Body"„Åß„ÅØ„ÄÅÁîüÊàêAI„ÅÆ„Éó„É≠„É≥„Éó„Éà„ÇíJSONÁîü„Éá„Éº„Çø„ÅßÊåáÂÆö„Åó„Åæ„Åô„ÄÇ&lt;BR /&gt;Á¨¨1Âõû„ÅÆË®ò‰∫ã„Åß„ÅØ„ÄÅ"UI Configurable"„ÅßÊåáÂÆö„Åó„Å¶„ÅÑ„Åæ„Åó„Åü„ÄÇ"Exchange Body"„ÅßÊåáÂÆö„Åô„Çã„Åì„Å®„Å´„Çà„Å£„Å¶„Å©„ÅÆ„Çà„ÅÜ„Å™ÈÅï„ÅÑ„ÅåÂá∫„Å¶„Åè„Çã„ÅÆ„Åß„Åó„Çá„ÅÜ„ÅãÔºü&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="yasuyukiuno_13-1756744691078.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/307515i6F47CDABCD508A5E/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="yasuyukiuno_13-1756744691078.png" alt="yasuyukiuno_13-1756744691078.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H2 id="toc-hId-964073342" id="toc-hId-1759077760"&gt;AI Adapter„Å´„Å§„ÅÑ„Å¶&lt;/H2&gt;&lt;P&gt;&lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/ai-adapter" target="_blank" rel="noopener noreferrer"&gt;AI Adapter&lt;/A&gt;„ÅØ„Åù„ÅÆÂêç„ÅÆÈÄö„Çä„ÄÅÂØæË©±ÂûãAI„Å®„ÇÑ„ÇäÂèñ„Çä„Çí„Åô„Çã„Åü„ÇÅ„Å´Âà©Áî®„Åô„Çã„Ç¢„ÉÄ„Éó„Çø„Åß„Åô„ÄÇ&lt;BR /&gt;2025Âπ¥2Q„Å´„É™„É™„Éº„Çπ„Åï„Çå„Åü„Å∞„Åã„Çä„ÅÆÊñ∞„Ç¢„ÉÄ„Éó„Çø„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/P&gt;&lt;P&gt;„ÉªAI „Ç¢„ÉÄ„Éó„Çø„Åß„ÅØ„ÄÅ SAP AI Core„ÇíÂà©Áî®„Åó„Åü&lt;STRONG&gt;AICore-GenAIHub&lt;/STRONG&gt;„Å®„ÄÅChat GPT API„ÇíÂà©Áî®„Åó„Åü&lt;STRONG&gt;Custom-OpenAI-REST&lt;/STRONG&gt;„ÅÆ2 „Å§„ÅÆAIÂà©Áî®ÊñπÊ≥ï„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/P&gt;&lt;P&gt;„Åì„ÅÆË®ò‰∫ã„Åß„ÅØÁ¨¨1Âõû„ÅÆË®ò‰∫ã„Å´Âºï„ÅçÁ∂ö„Åç„ÄÅÂæåËÄÖ„ÅÆ&lt;STRONG&gt;Custom-OpenAI-REST&lt;/STRONG&gt;„ÇíÂà©Áî®„ÅóAI„Ç¢„ÉÄ„Éó„Çø„ÇíË©¶„Åó„Å¶„Åø„Åæ„Åô„ÄÇ&lt;/P&gt;&lt;H2 id="toc-hId-964073342" id="toc-hId-1562564255"&gt;Request Payload Source„Å´„Å§„ÅÑ„Å¶&lt;/H2&gt;&lt;P&gt;Open AI API„Å∏„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„ÅÆÊ∏°„ÅóÊñπ„ÇíÊåáÂÆö„Åô„Çã„Ç™„Éó„Ç∑„Éß„É≥„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/P&gt;&lt;P&gt;UI Configurable„ÇíÂà©Áî®„Åó„ÅüÂ†¥ÂêàÔºöÁîüÊàêAIË®ÄË™û„É¢„Éá„É´„Åå gpt-4-turbo Âõ∫ÂÆö„ÄÇ„Éª„Éª„Éª„Å®„ÅÑ„ÅÜ„Çè„Åë„Åß„ÇÇ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„Å´Ë°®Á§∫„Åï„Çå„Çã„ÅÆ„ÅØgpt-4-turbo„ÅÆ„Åø„Åß„Åô„Åå„ÄÅgpt-5„Å™„Å©„ÅÆÂà•„ÅÆË®ÄË™û„É¢„Éá„É´„ÇíÊâãÊâì„Å°„ÅßË®≠ÂÆö„ÅóÂÆüË°å„Åô„Çã„Åì„Å®„ÅåÂèØËÉΩ„Åß„Åô„ÄÇ&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="yasuyukiuno_14-1756745256964.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/307517i402F5ADE079054AC/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="yasuyukiuno_14-1756745256964.png" alt="yasuyukiuno_14-1756745256964.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Exchange Body„ÇíÂà©Áî®„Åó„ÅüÂ†¥ÂêàÔºöUI Configurable„Å®„ÅÆÈÅï„ÅÑ„ÅØ‰∏ãË®ò2ÁÇπ„Åß„ÅÇ„Çã„Å®ËÄÉ„Åà„Åæ„Åô„ÄÇ&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;ÂØæË©±„ÅÆËÉåÊôØ„ÄÅAI„ÅÆÊåØ„ÇãËàû„ÅÑ„ÇíÊåáÁ§∫„Åß„Åç„Çã„ÄÇ&lt;/LI&gt;&lt;LI&gt;ÈÄ£Á∂ö„Åó„Åü„ÇÑ„ÇäÂèñ„Çä„ÅÆÂøúÁ≠î„Çí„Åï„Åõ„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;Open AI API„ÅØ„ÄÅ„Çπ„ÉÜ„Éº„Éà„É¨„Çπ(Áä∂ÊÖã„ÇíÊåÅ„Å£„Å¶„ÅÑ„Å™„ÅÑ)„Å™API„Åß„ÅÇ„Çã„Åü„ÇÅ„ÄÅÁπ∞„ÇäËøî„ÅóAPI„ÇíÂÆüË°å„Åó„Å¶„ÇÇ„Åù„Çå„Åæ„Åß„ÅÆ‰ºöË©±ÂÜÖÂÆπ„ÇíË∏è„Åæ„Åà„ÅüÂøúÁ≠î„Çí„Åó„Å¶„Åè„Çå„Çã„Çè„Åë„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ&lt;BR /&gt;JSON„Å´ËÉåÊôØÊÉÖÂ†±„ÇÑ„ÄÅ„Åù„Çå„Åæ„Åß„ÅÆ„ÇÑ„ÇäÂèñ„Çä„ÅÆÂÜÖÂÆπ„ÇíË©∞„ÇÅ„Å¶ÈÄÅ„Çã„Åì„Å®„Å´„Çà„Çä„ÄÅ„Çà„ÇäÊñáËÑà„Å´Ê≤ø„Å£„ÅüÂøúÁ≠î„ÇíÂæó„Çâ„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ&lt;BR /&gt;ÊåáÂÆö„Åô„ÇãJSON„Å´„Å§„ÅÑ„Å¶„ÅØ„ÄÅ&lt;A title="OpenAI„ÅÆChat Completions API„ÅÆÂü∫Êú¨ÁöÑ„Å™Âà©Áî®ÊñπÊ≥ïËß£Ë™¨" href="https://acro-engineer.hatenablog.com/entry/2023/07/18/120000" target="_blank" rel="noopener nofollow noreferrer"&gt;„Åì„ÅÆË®ò‰∫ã&lt;/A&gt;„Åå„Çè„Åã„Çä„ÇÑ„Åô„Åã„Å£„Åü„Åü„ÇÅ‰∏ÄË™≠„Åô„Çã„Å®ËâØ„ÅÑ„Åß„Åó„Çá„ÅÜ„ÄÇ&lt;/P&gt;&lt;H2 id="toc-hId-767559837" id="toc-hId-1366050750"&gt;1.Open AI API(Chat GPT API)„ÅÆÊ∫ñÂÇô&lt;/H2&gt;&lt;P&gt;&lt;A title="SAP Integration Suite„ÅÆAI Adapter„ÅÆ‰Ωø„ÅÑÊñπ Vol1.Âü∫Êú¨Á∑®" href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-integration-suite%E3%81%AEai-adapter%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9-vol1-%E5%9F%BA%E6%9C%AC%E7%B7%A8/ba-p/14181932" target="_blank"&gt;ÂâçÂõû„ÅÆË®ò‰∫ã&lt;/A&gt;„ÇíÂèÇÁÖß„ÄÇ&lt;/P&gt;&lt;H2 id="toc-hId-767559837" id="toc-hId-1169537245"&gt;2.Integration Flow„ÅÆ‰ΩúÊàê&lt;/H2&gt;&lt;P&gt;‰ªäÂõû„ÅØ‰∏ãÂõ≥„ÅÆ„Çà„ÅÜ„Å™Á∞°Âçò„Å™iFlow„Çí‰ΩúÊàê„Åó„Åæ„Åó„Åü„ÄÇ„Åù„Çå„Åû„Çå„ÅÆ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÅÆË®≠ÂÆöÂÄ§„ÇíËß£Ë™¨„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="yasuyukiuno_16-1756747238053.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/307519iEB25ED1A504C8E08/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="yasuyukiuno_16-1756747238053.png" alt="yasuyukiuno_16-1756747238053.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Start TimerÔºöOn Deploy („Éá„Éó„É≠„Ç§ÊôÇ„Å´„Éà„É™„Ç¨)&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;AI Adapter(Connection)ÔºöAPI Key Alias„Å´Security Materials„ÅÆ„ÄéOpenAI_APIKey„Äè„ÇíË®≠ÂÆö„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ(Á¨¨1ÂõûË®ò‰∫ãÂèÇÁÖß)&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="yasuyukiuno_10-1756744378509.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/307511i81C81FBD3837E60B/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="yasuyukiuno_10-1756744378509.png" alt="yasuyukiuno_10-1756744378509.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;AI Adapter(Processing)ÔºöRequest Payload Source„Å´Exchange Body„ÇíÊåáÂÆö„Åó„Åæ„Åô„ÄÇ&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="yasuyukiuno_15-1756747100583.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/307518iCB569FE3365E9B60/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="yasuyukiuno_15-1756747100583.png" alt="yasuyukiuno_15-1756747100583.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;Content ModifierÔºö‰∏ãÂõ≥„ÅÆ„Çà„ÅÜ„Å´JSONÊñáÂ≠óÂàó„ÇíË®≠ÂÆö„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="yasuyukiuno_17-1756747396626.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/307520i7F5607B507BBA76D/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="yasuyukiuno_17-1756747396626.png" alt="yasuyukiuno_17-1756747396626.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;{
    "model": "gpt-5",
    "messages": [
        {"role": "system", "content": "ÈÅãÁî®ÊãÖÂΩìËÄÖ„ÅØ„ÄÅAWS„ÅÆ‰∏äÁ¥ö„É¨„Éô„É´„Åß„ÅÇ„Çã„ÅåSAP BTP„ÅØ‰∏ÄÂàáÂà©Áî®„Åó„Åü„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÈÅãÁî®ÊãÖÂΩìËÄÖ„Å´„Çè„Åã„Çã„Çà„ÅÜ„Å´ËøîÁ≠î„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ"}, 
        {"role": "user", "content": "SAP Event Mesh„Å®„ÅØ‰Ωï„Åß„Åô„ÅãÔºü"}
    ]
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;messages.system„Å´Âïè„ÅÑ„Åã„Åë„ÅÆËÉåÊôØ„ÇÑ„Å©„ÅÆ„Çà„ÅÜ„Å´ÂøúÁ≠î„Åó„Å¶„Åª„Åó„ÅÑ„ÅÆ„Åã„ÇíÊåáÂÆö„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;BR /&gt;„Åù„Çå„Åæ„Åß„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó„ÅÆ„Éö„Ç§„É≠„Éº„Éâ„Éá„Éº„Çø„ÇíÈÄÅ„Çä„Åü„ÅÑÂ†¥Âêà„Å´„ÅØType„ÇíExpression„Å´„Åó„Åü„ÅÜ„Åà„Åß„ÄÅmessages.user„Å´${in.body}„ÇíÊåáÂÆö„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ(&lt;A title="SAP Integration Suite„ÅÆAI Adapter„ÅÆ‰Ωø„ÅÑÊñπ Vol1.Âü∫Êú¨Á∑®" href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-integration-suite%E3%81%AEai-adapter%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9-vol1-%E5%9F%BA%E6%9C%AC%E7%B7%A8/ba-p/14181932" target="_blank"&gt;ÂâçÂõû„ÅÆË®ò‰∫ã&lt;/A&gt;ÂèÇÁÖß)&lt;/P&gt;&lt;H2 id="toc-hId-767559837" id="toc-hId-973023740"&gt;3.Âãï‰ΩúÁ¢∫Ë™ç&lt;/H2&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;ÂÆüË°å„Åó„Åü„Å®„Åì„Çç„ÄÅ‰∏ãÂõ≥„ÅÆ„Çà„ÅÜ„Å™ÂøúÁ≠î„ÅåËøî„Å£„Å¶„Åç„Åæ„Åó„Åü„ÄÇAWS„ÅÆÁü•Ë¶ã„ÅØÊåÅ„Å£„Å¶„ÅÑ„Çã„Å®„ÅÑ„ÅÜÂâçÊèê„Åß„ÄÅAWS„Å´‰æã„Åà„Å™„Åå„ÇâEvent Mesh„ÅÆ„Åì„Å®„ÇíË™¨Êòé„Åó„Å¶„Åè„Çå„Åæ„Åó„Åü„ÄÇ&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="yasuyukiuno_18-1756747654107.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/307521i988A688C03F31B6E/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="yasuyukiuno_18-1756747654107.png" alt="yasuyukiuno_18-1756747654107.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Exchange Body„ÅÆÂü∫Êú¨ÁöÑ„Å™‰Ωø„ÅÑÊñπ„ÅØ‰ª•‰∏ä„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;BR /&gt;ÂøúÁ≠î„ÅÆËÉåÊôØ„ÇÑÂâçÊèêÊù°‰ª∂„ÇíÊåáÂÆö„Åô„Çã„Åì„Å®„Å´„Çà„Çä„ÄÅ„Çà„ÇäÊúâÁî®„Å™ÂøúÁ≠î„ÇíÂæó„Çâ„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÅÆ„Åß„ÅØ„Å™„ÅÑ„Åß„Åó„Çá„ÅÜ„Åã„ÄÇ&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-integration-suite%E3%81%AEai-adapter%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9-vol2-%E5%9F%BA%E6%9C%AC%E7%B7%A8/ba-p/14203431"/>
    <published>2025-09-01T19:41:18.652000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/insert-and-list-data-via-google-bigquery-adapter-for-sap-integration-suite/ba-p/14174627</id>
    <title>Insert and List Data via Google BigQuery Adapter for SAP Integration Suite</title>
    <updated>2025-09-02T08:51:58.770000+02:00</updated>
    <author>
      <name>ashishkuvvarapu</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1451570</uri>
    </author>
    <content>&lt;P&gt;For Big Data enthusiasts, Google BigQuery is one of the most powerful and easy to access data warehouse offerings available on cloud. &amp;nbsp;It's scalability and analytical capabilities also make it the preferred choice for businesses who want to use store historical data and use it to derive insights.&lt;/P&gt;&lt;P&gt;A great product for leveraging these features in your integration scenarios is Google BigQuery Adapter for SAP Integration Suite. This blog explores a scenario for data insertion and listing for a table.&lt;/P&gt;&lt;H1 id="toc-hId-1607862225"&gt;&lt;SPAN&gt;How to Insert and List data Google BigQuery Tables&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;BigQuery uses columnar data storage, it is cloud based and serverless, meaning you don‚Äôt need to install any software before you can use it. Let us see how to insert and list data for tables in Google BigQuery Adapter.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ashishkuvvarapu_1-1754575803020.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/298047iFBF9CE191484C107/image-size/large?v=v2&amp;amp;px=999" role="button" title="ashishkuvvarapu_1-1754575803020.png" alt="ashishkuvvarapu_1-1754575803020.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H1 id="toc-hId-1411348720"&gt;&lt;SPAN&gt;Create Table via Postman &lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;You can utilize the below code snippet to create the table in Google BigQuery.&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;{
  "tableReference": {
    "tableId": "data"
  },
  "schema": {
    "fields": [
      {
        "name": "Name",
        "type": "STRING",
        "mode": "NULLABLE"
      },
      {
        "name": "ID",
        "type": "INTEGER",
        "mode": "NULLABLE"
      },
      {
        "name": "Variable",
        "type": "FLOAT",
        "mode": "NULLABLE"
      },
      {
        "name": "Secret_Code",
        "type": "BYTES",
        "mode": "NULLABLE"
      },
      {
        "name": "Is_Permanent",
        "type": "BOOLEAN",
        "mode": "NULLABLE"
      },
      {
        "name": "joining_date",
        "type": "DATE",
        "mode": "NULLABLE"
      },
      {
        "name": "latest_timestamp",
        "type": "DATETIME",
        "mode": "NULLABLE"
      },
      {
        "name": "timestamp",
        "type": "INTEGER",
        "mode": "NULLABLE"
      },
      {
        "name": "time",
        "type": "TIME",
        "mode": "NULLABLE"
      },
      {
        "name": "location",
        "type": "GEOGRAPHY",
        "mode": "NULLABLE"
      },
      {
        "name": "Variable1",
        "type": "NUMERIC",
        "mode": "NULLABLE"
      },
      {
        "name": "Variable2",
        "type": "BIGNUMERIC",
        "mode": "NULLABLE"
      },
      {
        "name": "additional",
        "type": "RECORD",
        "mode": "NULLABLE",
        "fields": [
          {
            "name": "sub_field1",
            "type": "STRING",
            "mode": "NULLABLE"
          },
          {
            "name": "sub_field2",
            "type": "STRING",
            "mode": "NULLABLE"
          }
        ]
      },
      {
        "name": "misc",
        "type": "RECORD",
        "mode": "NULLABLE",
        "fields": [
          {
            "name": "sub_field1",
            "type": "STRING",
            "mode": "NULLABLE"
          },
          {
            "name": "sub_field2",
            "type": "STRING",
            "mode": "NULLABLE"
          }
        ]
      }
    ]
  }
}
 
 &lt;/code&gt;&lt;/pre&gt;&lt;H2 id="toc-hId-1343917934"&gt;&lt;SPAN&gt;Prepare the Insert Payload&amp;nbsp;&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;Let us assume you need to insert data for two employees: data consisting of various data types and multiple values in a single record. &amp;nbsp;Go through the below payload to explore the different fields.&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;{
  "rows": [
    {
      "json": {
        "Name": "John Doe",
        "ID": 123,
        "Variable": 45.67,
        "Secret_Code": "U29tZSBieXRlcyBkYXRh", 
        "Is_Permanent": true,
        "joining_date": "2024-03-11",
        "latest_timestamp": "2024-03-11T14:30:00",
        "timestamp": "1709802600",
        "time": "14:30:00",
        "location": "POINT(-73.935242 40.730610)",
        "Variable1": "12345.678901234",
        "Variable2": "98765432101234567890.123456789012345678901234567890",
        "additional": {
          "sub_field1": "Blood",
          "sub_field2": "A+"
        },
        "misc": {
          "sub_field1": "Code",
          "sub_field2": "CRE"
        }
      }
    },
    {
      "json": {
        "Name": "Barry Allen",
        "ID": 456,
        "Variable": 98.76,
        "Secret_Code": "QW5vdGhlciBieXRlcyBkYXRh",
        "Is_Permanent": false,
        "joining date": "2024-03-12",
        "latest_timestamp": "2024-03-12T16:45:00",
        "timestamp": "1709889000",
        "time": "16:45:00",
        "location": "POLYGON((-73.935242 40.730610, -73.935242 40.731610, -73.934242 40.731610, -73.934242 40.730610, -73.935242 40.730610))",
        "Variable1": "98765.432109876",
        "Variable2": "12345678901234567890.987654321098765432109876543210",
        "additional": {
          "sub_field1": "Blood",
          "sub_field2": "A+"
        },
        "misc": {
          "sub_field1": "Code",
          "sub_field2": "CRE"
        }
      }
    }
  ]
}&lt;/code&gt;&lt;/pre&gt;&lt;H1 id="toc-hId-1018321710"&gt;&lt;SPAN&gt;Connect to Google BigQuery&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;The &lt;STRONG&gt;Connection&lt;/STRONG&gt; tab contains connection and authentication parameters that need to be populated to establish connection with Google BigQuery.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ashishkuvvarapu_0-1754574106266.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/298021iFD0EE189ACB77FE6/image-size/medium?v=v2&amp;amp;px=400" role="button" title="ashishkuvvarapu_0-1754574106266.png" alt="ashishkuvvarapu_0-1754574106266.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H1 id="toc-hId-821808205"&gt;&lt;SPAN&gt;Configuration for Insert and List&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;This is a very straightforward configuration which requires you to select &lt;STRONG&gt;Table Data&lt;/STRONG&gt;&amp;nbsp;as entity and &lt;STRONG&gt;InsertAll&lt;/STRONG&gt; operation.&lt;/P&gt;&lt;P&gt;Now you must specify your Google &lt;STRONG&gt;Project ID&lt;/STRONG&gt;, followed by &lt;STRONG&gt;Dataset ID&lt;/STRONG&gt; and &lt;STRONG&gt;Table ID&lt;/STRONG&gt; for your target table.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ashishkuvvarapu_5-1754574451921.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/298027iAAA838D775DBB235/image-size/medium?v=v2&amp;amp;px=400" role="button" title="ashishkuvvarapu_5-1754574451921.png" alt="ashishkuvvarapu_5-1754574451921.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;For &lt;STRONG&gt;List&lt;/STRONG&gt; operation, the configuration requires the same parameters as before in Dataset ID and Table ID. However, to customize our response and save costs we use &lt;STRONG&gt;Query Parameters&lt;/STRONG&gt; and &lt;STRONG&gt;Max Results&lt;/STRONG&gt; to limit our search results.&lt;/P&gt;&lt;P&gt;For more information on how to use this operation using query parameters&amp;nbsp; see&amp;nbsp;&lt;A href="https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata/list" target="_blank" rel="noopener nofollow noreferrer"&gt;https://cloud.google.com/bigquery/docs/reference/rest/v2/tabledata/list&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ashishkuvvarapu_7-1754574505910.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/298029iBCADE52762A23B00/image-size/medium?v=v2&amp;amp;px=400" role="button" title="ashishkuvvarapu_7-1754574505910.png" alt="ashishkuvvarapu_7-1754574505910.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H1 id="toc-hId-625294700"&gt;&lt;SPAN&gt;Verify Data and Search Results&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;Finally, you can log in to Google console to view the table with data.&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ashishkuvvarapu_8-1754574575287.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/298030iFB146F327027DD15/image-size/large?v=v2&amp;amp;px=999" role="button" title="ashishkuvvarapu_8-1754574575287.png" alt="ashishkuvvarapu_8-1754574575287.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;You can also validate the &lt;STRONG&gt;List&lt;/STRONG&gt; operation results via CPI.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ashishkuvvarapu_0-1754575117452.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/298036i98CD7B0E17A6054C/image-size/medium?v=v2&amp;amp;px=400" role="button" title="ashishkuvvarapu_0-1754575117452.png" alt="ashishkuvvarapu_0-1754575117452.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;If you‚Äôre interested in learning more about the Google Big Query Adapter, do check out the announcement blog by SAP for &lt;A href="https://community.sap.com/t5/technology-blog-posts-by-members/google-bigquery-adapter-for-sap-integration-suite/ba-p/14115411" target="_blank"&gt;Google BigQuery Adapter for SAP Integration Suite&lt;/A&gt;.&lt;/P&gt;&lt;P&gt;Happy Learning !&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/insert-and-list-data-via-google-bigquery-adapter-for-sap-integration-suite/ba-p/14174627"/>
    <published>2025-09-02T08:51:58.770000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/supply-chain-management-blog-posts-by-sap/creating-your-first-iflow-in-cloud-integration-for-an-ibp-s-4hana-on-prem/ba-p/14205240</id>
    <title>Creating your first IFlow in Cloud Integration for an IBP - S/4HANA (on prem/private) integration</title>
    <updated>2025-09-02T23:03:31.723000+02:00</updated>
    <author>
      <name>SofianePebre</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1476236</uri>
    </author>
    <content>&lt;P&gt;Hi Community,&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Continuing this blog series on working with &lt;a href="https://community.sap.com/t5/c-khhcw49343/Cloud+Integration/pd-p/67837800100800006801" class="lia-product-mention" data-product="361-1"&gt;Cloud Integration&lt;/a&gt;&amp;nbsp;&amp;nbsp;from&amp;nbsp; SAP BTP's &lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+Integration+Suite/pd-p/73554900100800003241" class="lia-product-mention" data-product="23-1"&gt;SAP Integration Suite&lt;/a&gt;&amp;nbsp;service.&lt;BR /&gt;We will cover in this article how to create and deploy your first customer integration flow between &lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+Integrated+Business+Planning/pd-p/67838200100800006742" class="lia-product-mention" data-product="664-1"&gt;SAP Integrated Business Planning&lt;/a&gt;&amp;nbsp;and &lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+S%25252F4HANA/pd-p/73554900100800000266" class="lia-product-mention" data-product="799-1"&gt;SAP S/4HANA&lt;/a&gt;&amp;nbsp;(on premise / private cloud).&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Prerequisites&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;All steps from my previous two blog entries &lt;A href="https://community.sap.com/t5/supply-chain-management-blog-posts-by-sap/sap-ibp-new-integration-option-introducing-sap-cloud-integration-from-btp-s/ba-p/14169516" target="_blank"&gt;BTP/IBP Technical setup&lt;/A&gt; and &lt;A href="https://community.sap.com/t5/supply-chain-management-blog-posts-by-sap/configuring-sap-cloud-integration-for-an-ibp-to-s-4hana-on-prem-private/ba-p/14194922" target="_blank"&gt;Integration Suite Initial Configuration&lt;/A&gt;.&lt;/LI&gt;&lt;LI&gt;Users have been created via the BTP cockpit with the relevant roles depending on what tasks they need to perform. The three typical roles for CI are the following: &lt;EM&gt;PI_Administrator, PI_Integration_Developer and PI_Business_Expert&lt;/EM&gt;. Check the &lt;A href="https://help.sap.com/docs/integration-suite/sap-integration-suite/persona-2937e5ca6ef448cfb21451a2461cc2a6#loio2937e5ca6ef448cfb21451a2461cc2a6__business" target="_blank" rel="noopener noreferrer"&gt;Personas for CI information&lt;/A&gt; to understand what each covers in order to assign the most relevant ones.&lt;UL&gt;&lt;LI&gt;To support actions from this blog entry you need the PI_Integration_Developer role.&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;LI&gt;The &lt;A href="https://help.sap.com/ibp_s4hana_addon" target="_blank" rel="noopener noreferrer"&gt;SAP S/4HANA, Supply Chain Integration Add-On for SAP Integrated Business Planning&lt;/A&gt; is configured in S/4HANA for integration purposes.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;BR /&gt;-------------------------------------------------------------------------------------------------------------------&lt;BR /&gt;&lt;STRONG&gt;&amp;nbsp;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Creating your customer iflow&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Now that we have done the technical setup and configured Integration Suite to define source/target systems (called destinations) and loaded the reusable iflows we can start building our own project integrations: customer iflows.&lt;/P&gt;&lt;P&gt;To begin, we can start creating a simple business iflow that calls upon a reusable iflow delivered with the August 2025 release called Generic Data Transfer.&lt;/P&gt;&lt;P&gt;The latter is a full-fledged iflow that is built on the basis on a series of individual reusable iflows (that cannot be executed as standalone). It can be leveraged to : read the S/4HANA integration addon extractors, transform &amp;amp; map data to corresponding IBP target and load it there (triggering the IBP post processing batch).&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_0-1756845520341.png" style="width: 951px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308193i9CF382BF4CADB627/image-dimensions/951x215/is-moderation-mode/true?v=v2" width="951" height="215" role="button" title="SofianePebre_0-1756845520341.png" alt="SofianePebre_0-1756845520341.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;But if you want to call upon it with two different sets of parameters, i.e. calling two different extractors with corresponding filters to send POs AND PlannedOrders to IBP, then you have to have two customer iflows. It is the same in CI-DS : for two key figure objects you need two dataflows or even two tasks.&lt;/P&gt;&lt;P&gt;So we can create a first customer iflow that simply calls our Generic Data Transfer iflow as a model that we‚Äôll later copy as many times as needed to cover each object we need to send to IBP. We call this model a &lt;STRONG&gt;wrapper&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Access your Integration Suite tenant and the Design &amp;gt; Integrations and APIs section from your left side panel.&lt;/P&gt;&lt;P&gt;Click on Create and fill out the needed information to set your own package.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_1-1756845520345.png" style="width: 713px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308195iE8BB5E2FCAB37B50/image-dimensions/713x381/is-moderation-mode/true?v=v2" width="713" height="381" role="button" title="SofianePebre_1-1756845520345.png" alt="SofianePebre_1-1756845520345.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Think of your package as a project in CIDS, a grouping of iflows that you could attach significance to (e.g. a package per source system or type of data integrated or target planning area, etc.). You can also store documents (e.g. specifications, guides, etc.) in your package to support integration activities.&lt;/P&gt;&lt;P&gt;Click on Add &amp;gt; Integration Flow&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_2-1756845520349.png" style="width: 679px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308194i8095910C0BDC2448/image-dimensions/679x356/is-moderation-mode/true?v=v2" width="679" height="356" role="button" title="SofianePebre_2-1756845520349.png" alt="SofianePebre_2-1756845520349.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;A blank canvas appears with the premises of your flow.&lt;/P&gt;&lt;P&gt;At the top, you have various features allowing you to build your flow. Our intend here is to have one prior step, before adding a call to our main reusable iflow, called a content modifier. This object will allow us to define and pass along global parameter values to the generic reusable iflow in order to send specific data to IBP, e.g. purchase orders.&lt;/P&gt;&lt;P&gt;From the menu, select Transformation &amp;gt; Content Modifier&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_3-1756845520352.png" style="width: 736px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308196iF920B70F895E06B9/image-dimensions/736x311/is-moderation-mode/true?v=v2" width="736" height="311" role="button" title="SofianePebre_3-1756845520352.png" alt="SofianePebre_3-1756845520352.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Click in the middle of the process structure to add it between the start and end events. Bring up the details section of the Content Modifier from the bottom of the screen and define a name for this step.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_4-1756845520354.png" style="width: 745px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308198iE2E0860639B0D942/image-dimensions/745x465/is-moderation-mode/true?v=v2" width="745" height="465" role="button" title="SofianePebre_4-1756845520354.png" alt="SofianePebre_4-1756845520354.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;A process must begin and end with events. For our purpose, let‚Äôs use a timer as a start event. Select from the upper functions Event &amp;gt; Timer.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_5-1756845520357.png" style="width: 877px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308197i7239E55BD730D3DD/image-dimensions/877x277/is-moderation-mode/true?v=v2" width="877" height="277" role="button" title="SofianePebre_5-1756845520357.png" alt="SofianePebre_5-1756845520357.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Place it before our previous Content Modifier and delete the preexisting Start event.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_6-1756845520358.png" style="width: 511px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308199i3AA09E091942B3AC/image-dimensions/511x205/is-moderation-mode/true?v=v2" width="511" height="205" role="button" title="SofianePebre_6-1756845520358.png" alt="SofianePebre_6-1756845520358.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;You can choose how the timer start works by clicking on it and updating its properties from the bottom of the screen. Go to tab Scheduler and select Basic with the below selections so that the execution of ths iflow only starts when you manually trigger its deployment.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_7-1756845520361.png" style="width: 367px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308201iECE57135BCC7F84B/image-dimensions/367x687/is-moderation-mode/true?v=v2" width="367" height="687" role="button" title="SofianePebre_7-1756845520361.png" alt="SofianePebre_7-1756845520361.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;This is how you can also schedule your iflow to run with more frequency, for example every day/week, etc (see the Repeat criteria above) or with more complex modes (see the Advanced tab). Once you have set this, you need to save your iflow:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_8-1756845520362.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308200iA3AAFAB1FFB86D0C/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="SofianePebre_8-1756845520362.png" alt="SofianePebre_8-1756845520362.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;To remove the preexisting Start event, click on it and then on the bin icon that appears to its right&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_9-1756845520363.png" style="width: 227px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308202i828DFAC717539F37/image-dimensions/227x253/is-moderation-mode/true?v=v2" width="227" height="253" role="button" title="SofianePebre_9-1756845520363.png" alt="SofianePebre_9-1756845520363.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;You can proceed the same way with the Sender /Receiver objects to the left and right of the flow.&lt;/P&gt;&lt;P&gt;Next, we need to add our generic reusable iflow that encodes calls to both S/4HANA and IBP. For this, you can again look for the upper function Call &amp;gt; External Call &amp;gt; Request Reply or click on the previous process step, the Content Modifier, and select the ‚Äúadd flow step‚Äù &amp;nbsp;option via the ‚Äú+‚Äù icon.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_10-1756845520364.png" style="width: 427px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308204iA6DF8CB9690FACF4/image-dimensions/427x195/is-moderation-mode/true?v=v2" width="427" height="195" role="button" title="SofianePebre_10-1756845520364.png" alt="SofianePebre_10-1756845520364.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Select request reply&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_11-1756845520365.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308203iFFD0F7981D8A46E0/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="SofianePebre_11-1756845520365.png" alt="SofianePebre_11-1756845520365.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Add it to the right of the Content Modifier, before the end event and give it a name.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_12-1756845520366.png" style="width: 506px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308206i887EB461D030ABEA/image-dimensions/506x206/is-moderation-mode/true?v=v2" width="506" height="206" role="button" title="SofianePebre_12-1756845520366.png" alt="SofianePebre_12-1756845520366.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_13-1756845520367.png" style="width: 359px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308207iACE970CF37DE623A/image-dimensions/359x136/is-moderation-mode/true?v=v2" width="359" height="136" role="button" title="SofianePebre_13-1756845520367.png" alt="SofianePebre_13-1756845520367.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;This step will technically call the generic reusable iflow. To do this we will add a Receiver in the iflow definition.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_14-1756845520368.png" style="width: 473px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308208i93D38BA8D283A15C/image-dimensions/473x201/is-moderation-mode/true?v=v2" width="473" height="201" role="button" title="SofianePebre_14-1756845520368.png" alt="SofianePebre_14-1756845520368.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;search for Receiver and add it to the flow.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_15-1756845520369.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308209i6695BE1092C6AFC9/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="SofianePebre_15-1756845520369.png" alt="SofianePebre_15-1756845520369.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Note you can also add it from the upper function Participant &amp;gt; Receiver.&lt;/P&gt;&lt;P&gt;The system now asks how you want to link the Request Reply to the Receiver by choosing from a list of adapter types. Select Process Direct to specify you need to call another process (the generic reusable iflow).&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_16-1756845520370.png" style="width: 315px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308210i1B2608DC8B3129E1/image-dimensions/315x418/is-moderation-mode/true?v=v2" width="315" height="418" role="button" title="SofianePebre_16-1756845520370.png" alt="SofianePebre_16-1756845520370.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;The Receiver is placed outside of the integration process box, you can also rename it to better understand its use by simply clicking on the box and changing its properties.&lt;/P&gt;&lt;P&gt;Now to link this external call to the generic reusable iflow, you need to click on the Process Direct arrow linking the two objects and look to the ‚ÄúConnection‚Äù tab of its properties, set the full technical ID of the reusable iflow in the Address field:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;SAP_IBP_Add-on_Read_-_Generic_Process&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_17-1756845520372.png" style="width: 741px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308211i5E4965CEA7A3418F/image-dimensions/741x643/is-moderation-mode/true?v=v2" width="741" height="643" role="button" title="SofianePebre_17-1756845520372.png" alt="SofianePebre_17-1756845520372.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Note: you can find this ID by navigating to the reusable iflow itself : Design section from the left side panel, select the ‚ÄúSAP IBP Add-On - Reusable Integration Flows‚Äù package, open the iflow ‚ÄúSAP IBP Add-On Read - Generic Data Transfer‚Äù. Bring up the flow properties from the bottom of the screen and find its ID.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_18-1756845520380.png" style="width: 716px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308213iC173CC8C069807AA/image-dimensions/716x509/is-moderation-mode/true?v=v2" width="716" height="509" role="button" title="SofianePebre_18-1756845520380.png" alt="SofianePebre_18-1756845520380.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Our customer iflow now has all necessary objects to run (the wrapper being a quick set up), we just need to define the global parameters for the Content Modifier we created as a first step in order to have the possibility during execution of the flow to specify what extractor should be read, what mapping should be applied, what filters should be used, etc.&lt;/P&gt;&lt;P&gt;These parameters are already part of the reusable iflow so once we call them in the first step and fill them, they will be automatically read and applied.&lt;/P&gt;&lt;P&gt;To be able to set your own values when executing (deploying) the iflow, you need to externalize them via the Content Modifier step this way:&lt;/P&gt;&lt;P&gt;Click on your Content Modifier step, previously named Set Extraction Filters and click on Externalize from its properties section.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_19-1756845520383.png" style="width: 785px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308212iD71433B7A2021258/image-dimensions/785x204/is-moderation-mode/true?v=v2" width="785" height="204" role="button" title="SofianePebre_19-1756845520383.png" alt="SofianePebre_19-1756845520383.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Create your parameters one by one (use the Add button to allow entering more parameters).&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Type the parameter name in the Name column from the below table:&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;Non exhaustive list of available global parameters&lt;/P&gt;&lt;TABLE width="1000"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;&lt;STRONG&gt;Parameter Name&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;&lt;STRONG&gt;Description&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;FileName&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;Name of the generated file passed to IBP that you can download from the Data Integration Jobs app.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;TypeOfData&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;The type of data to load, KeyFigures or MasterData (respect this way of writing).&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;TimeDisaggregationLevel&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;Use time level values that are defined in the time profile of the planning area in IBP using the &lt;EM&gt;Planning Areas ‚Äì Model Configuration &lt;/EM&gt;app.&lt;/P&gt;&lt;P&gt;You can only specify a TimeDisaggregationLevel value that is the same or higher than the base time profile level of the planning level you‚Äôre uploading data to. If TimeDisaggregationLevel is left empty, it defaults to the base time profile level.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;MasterDataType&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;The target Master Data type you want to load in IBP without the prefix that is usually used to distinguish master data types for different planning areas.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Example: your master data type is ABCPRODUCT, type in PRODUCT here. &lt;/EM&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;MasterDataPrefix&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;Here you can set the prefix only.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Example: your master data type is ABCPRODUCT, type in ABC here.&lt;/EM&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;BatchName&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;The name that appears as batch in the Data Integration Jobs app in IBP.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;PostFetchFilterExtensionID&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;If you are using an extension for defining filters, this is where you‚Äôd set its ID. Will be covered in a future blog entry.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;ERPMaxPackageSize&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;Maximum package size coming from the S/4HANA integration addon for IBP.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;MappingExtensionID&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;If you are using an extension for mapping, this is where you‚Äôd set its ID. Will be covered in a future blog entry.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;Extractor&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;The S/4HANA extractor ID to use as data source.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;ERPRequestedFields&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;Source fields to map from S/4HANA side. Add them in any order, separated by commas.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Example : PRDID,LOCID,KEYFIGUREDATE,PLANNINGRELEVQTY&lt;/EM&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;IBPFieldList&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;Target fields to map to IBP. Add them in any order, separated by commas.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Example : PRDID,LOCID,KEYFIGUREDATE,MINRECEIPT&lt;/EM&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;FieldMap&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;Mapping between above S/4HANA and IBP fields.&lt;/P&gt;&lt;P&gt;Separate mapping groups by commas and separate source from target with colons.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Example : PRDID: PRDID,LOCID: LOCID, KEYFIGUREDATE: KEYFIGUREDATE,PLANNINGRELEVQTY:MINRECEIPT&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Note: when both source and target have the same ID, you do not need to add them here, so the simplified version of the mapping in the above case that would also work is :&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;PLANNINGRELEVQTY:MINRECEIPT&lt;/EM&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;DestinationforSAPIBP&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;The Destination configured in BTP cockpit to represent the IBP tenant you want to use as target for the flow.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;PlanningArea&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;The IBP planning area as target for the flow.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;PlanningAreaVersion&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;The IBP planning area version as target for the flow.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;Filters&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;Defines the filter criteria in restricted OData format:&lt;/P&gt;&lt;P&gt;‚Ä¢ Relational operators&lt;/P&gt;&lt;P&gt;These operators are EQ, NE, LT, LE, GT, GE, and LIKE.&lt;/P&gt;&lt;P&gt;‚Ä¢ Logical operators&lt;/P&gt;&lt;P&gt;These operators are AND, NOT, OR, (, and ).&lt;/P&gt;&lt;P&gt;‚Ä¢ Functions&lt;/P&gt;&lt;P&gt;These functions are STARTSWITH, ENDSWITH, and SUBSTRINGOF.&lt;/P&gt;&lt;P&gt;Separate the conditions by a comma. The objects you filter on are fields from the S/4HANA extractor.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Example: TIMEPROFILEID EQ '2504',TIMEPROFILELEVEL EQ '2',MRPELEMENTTYPE EQ 'BE'&lt;/EM&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;ERPDestination&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;The Destination configured in BTP cockpit to represent the S/4HANA tenant you want to use as source for the flow.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;ProcessUnchangedData&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;If you want to skip unchanged data, regardless of SAP IBP&lt;/P&gt;&lt;P&gt;global parameter setting for this behavior, set this parameter to &lt;STRONG&gt;false&lt;/STRONG&gt;. If you want to process unchanged data, regardless of the SAP IBP global parameter setting, set this parameter to &lt;STRONG&gt;true&lt;/STRONG&gt;. If you leave this parameter field empty, the SAP IBP global parameter determines the behavior.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="216.628px"&gt;&lt;P&gt;BatchCommand&lt;/P&gt;&lt;/TD&gt;&lt;TD width="405.534px"&gt;&lt;P&gt;Defines the operation type. Accepted parameters are:&lt;/P&gt;&lt;P&gt;INSERT_UPDATE, REPLACE, DELETE.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Leave the Source type as Constant.&lt;/LI&gt;&lt;LI&gt;The Source Value allows you to either&lt;UL&gt;&lt;LI&gt;give a default value that will not be modifiable when deploying the iflow,&lt;/LI&gt;&lt;LI&gt;give a default value that the user can update upon deployment,&lt;/LI&gt;&lt;LI&gt;set no value and let the user define it during deployment.&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_20-1756845520386.png" style="width: 901px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308214i268BB28F8F20068F/image-dimensions/901x237/is-moderation-mode/true?v=v2" width="901" height="237" role="button" title="SofianePebre_20-1756845520386.png" alt="SofianePebre_20-1756845520386.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;To set a &lt;STRONG&gt;default value that will not be editable&lt;/STRONG&gt; by the user when deploying the iflow, simply fill in the Source Value field with your value.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Example: you want this iflow to always be executed in Insert/update load mode in IBP.&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_21-1756845520388.png" style="width: 838px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308215iD8413BE6400FC689/image-dimensions/838x222/is-moderation-mode/true?v=v2" width="838" height="222" role="button" title="SofianePebre_21-1756845520388.png" alt="SofianePebre_21-1756845520388.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;To let the user &lt;STRONG&gt;define the value only upon deploying the iflow&lt;/STRONG&gt;, fill in the Source Value field with the name of the parameter surrounded by double brackets on each side (format {{FileName}}). Once you validate, this will appear as &lt;EM&gt;&amp;lt; Define Value &amp;gt;&lt;/EM&gt;.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_22-1756845520389.png" style="width: 825px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308216i073D9724D2AF06AB/image-dimensions/825x198/is-moderation-mode/true?v=v2" width="825" height="198" role="button" title="SofianePebre_22-1756845520389.png" alt="SofianePebre_22-1756845520389.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;When you validate:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_23-1756845520390.png" style="width: 842px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308217i42CCCDF4D92E05AF/image-dimensions/842x40/is-moderation-mode/true?v=v2" width="842" height="40" role="button" title="SofianePebre_23-1756845520390.png" alt="SofianePebre_23-1756845520390.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;BR /&gt;And finally, to set a &lt;STRONG&gt;default value that can be editable when deploying the iflow&lt;/STRONG&gt;, proceed as above with the double brackets strategy and then click on the &lt;EM&gt;&amp;lt; Define Value&amp;gt;&lt;/EM&gt; value. This opens a new window where you can set your default value.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Example: you want your iflow to be used for loading Key Figures by default but if a user needs to change this to send Master Data, they can make that change during deployment.&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_24-1756845520394.png" style="width: 726px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308218i17F8A3B10E787544/image-dimensions/726x334/is-moderation-mode/true?v=v2" width="726" height="334" role="button" title="SofianePebre_24-1756845520394.png" alt="SofianePebre_24-1756845520394.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;In the end, you have set all global parameters that impacts the way the integration is executed, click on OK.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_25-1756845520406.png" style="width: 748px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308219i4E573DD17D7E8A3A/image-dimensions/748x411/is-moderation-mode/true?v=v2" width="748" height="411" role="button" title="SofianePebre_25-1756845520406.png" alt="SofianePebre_25-1756845520406.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Then Save.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_26-1756845520414.png" style="width: 574px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308220i14ED335F2D276762/image-dimensions/574x397/is-moderation-mode/true?v=v2" width="574" height="397" role="button" title="SofianePebre_26-1756845520414.png" alt="SofianePebre_26-1756845520414.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;The configuration of your customer iflow as a wrapper of an end to end reusable iflow is finished, we can now deploy it!&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Deploying your customer iflow&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;So now we have a customer iflow that :&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Starts when deployed (manually / via schedule)&lt;/LI&gt;&lt;LI&gt;Expects input global parameters to identify systems, extractor name, filters to apply, mapping, etc.&lt;/LI&gt;&lt;LI&gt;Uses a pre configured reusable iflow that opens connections to source and target systems, reads S/4HANA data, loads data in IBP and triggers post processing there.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;To deploy your customer iflow, access it from your package, click on the menu and select Configure to set your final parameters and deploy.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_27-1756845520419.png" style="width: 752px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308221iC1583CC4D18C7C21/image-dimensions/752x243/is-moderation-mode/true?v=v2" width="752" height="243" role="button" title="SofianePebre_27-1756845520419.png" alt="SofianePebre_27-1756845520419.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;If you Deploy without the configuration, the iflow will use all your defaulted global parameter values directly.&lt;/P&gt;&lt;P&gt;You can here adapt your global parameters if needed, then click on Deploy&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_28-1756845520427.png" style="width: 722px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308222iB1559A055DD0087B/image-dimensions/722x372/is-moderation-mode/true?v=v2" width="722" height="372" role="button" title="SofianePebre_28-1756845520427.png" alt="SofianePebre_28-1756845520427.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Validate the runtime profile as CI by clicking on Yes.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_29-1756845520430.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308223i8701C39217172013/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="SofianePebre_29-1756845520430.png" alt="SofianePebre_29-1756845520430.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Check the log in the Monitor section of the left side panel. Go to Monitor Message Processing app.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_30-1756845520432.png" style="width: 321px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308224iE0C568AA27802A01/image-dimensions/321x336/is-moderation-mode/true?v=v2" width="321" height="336" role="button" title="SofianePebre_30-1756845520432.png" alt="SofianePebre_30-1756845520432.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Find your iflow name and select the associated entry&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_31-1756845520440.png" style="width: 803px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308225iAC22438B5FC2A10B/image-dimensions/803x322/is-moderation-mode/true?v=v2" width="803" height="322" role="button" title="SofianePebre_31-1756845520440.png" alt="SofianePebre_31-1756845520440.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Note that in CI you will get individual log entries for each iflow and embedded iflow. This means since we are using a wrapper iflow that calls upon a reusable iflow, itself calling upon individual reusable iflows, you will get multiple entries for your single deployment action.&lt;/P&gt;&lt;P&gt;To identify all logs related to your deployment, you can use the Correlation ID associated to the initial entry associated to your customer iflow entry. Click on the hyperlink, this will copy this value to the header filter and only show you log entries related to your deployment action. You can appreciate all steps executed during this deployment.&lt;/P&gt;&lt;P&gt;Note : when analyzing log issues (will be handled via an example in another blog entry), always start from the last log entry and make your way upwards one by one.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_32-1756845520450.png" style="width: 873px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308226iFF2CBF8CB2E02DFF/image-dimensions/873x476/is-moderation-mode/true?v=v2" width="873" height="476" role="button" title="SofianePebre_32-1756845520450.png" alt="SofianePebre_32-1756845520450.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Finally, once you‚Äôve checked your flow was successful, you can proceed to the target system, IBP, to confirm post processing. Access the Data Integration Jobs app from your IBP tenant and check logs.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_33-1756845520457.png" style="width: 828px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308229i77946FF1B9042086/image-dimensions/828x327/is-moderation-mode/true?v=v2" width="828" height="327" role="button" title="SofianePebre_33-1756845520457.png" alt="SofianePebre_33-1756845520457.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;FONT color="#3366FF"&gt;That‚Äôs it ! you‚Äôve created and executed your first customer iflow in CI from S/4HANA to IBP !&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Creating customer iflows per IBP object&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Now that you‚Äôve successfully created a reference iflow, you can duplicate it as many times as needed and only make changes to the global parameters in order to create integration for all the necessary IBP objects for both key figures (purchase orders, production orders, sales orders &amp;amp; deliveries, actuals, stock,‚Ä¶) and master data (products, locations, PDS, etc.) that are supported by the S/4HANA integration addon for IBP.&lt;/P&gt;&lt;P&gt;You can select your primary customer iflow from the Design section and from its menu, select Copy&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_34-1756845520460.png" style="width: 790px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308227iE0685BE6EABA5F1F/image-dimensions/790x231/is-moderation-mode/true?v=v2" width="790" height="231" role="button" title="SofianePebre_34-1756845520460.png" alt="SofianePebre_34-1756845520460.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Give a name to your new iflows identifying what data they are integrating.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_35-1756845520462.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308228i3A3CC303ECD23A1F/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="SofianePebre_35-1756845520462.png" alt="SofianePebre_35-1756845520462.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;For each, access the menu and select Configure. Replace mappings, filters, extractor names, etc. to adjust to the data needed.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Example for the Production Orders iflow:&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="SofianePebre_36-1756845520467.png" style="width: 775px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308230i2C9240B303F9548E/image-dimensions/775x558/is-moderation-mode/true?v=v2" width="775" height="558" role="button" title="SofianePebre_36-1756845520467.png" alt="SofianePebre_36-1756845520467.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Click on Save. Do this for each iflow to set up your whole interfaces from S/4HANA to IBP and schedule them accordingly at a later stage as shown previously.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;You can also copy this iflow to use for master data transfer. Make sure in that case that aside from updating the extractor name, mappings, filters, you also set the TypeOfData parameter to ‚ÄòMasterData‚Äô and that you properly fill out the MasterDataType and MasterDataPrefix parameters.&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;P&gt;---------------------------------------------------------------------------------------------------------------------&lt;BR /&gt;&lt;BR /&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Next blog entries&lt;/STRONG&gt; &lt;STRONG&gt;will deal with:&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Tips and tricks on working the Monitor section&lt;/LI&gt;&lt;LI&gt;Special case handling in Mapping (including mapping extensions)&lt;/LI&gt;&lt;LI&gt;Special case handling in Filtering (including filter extensions)&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Sources&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;SAP IBP Help on &lt;A href="https://help.sap.com/docs/SAP_INTEGRATED_BUSINESS_PLANNING/da797ae2bf6246d58abd417f24915d55/1eee047de9db490cab837ab90cd22285.html?version=2508" target="_blank" rel="noopener noreferrer"&gt;S/4HANA integration to IBP via CI&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;IBP Reusable integration flows&amp;nbsp;&lt;A href="https://help.sap.com/doc/d9ca0a5b35214b2a9470b8e6c748c7b3/2402/en-US/b6fe07784e154bb7aa76ac71997dbce2.pdf" target="_blank" rel="noopener noreferrer"&gt;- list and details&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;IBP Reusable integration flows - &lt;A href="https://api.sap.com/package/SAPIBPReusableIntegrationFlows/integrationflow" target="_self" rel="noopener noreferrer"&gt;technical info from Business Accelerator Hub&lt;/A&gt;&lt;/LI&gt;&lt;/UL&gt;</content>
    <link href="https://community.sap.com/t5/supply-chain-management-blog-posts-by-sap/creating-your-first-iflow-in-cloud-integration-for-an-ibp-s-4hana-on-prem/ba-p/14205240"/>
    <published>2025-09-02T23:03:31.723000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/custom-groovy-exception-classes-in-sap-cpi/ba-p/14190767</id>
    <title>Custom Groovy exception classes in SAP CPI</title>
    <updated>2025-09-04T06:56:27.590000+02:00</updated>
    <author>
      <name>JacobVandborg</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1696323</uri>
    </author>
    <content>&lt;H1 id="toc-hId-1609591188"&gt;Intro&lt;/H1&gt;&lt;P&gt;On multiple occasions, I've found myself limited by only being able to &lt;EM&gt;throw new Exception()&lt;/EM&gt; from a Groovy script - especially when the logic needed to throw both functional and technical errors. There's always the possibility to look for existing exception classes that might suit my need, but I wanted exceptions completely tailored to my integrations. As I found out, it's actually not that difficult.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1413077683"&gt;How to&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;So how do you define and throw a custom exception from a Groovy script in SAP CPI? Easy - just define the exception class in your Groovy script and throw it. But how? Here's a very simplified example.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-java"&gt;&lt;code&gt;import com.sap.gateway.ip.core.customdev.util.Message

def Message processData(Message msg) {
    String exceptionToThrow = msg.getProperty("exceptionToThrow")?.toLowerCase()

    switch (exceptionToThrow) {
        case "functional":
            throw new MyCustomFunctionalException("Functional message", "Whatever subject you like")
            break
        case "technical":
            throw new MyCustomTechnicalException("Technical message", 110)
            break
        default:
            break
    }
    return msg
}

class MyCustomFunctionalException extends Exception {
    private String subject

    MyCustomFunctionalException(String msg, String subject) {
        super(msg)
        this.subject = subject
    }

    String getErrorType() {
        return "FUNCTIONAL"
    }

    String getSubject() {
        return subject
    }
}

class MyCustomTechnicalException extends Exception {
    private int errorCode

    MyCustomTechnicalException(String msg, int errorCode) {
        super(msg)
        this.errorCode = errorCode
    }

    String getErrorType() {
        return "TECHNICAL"
    }

    int getErrorCode() {
        return errorCode
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In the example, two classes are defined that extend the the Exception class.Both exception classes include a getErrorType() method, which returns - you guessed it - the error type (FUNCTIONAL/TECHNICAL). Unique to the functional exception class is the method getSubject() and unique to the technical exception class is the method getErrorCode(). These values are set in the constructor of the respective classes.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;So, now that you can throw custom exception classes from a Groovy script - what can you actually do with them? You could create another Groovy script in your Exception Subprocess that will perform different actions depending on the error type. Again, here's a very simplified example.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-java"&gt;&lt;code&gt;import com.sap.gateway.ip.core.customdev.util.Message

def Message processData(Message msg) {
    def camelExceptionCaught = msg.getProperty("CamelExceptionCaught") as Exception
    def rootException = getRootException(camelExceptionCaught)
    def rootExceptionName = rootException.getClass().getCanonicalName()

    def errorType = ""
    def errorMessage = ""
    def errorDetails = ""

    // Classify root exception and extract relevant metadata
    switch (rootExceptionName) {
        case "MyCustomFunctionalException":
            errorType = rootException.getErrorType()
            errorMessage = rootException.getMessage()
            errorDetails = "Subject : " + rootException.getSubject()
            break
        case "MyCustomTechnicalException":
            errorType = rootException.getErrorType()
            errorMessage = rootException.getMessage()
            errorDetails = "Error code : " + rootException.getErrorCode()
            break
        default:
            errorType = "Unclassified"
            errorMessage = rootException.getMessage()
            break
    }

    msg.setProperty("errorType", errorType)
    msg.setProperty("errorMessage", errorMessage)
    msg.setProperty("errorDetails", errorDetails)
    msg.setProperty("rootExceptionName", rootExceptionName)

    return msg
}

/**
 * Traverses exception causes to find the root exception.
 *
 *  throwable The top-level caught exception.
 * @return The deepest cause (root) of the exception chain.
 */
Exception getRootException(Throwable throwable) {
    def cause = throwable
    while (cause?.getCause() != null &amp;amp;&amp;amp; cause.getCause() != cause) {
        cause = cause.getCause()
    }
    return (Exception) cause
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1216564178"&gt;Conclusion&lt;/H1&gt;&lt;P&gt;From the two examples, you can see how easy it is to define, throw, and handle custom exceptions in Groovy script.&amp;nbsp;I‚Äôve used this technique many times when &lt;EM&gt;throw new Exception()&lt;/EM&gt;&amp;nbsp;just wasn‚Äôt powerful enough.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/custom-groovy-exception-classes-in-sap-cpi/ba-p/14190767"/>
    <published>2025-09-04T06:56:27.590000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/sap-cloud-integration-simplifying-error-handling-with-a-generic-retry-iflow/ba-p/14206093</id>
    <title>SAP Cloud Integration ‚Äì Simplifying Error Handling with a Generic Retry iFlow for Kafka</title>
    <updated>2025-09-04T07:00:32.070000+02:00</updated>
    <author>
      <name>ShraddhaFatale</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1640391</uri>
    </author>
    <content>&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Traditional Retry Handling in SAP Cloud Integration&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Apache Kafka is an open-source distributed event streaming platform used for building real-time data pipelines and applications. It allows you to publish, store, and process streams of records in a fault-tolerant and highly scalable way. It is often used for high-throughput, low-latency messaging between systems.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In enterprise-level integration cases, temporary failures are an unfortunate reality ‚Äî particularly in the context of asynchronous messaging systems such as Apache Kafka. Ensuring these momentary glitches do not lead to data loss or message failure is essential.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In SAP Cloud Integration (CI) iFlows with Kafka, retries are traditionally handled by leveraging Kafka consumer offset management, which allows unprocessed messages to be redelivered. While this ensures reliable message delivery in case of temporary errors, it also introduces challenges such as potential message duplication, out-of-order processing, and difficulty in distinguishing between transient and permanent errors. These factors can complicate error handling and increase the complexity of downstream processing.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Introducing the Retry Mechanism iFlow for Kafka&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;This blog presents a reusable Retry Mechanism iFlow designed specifically for Kafka as the source. It includes configurable retry logic, failure escalation by JIRA ticket, exponential wait time, and dead-letter handling using Apache Kafka ‚Äî all packaged into a generic integration flow you can insert into numerous pipelines.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Key Features&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;&amp;nbsp; Generic &amp;amp; Reusable: &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;To be used across iFlows where Kafka is the sender.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;&amp;nbsp; Dynamic Configuration:&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;OL&gt;&lt;LI&gt;Retry Count&lt;/LI&gt;&lt;LI&gt;Retry Interval&lt;/LI&gt;&lt;LI&gt;Kafka Original &amp;amp; DMQ Topic&lt;/LI&gt;&lt;/OL&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;&amp;nbsp; Optional JIRA ticket creation: &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;For persistent failures.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;&amp;nbsp; Dead Message Queue (DMQ) Handling: &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;Failed messages are routed to a Kafka topic for traceability.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Configurable Parameters &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;(passed via headers from source iFlow)&lt;/SPAN&gt;&lt;/P&gt;&lt;TABLE width="642"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="274"&gt;&lt;P&gt;&lt;STRONG&gt;Parameter&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="369"&gt;&lt;P&gt;&lt;STRONG&gt;Description&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="274"&gt;&lt;P&gt;&lt;SPAN&gt;Retry Interval (in seconds)&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="369"&gt;&lt;P&gt;&lt;SPAN&gt;Wait time before each retry attempt.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="274"&gt;&lt;P&gt;&lt;SPAN&gt;Maximum Retry Attempts&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="369"&gt;&lt;P&gt;&lt;SPAN&gt;Number of times a message retry is attempted.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="274"&gt;&lt;P&gt;&lt;SPAN&gt;Kafka Original Topic (Header)&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="369"&gt;&lt;P&gt;&lt;SPAN&gt;Destination topic for reprocessing.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="274"&gt;&lt;P&gt;&lt;SPAN&gt;DMQ Topic (Header)&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="369"&gt;&lt;P&gt;&lt;SPAN&gt;Topic for persistently failed messages.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Flow Diagram&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ShraddhaFatale_0-1756904376475.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308571i8D132863E8153A3C/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="ShraddhaFatale_0-1756904376475.png" alt="ShraddhaFatale_0-1756904376475.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Integration Flow &lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Below is a sample Integration Flow created to handle retries selectively for connectivity and interface errors.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ShraddhaFatale_1-1756904376478.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308570i4C65E51E1CFAA2F0/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="ShraddhaFatale_1-1756904376478.png" alt="ShraddhaFatale_1-1756904376478.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Flow Logic Explained&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;1&lt;/SPAN&gt;&lt;/STRONG&gt; &lt;STRONG&gt;Start&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Triggered via Process Direct Adapter when an error occurs in the main iFlow.&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Retry?&amp;nbsp;&lt;/STRONG&gt;Checks if the message has exceeded maximum retries.&lt;/LI&gt;&lt;/UL&gt;&lt;UL&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Yes &lt;/STRONG&gt;‚Üí Retry sequence.&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;No ‚Üí &lt;/STRONG&gt;DMQ + Escalation flow&lt;STRONG&gt;.&lt;/STRONG&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ShraddhaFatale_2-1756904376479.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308572iFB42382B3808380B/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="ShraddhaFatale_2-1756904376479.png" alt="ShraddhaFatale_2-1756904376479.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;NOTE:&lt;BR /&gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;The expression retryCount[last] accesses the last element of the retryCount header array to ensure the latest retry attempt is evaluated during routing.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Retry Sequence&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Sleep&lt;BR /&gt;&lt;/STRONG&gt;&lt;SPAN&gt;Groovy script reads waitTime and retryCount headers, calculates an exponential backoff delay (waitTime^retryCount), sleeps for that duration in milliseconds, and sets the new waitTime header accordingly. It preserves the original message body throughout the process.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;pre class="lia-code-sample language-java"&gt;&lt;code&gt;import com.sap.gateway.ip.core.customdev.util.Message;

def Message processData(Message message) {
    // Get all headers
    Map&amp;lt;String, Object&amp;gt; headers = message.getHeaders()

    // --- Extract last value from 'waitTime' header ---
    def waitTimeHeader = headers.get("waitTime")
    Integer waitTime = 1 // Default fallback

    if (waitTimeHeader instanceof List || waitTimeHeader?.getClass()?.isArray()) {
        def lastValue = waitTimeHeader[-1]
        waitTime = lastValue?.toString()?.toInteger() ?: 1
    } else if (waitTimeHeader != null) {
        waitTime = waitTimeHeader?.toString()?.toInteger() ?: 1
    }

    // --- Extract last value from 'retryCount' header ---
    def retryCountHeader = headers.get("retryCount")
    Integer retryCount = 1 // Default fallback

    if (retryCountHeader instanceof List || retryCountHeader?.getClass()?.isArray()) {
        def lastValue = retryCountHeader[-1]
        retryCount = lastValue?.toString()?.toInteger() ?: 1
    } else if (retryCountHeader != null) {
        retryCount = retryCountHeader?.toString()?.toInteger() ?: 1
    }

    // --- Calculate exponential backoff ---
    Integer sleepTimeInSeconds = Math.pow(waitTime, retryCount) as Integer
    Integer sleepTimeInMillis = sleepTimeInSeconds * 1000

    // Set new header
    message.setHeader("waitTime", sleepTimeInSeconds)

    // Preserve original body and sleep
    def body = message.getBody()
    sleep(sleepTimeInMillis)

    message.setBody(body)
    return message
}&lt;/code&gt;&lt;/pre&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Increment Retry Counter&lt;BR /&gt;&lt;/STRONG&gt;This Groovy script reads the retryCount header (handling both single values and arrays), retrieves the last value, increments it by 1, and sets it back in the message header. It ensures retry tracking is correctly updated for each attempt.&lt;/LI&gt;&lt;/UL&gt;&lt;pre class="lia-code-sample language-java"&gt;&lt;code&gt;import com.sap.gateway.ip.core.customdev.util.Message

def Message processData(Message message) {
    // Get all headers
    Map&amp;lt;String, Object&amp;gt; headers = message.getHeaders()

    // Extract retryCount header
    def retryCountHeader = headers.get("retryCount")
    Integer currentCount = 0 // Default fallback

    // If retryCount is an array or list, get the last value
    if (retryCountHeader instanceof List || retryCountHeader?.getClass()?.isArray()) {
        def lastValue = retryCountHeader[-1]
        currentCount = lastValue?.toString()?.toInteger() ?: 0
    } else if (retryCountHeader != null) {
        // Handle as single value
        currentCount = retryCountHeader?.toString()?.toInteger() ?: 0
    }

    // Increment the counter
    currentCount += 1

    // Set the updated value back to the header
    message.setHeader("retryCount", currentCount)

    return message
}
‚Äã&lt;/code&gt;&lt;/pre&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Restore Original Payload&lt;BR /&gt;&lt;/STRONG&gt;Ensures original data is intact for reprocessing&lt;STRONG&gt;.&lt;BR /&gt;&lt;/STRONG&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ShraddhaFatale_10-1756904768075.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308594i31FC0515968647A9/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="ShraddhaFatale_10-1756904768075.png" alt="ShraddhaFatale_10-1756904768075.png" /&gt;&lt;/span&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Resend to Kafka Topic&lt;BR /&gt;&lt;/STRONG&gt;Message is pushed back to the original Kafka topic.&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ShraddhaFatale_11-1756904768076.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308595iDDFD236D0B73D39A/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="ShraddhaFatale_11-1756904768076.png" alt="ShraddhaFatale_11-1756904768076.png" /&gt;&lt;/span&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ShraddhaFatale_12-1756904768077.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308596iD01469CF44D4B834/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="ShraddhaFatale_12-1756904768077.png" alt="ShraddhaFatale_12-1756904768077.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Failure Handling &amp;amp; Escalation&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Send to DMQ&lt;/STRONG&gt;&lt;BR /&gt;Routes the message to a &lt;STRONG&gt;Dead Message Queue Topic&lt;/STRONG&gt; on Kafka for monitoring or auditing. Similar configuration as above, change the Topic name accordingly.&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;JIRA Ticket creation?&lt;/STRONG&gt;&lt;BR /&gt;Based on user‚Äôs configuration in main iflow, determines if a JIRA ticket can be created or not.&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ShraddhaFatale_13-1756904823967.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308597i6E97EDE2F7458625/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="ShraddhaFatale_13-1756904823967.png" alt="ShraddhaFatale_13-1756904823967.png" /&gt;&lt;/span&gt;&lt;STRONG&gt;Construct Body&lt;/STRONG&gt;&lt;BR /&gt;Adds message context, failure reason, and other metadata in a body.&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Creates JIRA Ticket&lt;/STRONG&gt;&lt;BR /&gt;Sends alert to support or integration teams. In this blog I am not covering all Jira configurations, for more information on the this please go through &lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/technology-blog-posts-by-members/jira-adapter-for-sap-integration-suite/ba-p/13930290" target="_blank"&gt;Jira Adapter for SAP Integration Suite&lt;/A&gt;.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;Jira Adapter Response&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ShraddhaFatale_17-1756905005529.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308608iFB0E35DB71030102/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="ShraddhaFatale_17-1756905005529.png" alt="ShraddhaFatale_17-1756905005529.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;Jira Ticket&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ShraddhaFatale_18-1756905020546.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308609iA8766C3A7E87D5C6/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="ShraddhaFatale_18-1756905020546.png" alt="ShraddhaFatale_18-1756905020546.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Escalation End&lt;/STRONG&gt;&lt;BR /&gt;Ends process after notification or after DMQ routing if alerts are disabled.&amp;nbsp;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Integration Points&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;Apache Kafka: &lt;/STRONG&gt;As the core message broker retry target and DMQ for message persistence.&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;JIRA Adapter: &lt;/STRONG&gt;For failure escalation and ticket creation.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Split-in-iFlow Pattern: When Kafka Isn‚Äôt the Source&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In scenarios where the &lt;STRONG&gt;source adapter is not Kafka&lt;/STRONG&gt; (e.g., HTTP, IDoc, SFTP), you can still use the Retry Mechanism by applying a &lt;STRONG&gt;split-iFlow design&lt;/STRONG&gt;:&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Pattern Overview&lt;/STRONG&gt;&lt;/P&gt;&lt;TABLE&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="321"&gt;&lt;P&gt;IFlow&lt;/P&gt;&lt;/TD&gt;&lt;TD width="321"&gt;&lt;P&gt;Role&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="321"&gt;&lt;P&gt;&lt;SPAN&gt;iFlow 1: Sender Adapter ‚Üí Kafka&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="321"&gt;&lt;P&gt;&lt;SPAN&gt;Ingest source data, sends to Kafka (Original Topic), sets required headers.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="321"&gt;&lt;P&gt;&lt;SPAN&gt;iFlow 2: Kafka ‚Üí Processing&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="321"&gt;&lt;P&gt;&lt;SPAN&gt;Handles mapping, transformation, and receiver logic.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="321"&gt;&lt;P&gt;&lt;SPAN&gt;Error Path&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="321"&gt;&lt;P&gt;&lt;SPAN&gt;On failure, calls Retry Mechanism iFlow (via Process Direct).&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="321"&gt;&lt;P&gt;&lt;SPAN&gt;Retry Cycle&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="321"&gt;&lt;P&gt;&lt;SPAN&gt;Retry iFlow manages reprocessing or escalation based on logic.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;This architecture maintains loose coupling, dynamic routing, and centralized error handling across varied protocols and business cases.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="ShraddhaFatale_16-1756904951566.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/308601i2D3D2289E50B0857/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="ShraddhaFatale_16-1756904951566.png" alt="ShraddhaFatale_16-1756904951566.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Why This Matters&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Reduces custom retry logic across iFlows.&lt;/LI&gt;&lt;LI&gt;Centralizes failure handling and monitoring.&lt;/LI&gt;&lt;LI&gt;Makes Kafka-based processing more robust and recoverable.&lt;/LI&gt;&lt;LI&gt;Aligns with event-driven architecture best practices.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Final Thoughts&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;The Retry Mechanism iFlow is a foundational building block for resilient Kafka integrations in SAP Cloud Integration. Whether you‚Äôre integrating external systems, APIs, or internal processes ‚Äî having a centralized, configurable retry logic ensures smoother operations and reduces manual interventions.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;References&lt;/STRONG&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/technology-blog-posts-by-sap/cloud-integration-what-you-need-to-know-about-the-kafka-adapter/ba-p/13495070" target="_blank"&gt;&lt;STRONG&gt;https://community.sap.com/t5/technology-blog-posts-by-sap/cloud-integration-what-you-need-to-know-about-the-kafka-adapter/ba-p/13495070&lt;/STRONG&gt;&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/technology-blog-posts-by-members/optimized-error-management-and-retry-strategy-with-kafka-on-sap-cloud/ba-p/13810790" target="_blank"&gt;&lt;STRONG&gt;https://community.sap.com/t5/technology-blog-posts-by-members/optimized-error-management-and-retry-strategy-with-kafka-on-sap-cloud/ba-p/13810790&lt;/STRONG&gt;&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;&lt;A href="https://medium.com/@lahirurajapakshe.stack/apache-kafka-retry-mechanism-documentation-4cf67f80d6f7" target="_blank" rel="noopener nofollow noreferrer"&gt;&lt;STRONG&gt;https://medium.com/@lahirurajapakshe.stack/apache-kafka-retry-mechanism-documentation-4cf67f80d6f7&lt;/STRONG&gt;&lt;/A&gt;&lt;/LI&gt;&lt;/UL&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-cloud-integration-simplifying-error-handling-with-a-generic-retry-iflow/ba-p/14206093"/>
    <published>2025-09-04T07:00:32.070000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/crm-and-cx-blog-posts-by-sap/new-learning-journey-integrating-sap-sales-cloud-and-sap-service-cloud/ba-p/14208710</id>
    <title>New Learning Journey Integrating SAP Sales Cloud and SAP Service Cloud Version 2 with SAP S/4HANA</title>
    <updated>2025-09-05T15:23:46.964000+02:00</updated>
    <author>
      <name>FernandoRedondo</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/7571</uri>
    </author>
    <content>&lt;P&gt;&lt;SPAN&gt;Hey SAP CX Community! It's Fernando here, checking in!&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Over the past few years, we've been creating numerous educational resources focused on integration topics for SAP Sales and Service Cloud version 1.&amp;nbsp;&lt;/SPAN&gt; From this year on, o&lt;SPAN&gt;ur upcoming focus will be on version 2 extensibility and integration topics&lt;/SPAN&gt;.&amp;nbsp;&lt;SPAN&gt;Today, we are thrilled to announce in this blog post the next major learning milestone for those looking to master the integration of SAP Sales and Service Cloud version 2 with SAP S/4HANA.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Join me in welcoming our newest addition to the&lt;/SPAN&gt;&lt;SPAN&gt;&amp;nbsp;&lt;A href="https://learning.sap.com/" target="_self" rel="noreferrer noopener"&gt;SAP's learning platform&lt;/A&gt;&lt;/SPAN&gt;:&lt;STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-left" image-alt="Map Path Icon" style="width: 97px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/239485i5BF549AB9D745C1E/image-dimensions/97x97?v=v2" width="97" height="97" role="button" title="FernandoRedondo_0-1742376626121.png" alt="FernandoRedondo_0-1742376626121.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;STRONG&gt;&lt;BR /&gt;New Learning Journey&amp;nbsp;&lt;BR /&gt;&lt;/STRONG&gt;&lt;STRONG&gt;&lt;A href="https://learning.sap.com/learning-journeys/integrating-sap-sales-cloud-and-sap-service-cloud-version-2-with-sap-s-4hana" target="_self" rel="noreferrer noopener"&gt;Integrating SAP Sales Cloud and SAP Service Cloud Version 2 with SAP S/4HANA&lt;/A&gt;&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;If you're an integration developer looking to prepare for integrating SAP Sales and Service Cloud version 2 with SAP S/4HANA using Cloud Integration, you've come to the right place. Here, you'll gain the practical knowledge needed to manage the entire end-to-end integration project.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;We've structured our content to ensure that, after finishing this learning journey, integration developers, administrators, and consultants will have the skills to set up, configure, and implement the integration between SAP Sales and Service Cloud version 2 and SAP S/4HANA for master data replication.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Here's a sneak peek of how it appears:&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="C4H48B Course Image.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/309952iC9659975F63607FC/image-size/large/is-moderation-mode/true?v=v2&amp;amp;px=999" role="button" title="C4H48B Course Image.png" alt="C4H48B Course Image.png" /&gt;&lt;/span&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Au&lt;/STRONG&gt;&lt;STRONG&gt;dience&lt;BR /&gt;&lt;/STRONG&gt;The course is meant to be helpful for:&lt;/P&gt;&lt;UL class="lia-list-style-type-disc"&gt;&lt;LI&gt;Integration Developers&lt;/LI&gt;&lt;LI&gt;Technical Consultants&lt;/LI&gt;&lt;LI&gt;Administrators&lt;/LI&gt;&lt;LI&gt;Architects&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;STRONG&gt;Learning Objectives&lt;BR /&gt;&lt;/STRONG&gt;&lt;SPAN&gt;After completing this learning journey, integration developers and technical consultants will gain an overview of the fundamental technical aspects, architecture, and scenarios for the integration between SAP Sales and Service Cloud Version 2, and SAP S/4HANA. You will be able to develop end-to-end integration between these systems based on identifying involved systems, exploring integration scenarios, preparing your system landscape, performing the master data replication procedure, and gaining skills on monitoring and troubleshooting techniques.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Learning Content&lt;BR /&gt;&lt;/STRONG&gt;The learning journey consists of 6 units and provides more than 8 hours of content:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Introducing the Integration of SAP Sales Cloud and SAP Service Cloud Version 2 with SAP S/4HANA&lt;BR /&gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;This unit introduces SAP Sales and Service Cloud integration with SAP S/4HANA, covering SAP's integration strategy, involved systems, standard scenarios, and the course's scope.&lt;/SPAN&gt;.&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Preparing Technical System Settings&lt;BR /&gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;Covers the preparation of technical system settings for integrating SAP Sales and Service Cloud with SAP S/4HANA, including detailed system landscape exploration, communication settings, credential setup, integration package configuration, trust establishment, and Cloud Connector configuration.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Preparing Functional Dependencies in SAP Sales Cloud and SAP Service Cloud Version 2&lt;/SPAN&gt;&lt;BR /&gt;&lt;/STRONG&gt;&lt;SPAN&gt;This unit focuses on preparing functional dependencies in SAP Sales and Service Cloud, including examining object dependencies, understanding external ID mapping and code list maintenance, and setting up code list integration using Incoterms as an example.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Setting Up and Running Product Replication from SAP S/4HANA to SAP Sales Cloud and SAP Service Cloud Version 2&lt;/SPAN&gt;&lt;BR /&gt;&lt;/STRONG&gt;&lt;SPAN&gt;&lt;SPAN&gt;T&lt;/SPAN&gt;&lt;/SPAN&gt;eaches how to set up and run product replication from SAP S/4HANA to SAP Sales and Service Cloud, including configuring communication settings, integration flows, web services, and executing the replication process.&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Setting Up and Running Business Partner Replication from SAP S/4HANA to SAP Sales Cloud and SAP Service Cloud Version 2&lt;/SPAN&gt;&lt;BR /&gt;&lt;/STRONG&gt;&lt;SPAN&gt;This unit covers setting up and running business partner replication from SAP S/4HANA to SAP Sales and Service Cloud, including configuring communication settings, integration flows, service groups, data replication framework, business partner confirmation, and executing the replication process.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;&lt;SPAN&gt;Monitoring Messages and Troubleshooting&lt;/SPAN&gt;&lt;BR /&gt;&lt;/STRONG&gt;&lt;SPAN&gt;Last unit on monitoring messages and troubleshooting in the integration process between SAP S/4HANA and SAP Sales and Service Cloud, including identifying monitoring tools, analyzing common issues, and resolving them effectively.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;After completing successfully this Learning Journey you'll be granted with a digital badge like this one which could be shared and linked to your social networks:&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-left" image-alt="C4H48B Badge.png" style="width: 200px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/310006i9D9C71EC152B87BE/image-size/small/is-moderation-mode/true?v=v2&amp;amp;px=200" role="button" title="C4H48B Badge.png" alt="C4H48B Badge.png" /&gt;&lt;/span&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Give it a try! We plan to create more extensibility learning content for SAP Sales and Service Cloud version 2, and we'd appreciate your feedback on whether these lessons are useful for you or your team.&lt;BR /&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&lt;P&gt;&lt;STRONG&gt;Additional&amp;nbsp;Resources&lt;BR /&gt;&lt;/STRONG&gt;&lt;SPAN&gt;There is a related live session for&amp;nbsp;. You can find more free learning journeys at the&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;, where you can build in-demand SAP skills for&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://learning.sap.com/products/customer-experience" target="_blank" rel="noopener noreferrer"&gt;variety of topics&lt;/A&gt;&lt;SPAN&gt;&amp;nbsp;specifically the SAP CX Solutions portfolio. If you are more in for quick video learning, then, look for our videos&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://learning.sap.com/videos?page=1&amp;amp;lsc_product_category=CRM+and+Customer+Experience&amp;amp;lsc_product=SAP+Integration+Suite&amp;amp;lsc_product=SAP+Extension+Suite&amp;amp;lsc_product=SAP+BTP%2C+Kyma+runtime" target="_blank" rel="noopener noreferrer"&gt;Integration and Extensibility videos for SAP Customer Experience&lt;/A&gt;&lt;SPAN&gt;&amp;nbsp;to get updates on the latest integration and extensibility videos for SAP Customer Experience solutions&lt;/SPAN&gt;&lt;EM&gt;.&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;You can find a related live session on&lt;SPAN&gt;&lt;A href="https://learning.sap.com/live-sessions/starting-with-sap-integration-suite-for-customer-experience-" target="_self" rel="noreferrer noopener"&gt;Starting with SAP Integration Suite for Customer Experience&lt;/A&gt;&lt;/SPAN&gt;. For additional free learning journeys, visit the&amp;nbsp;&lt;A href="https://learning.sap.com/products/customer-experience/integration-and-extensibility" target="_blank" rel="noopener noreferrer"&gt;SAP Learning site for Integration and Extesibility&lt;/A&gt;&amp;nbsp;to build&amp;nbsp;&lt;SPAN&gt;in-demand&lt;/SPAN&gt; SAP skills on a variety of topics, for the SAP CX Solutions portfolio. If you enjoy quick video learning, explore our&amp;nbsp;&lt;A href="https://learning.sap.com/videos?page=1&amp;amp;lsc_product_category=CRM+and+Customer+Experience&amp;amp;lsc_product=SAP+Integration+Suite&amp;amp;lsc_product=SAP+Extension+Suite&amp;amp;lsc_product=SAP+BTP%2C+Kyma+runtime" target="_blank" rel="noopener noreferrer"&gt;Integration and Extensibility videos for SAP Customer Experience&lt;/A&gt; for the newest updates on integration and extensibility for SAP Customer Experience solutions.&lt;/P&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;/DIV&gt;</content>
    <link href="https://community.sap.com/t5/crm-and-cx-blog-posts-by-sap/new-learning-journey-integrating-sap-sales-cloud-and-sap-service-cloud/ba-p/14208710"/>
    <published>2025-09-05T15:23:46.964000+02:00</published>
  </entry>
</feed>
