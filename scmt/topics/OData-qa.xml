<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>https://raw.githubusercontent.com/ajmaradiaga/feeds/main/scmt/topics/OData-qa.xml</id>
  <title>SAP Community - OData</title>
  <updated>2025-10-25T11:14:25.179074+00:00</updated>
  <link href="https://community.sap.com/t5/c-khhcw49343/OData/pd-p/551580658536717501828021060147962" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator>
  <subtitle>OData Q&amp;A in SAP Community</subtitle>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/trl-system-odata-v4-service-group-does-not-get-published-why-error-403-and/qaq-p/14224191</id>
    <title>TRL System OData V4 Service Group does not get published why? (Error 403 and 502)</title>
    <updated>2025-09-22T14:36:55.579000+02:00</updated>
    <author>
      <name>siddle</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2055457</uri>
    </author>
    <content>&lt;P&gt;I'm working on the LG&amp;nbsp;getting-started-with-creating-an-sap-fiori-elements-app-based-on-an-odata-v4-rap-service.&amp;nbsp;&lt;BR /&gt;&lt;BR /&gt;First of all, the Generator Class didn't work, so I tried to duplicate/create the necessary RAP-entities into the Package assigned to me from another package which runs successfully. Now I'm stuck trying to understand why I cannot open the Preview. I get 403 and 502 error codes in the browser, the feed reader also suggests that my service group is not being published although ADT seems to think it has been. The referenced SAP note 1797736 is not being displayed at the moment.&amp;nbsp;&lt;BR /&gt;&lt;BR /&gt;Any more ideas what could be the problem or how to proceed?&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/trl-system-odata-v4-service-group-does-not-get-published-why-error-403-and/qaq-p/14224191"/>
    <published>2025-09-22T14:36:55.579000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/sap-cpi-retrieve-iflow-unique-id-reg-id-via-iflow-workspace-svc/qaq-p/14226635</id>
    <title>SAP CPI: Retrieve Iflow unique id(reg_id) via IFlow (workspace.svc/ContentEntities.ContentPackages)</title>
    <updated>2025-09-24T10:56:31.052000+02:00</updated>
    <author>
      <name>szymon_bolek</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/232195</uri>
    </author>
    <content>&lt;P&gt;&lt;SPAN&gt;Dear experts,&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;There is an internal (unofficial) API for SAP CPI artifacts.&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;https://&amp;lt;your-host&amp;gt;.hana.ondemand.com/odata/1.0/workspace.svc/ContentEntities.ContentPackages('&amp;lt;your-package&amp;gt;')/Artifacts?&amp;amp;$format=json&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;In comparison to the official API, it for packages it will give you an internal ID of an Iflow (reg_id).&amp;nbsp;&lt;BR /&gt;&lt;/SPAN&gt;&lt;SPAN&gt;In browser, once one is logged into CPI, entering the URL will respond with JSON data back.&amp;nbsp;&lt;BR /&gt;But how to execute that in an automated Iflow?&lt;BR /&gt;I already tried to create OAuth2 (Code) credentials, read the Token via script and authenticate via Header. It did not work.&amp;nbsp;&lt;BR /&gt;Any hint, example is more than welcome.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;thank you &amp;amp; kind regards | Simon&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/sap-cpi-retrieve-iflow-unique-id-reg-id-via-iflow-workspace-svc/qaq-p/14226635"/>
    <published>2025-09-24T10:56:31.052000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/sap-btp-integration-suite-learning-exercise/qaq-p/14227350</id>
    <title>SAP BTP Integration Suite learning exercise</title>
    <updated>2025-09-25T04:57:55.368000+02:00</updated>
    <author>
      <name>Suramya_Pazhayathodi</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2182043</uri>
    </author>
    <content>&lt;P&gt;Hi,&lt;/P&gt;&lt;P&gt;I am getting below error while trying to access &lt;A href="https://sapes5.sapdevcenter.com/sap/opu/odata/iwbep/GWSAMPLE_BASIC/ProductSet(HT-1000)" target="_blank" rel="noopener nofollow noreferrer"&gt;https://sapes5.sapdevcenter.com/sap/opu/odata/iwbep/GWSAMPLE_BASIC/ProductSet(HT-1000)&lt;/A&gt;&amp;nbsp;from the SAP BTP Integration Suite learning exercise.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;DIV class=""&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&amp;lt;SAP_Transaction&amp;gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;For backend administrators: use ADT feed reader "SAP Gateway Error Log" or run transaction /IWFND/ERROR_LOG on SAP Gateway hub system and search for entries with the timestamp above for more details&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&amp;lt;/SAP_Transaction&amp;gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/DIV&gt;&lt;DIV class=""&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&amp;lt;SAP_Note&amp;gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;SPAN&gt;See SAP Note 1797736 for error analysis (&lt;A href="https://service.sap.com/sap/support/notes/1797736" target="_blank" rel="noopener noreferrer"&gt;https://service.sap.com/sap/support/notes/1797736&lt;/A&gt;)&lt;/SPAN&gt;&lt;STRONG&gt;&lt;SPAN class=""&gt;&amp;lt;/SAP_Note&amp;gt;&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/DIV&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV class=""&gt;&lt;SPAN class=""&gt;And If I try to access the link from&amp;nbsp;&lt;STRONG&gt;SAP_Note&lt;/STRONG&gt; --&amp;gt;&amp;nbsp;&lt;SPAN&gt;&lt;A href="https://service.sap.com/sap/support/notes/1797736" target="_blank" rel="noopener noreferrer"&gt;https://service.sap.com/sap/support/notes/1797736&lt;/A&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&lt;SPAN&gt;I am getting below message -&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV class=""&gt;&lt;FONT color="#800000"&gt;No&amp;nbsp;data&lt;/FONT&gt;&lt;/DIV&gt;&lt;FONT color="#800000"&gt;&lt;SPAN class=""&gt;&lt;SPAN class=""&gt;Unable to fetch data at the moment. This might be due to a server error or a network issue. Please try again&amp;nbsp;later.&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV class=""&gt;&lt;SPAN class=""&gt;Please let me know how to resolve this.&lt;/SPAN&gt;&lt;/DIV&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/sap-btp-integration-suite-learning-exercise/qaq-p/14227350"/>
    <published>2025-09-25T04:57:55.368000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/f0797-app-extension-odata-service-manage-billing-docs/qaq-p/14230656</id>
    <title>F0797 App Extension OData Service - Manage Billing Docs.</title>
    <updated>2025-09-29T16:19:40.774000+02:00</updated>
    <author>
      <name>zajde1jc</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1758013</uri>
    </author>
    <content>&lt;P&gt;Hello Experts,&lt;/P&gt;&lt;P&gt;I have successfully created a Fiori Extension Project in BAS for Fiori App F0797: Manage Billing Documents. I added a new custom action/button to the worklistview. The new button will update the billing date for the records selected in the worklist. In my app preview, the button is displayed correctly, and the popup is also working as expected and provided the user with the option to select the new billing date.&lt;/P&gt;&lt;P&gt;How to tie this to the backend SAP system for processing?&lt;BR /&gt;The OData project in SEGW is&amp;nbsp;&lt;STRONG&gt;SD_CUSTOMER_INVOICES_MANAGE&lt;/STRONG&gt;. My question is, do I need to create a copy of this project and add my custom logic in the DPC_EXT class?&amp;nbsp; Or, am I able to create a new service entirely and add it to my Extension project in BAS? The new service would only be enabled for my custom action/button. What is the preferred approach when extending Fiori Apps which are UI5 based?&lt;/P&gt;&lt;P&gt;Attached are my worklist custom controller.&amp;nbsp;&lt;/P&gt;&lt;P&gt;Edit-----*&lt;/P&gt;&lt;P&gt;I figured out a solution for this and it is working as expected.&lt;/P&gt;&lt;P&gt;Br,&lt;BR /&gt;Jared&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/f0797-app-extension-odata-service-manage-billing-docs/qaq-p/14230656"/>
    <published>2025-09-29T16:19:40.774000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/s-4hana-api-for-a-journalentryitembasic-changes-order-of-results-if-select/qaq-p/14234653</id>
    <title>S/4HANA API for A_JournalEntryItemBasic changes order of results if $select fields</title>
    <updated>2025-10-03T23:28:17.851000+02:00</updated>
    <author>
      <name>litox</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2257810</uri>
    </author>
    <content>&lt;P&gt;When I query using the REST API the&amp;nbsp;A_JournalEntryItemBasic resource of the &lt;A title="API_JOURNALENTRYITEMBASIC_SRV" href="https://api.sap.com/api/API_JOURNALENTRYITEMBASIC_SRV/tryout" target="_blank" rel="noopener noreferrer"&gt;API_JOURNALENTRYITEMBASIC_SRV&lt;/A&gt; service, if I change the list of fields to retrieve, using the &lt;EM&gt;$select&lt;/EM&gt; parameter, then the order of the results change. Even if I add an &lt;EM&gt;$orderby&amp;nbsp;&lt;/EM&gt;!&lt;/P&gt;&lt;P&gt;For example, I expect that a GET request to this two URLs return the same record (same ID, same URI) but represented with a different set of fields. Because I'm passing `&lt;EM&gt;$top=1&lt;/EM&gt;` so only the first result should be returned:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;GET &lt;A href="https://sandbox.api.sap.com//s4hanacloud/sap/opu/odata/sap/API_JOURNALENTRYITEMBASIC_SRV/" target="_blank" rel="noopener noreferrer"&gt;https://sandbox.api.sap.com//s4hanacloud/sap/opu/odata/sap/API_JOURNALENTRYITEMBASIC_SRV/&lt;/A&gt;&lt;STRONG&gt;A_JournalEntryItemBasic&lt;/STRONG&gt;?%24&lt;STRONG&gt;top=1&lt;/STRONG&gt;&amp;amp;%24select=ID%2CLedger%2CLedgerName%2CSourceLedger%2CLedg&lt;BR /&gt;erFiscalYear%2CControllingArea%2CControllingAreaName%2CCompanyCode%2CCompanyCodeName%2CGLAccount%2CGLAccountName&amp;amp;%24&lt;STRONG&gt;orderby=Ledger&lt;/STRONG&gt;&lt;/LI&gt;&lt;LI&gt;GET &lt;A href="https://sandbox.api.sap.com//s4hanacloud/sap/opu/odata/sap/API_JOURNALENTRYITEMBASIC_SRV/" target="_blank" rel="noopener noreferrer"&gt;https://sandbox.api.sap.com//s4hanacloud/sap/opu/odata/sap/API_JOURNALENTRYITEMBASIC_SRV/&lt;/A&gt;&lt;STRONG&gt;A_JournalEntryItemBasic&lt;/STRONG&gt;?%24&lt;STRONG&gt;top=1&lt;/STRONG&gt;&amp;amp;%24select=WBSElement%2CWBSElementDescription%2CPartnerCo&lt;BR /&gt;mpanyCode%2CPartnerCompanyCodeName%2CCostCtrActivityType%2CCostCtrActivityTypeName%2COrderID%2CLedger&amp;amp;%24&lt;STRONG&gt;orderby=Ledger&lt;/STRONG&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;But two different URIs are returned. First:&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;{'__metadata': {'id': "https://sandbox.api.sap.com/s4hanacloud/sap/opu/odata/sap/API_JOURNALENTRYITEMBASIC_SRV/A_JournalEntryItemBasic('.1~0C.3~0L.4~2018.5~A000.7~1010.9~0000000001')",
  'uri': "https://sandbox.api.sap.com/s4hanacloud/sap/opu/odata/sap/API_JOURNALENTRYITEMBASIC_SRV/A_JournalEntryItemBasic('.1~0C.3~0L.4~2018.5~A000.7~1010.9~0000000001')",
  'type': 'API_JOURNALENTRYITEMBASIC_SRV.A_JournalEntryItemBasicType'},
 'ID': '.1~0C.3~0L.4~2018.5~A000.7~1010.9~0000000001',
 'Ledger': '0C',
 'LedgerName': 'Management Accounting',
 'SourceLedger': '0L',
 'LedgerFiscalYear': '2018',
 'ControllingArea': 'A000',
 'ControllingAreaName': 'Controlling Area A000',
 'CompanyCode': '1010',
 'CompanyCodeName': 'BestRun DE',
 'GLAccount': '1',
 'GLAccountName': 'Paybls Domestic'}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;And second:&lt;/P&gt;&lt;pre class="lia-code-sample language-json"&gt;&lt;code&gt;{'__metadata': {'id': "https://sandbox.api.sap.com/s4hanacloud/sap/opu/odata/sap/API_JOURNALENTRYITEMBASIC_SRV/A_JournalEntryItemBasic('.1~0C.71~.73~.75~.77~')",
  'uri': "https://sandbox.api.sap.com/s4hanacloud/sap/opu/odata/sap/API_JOURNALENTRYITEMBASIC_SRV/A_JournalEntryItemBasic('.1~0C.71~.73~.75~.77~')",
  'type': 'API_JOURNALENTRYITEMBASIC_SRV.A_JournalEntryItemBasicType'},
 'Ledger': '0C',
 'WBSElement': '',
 'WBSElementDescription': '',
 'PartnerCompanyCode': '',
 'PartnerCompanyCodeName': '',
 'CostCtrActivityType': '',
 'CostCtrActivityTypeName': '',
 'OrderID': ''}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;The OData specification says:&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;STRONG&gt;Select System Query Option ($select):&lt;/STRONG&gt; A data service URI with a $select System Query Option &lt;EM&gt;identifies the same set of entities&lt;/EM&gt; as a URI without a $select query option; however, the presence of a $select query option specifies that a response from the data service SHOULD return a subset, as identified by the value of the $select query option, of the properties that would have been returned had the URI not included a $select query option.&lt;/P&gt;&lt;P&gt;What am I missing?&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;UPDATE:&lt;BR /&gt;Apparently what I take as a row ID is actually a&amp;nbsp;&lt;STRONG&gt;GENERATED_ID&lt;/STRONG&gt;&amp;nbsp;: a special property name used in OData services to uniquely identify aggregated or grouped data records. When you request aggregated data in an OData service, a GENERATED_ID property is automatically created for each resulting group. This ID serves as a unique key for that aggregated record, allowing you to request the same aggregated data again by referencing this ID.&lt;/P&gt;&lt;P&gt;So now, I don't know how to identify rows and thus how to match two rows from different queries. Can I rely on the order of the results?&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/s-4hana-api-for-a-journalentryitembasic-changes-order-of-results-if-select/qaq-p/14234653"/>
    <published>2025-10-03T23:28:17.851000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/consuming-two-odatas-from-different-destinations/qaq-p/14234869</id>
    <title>Consuming two ODatas from different destinations</title>
    <updated>2025-10-04T22:24:37.361000+02:00</updated>
    <author>
      <name>saplearner3000</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2044896</uri>
    </author>
    <content>&lt;P&gt;Hello experts,&lt;/P&gt;&lt;P&gt;I’m facing an auth/routing issue after deploying a Fiori/UI5 app to BTP CF. Locally everything works: calls to an OData V2 service must go through a Destination named &lt;STRONG&gt;DEST&lt;/STRONG&gt; (BasicAuthentication with a technical user), while other OData calls go through &lt;STRONG&gt;s4destination&lt;/STRONG&gt; (xsuaa).&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Symptom (only after deploy):&lt;/STRONG&gt; calls sometimes reach the backend as &lt;STRONG&gt;my own user&lt;/STRONG&gt; instead of the technical user from &lt;STRONG&gt;DEST&lt;/STRONG&gt; — or the opposite (all calls go as the technical user), even when I’m calling the “DEST” dataSource.&lt;/P&gt;&lt;P&gt;This is my destination configuration:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="saplearner3000_0-1759609520222.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/322864i66F34AB0348705C1/image-size/medium?v=v2&amp;amp;px=400" role="button" title="saplearner3000_0-1759609520222.png" alt="saplearner3000_0-1759609520222.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="saplearner3000_1-1759600813530.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/322858i8F20CE16A185F84F/image-size/medium?v=v2&amp;amp;px=400" role="button" title="saplearner3000_1-1759600813530.png" alt="saplearner3000_1-1759600813530.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;The OData I'm trying to call is FAC_GL_DOCUMENT_POST_SRV. In deploy it goes through the s4destrt destination, which is the one I use for the others OData calls. This is my xd-app.json:&amp;nbsp;&lt;/P&gt;&lt;DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; {&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"welcomeFile"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"/index.html"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"authenticationMethod"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"route"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"logout"&lt;/SPAN&gt;&lt;SPAN&gt;: {&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"logoutEndpoint"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"/do/logout"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"logoutPage"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"/"&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; },&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"sessionTimeout"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;60&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"routes"&lt;/SPAN&gt;&lt;SPAN&gt;: [&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"source"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"^/DEST/(.*)$"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"target"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"$1"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"destination"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"DEST"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"authenticationType"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"none"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"csrfProtection"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;false&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"source"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"^/s4destination/(.*)$"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"target"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"$1"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"destination"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"s4destination"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"authenticationType"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"xsuaa"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"csrfProtection"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;false&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }, &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"source"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"^/resources/(.*)$"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"target"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"/resources/$1"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"authenticationType"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"none"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"destination"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"ui5"&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"source"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"^/test-resources/(.*)$"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"target"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"/test-resources/$1"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"authenticationType"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"none"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"destination"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"ui5"&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"source"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"^(.*)$"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"target"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"$1"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"service"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"html5-apps-repo-rt"&lt;/SPAN&gt;&lt;SPAN&gt;,&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/SPAN&gt;&lt;SPAN&gt;"authenticationType"&lt;/SPAN&gt;&lt;SPAN&gt;: &lt;/SPAN&gt;&lt;SPAN&gt;"xsuaa"&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; &amp;nbsp; ]&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;&amp;nbsp; }&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;This is my manifest:&amp;nbsp;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;"dataSources": {&lt;BR /&gt;"mainService": {&lt;BR /&gt;"uri": "s4destination/sap/opu/odata4/sap/odata1/",&lt;BR /&gt;"type": "OData",&lt;BR /&gt;"settings": { "odataVersion": "4.0" }&lt;BR /&gt;},&lt;BR /&gt;"FAC_GL_DOCUMENT_POST_SRV": {&lt;BR /&gt;"uri": "DEST/sap/opu/odata/sap/FAC_GL_DOCUMENT_POST_SRV/",&lt;BR /&gt;"type": "OData",&lt;BR /&gt;"settings": { "odataVersion": "2.0" }&lt;BR /&gt;}&lt;BR /&gt;}&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;Can you help me solve this issue? Thanks!&lt;/DIV&gt;&lt;/DIV&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/consuming-two-odatas-from-different-destinations/qaq-p/14234869"/>
    <published>2025-10-04T22:24:37.361000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/cpi-odata-v2-patch-request-includes-key-in-body/qaq-p/14238553</id>
    <title>CPI: OData v2 PATCH request includes key in body</title>
    <updated>2025-10-08T18:02:23.540000+02:00</updated>
    <author>
      <name>Willem_Pardaens</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/139578</uri>
    </author>
    <content>&lt;P&gt;I'm creating an iflow using the OData v2 adapter to connect to S/4HANA 2023 FPS02 (on-premise) using the &lt;A href="https://api.sap.com/api/OP_API_SALES_ORDER_SRV_0001/overview?ReleaseInfo=2023%20FPS02" target="_self" rel="noopener noreferrer"&gt;SalesOrder (A2X)&lt;/A&gt; API package. The iflow needs to update a Sales Order with a delivery block.&lt;/P&gt;&lt;P&gt;For this I'm using a PATCH request. This request is automatically configured through the wizard fetching the metadata from the S/4HANA server:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Willem_Pardaens_0-1759938063271.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/324795i020FB7A9F93DD5C9/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Willem_Pardaens_0-1759938063271.png" alt="Willem_Pardaens_0-1759938063271.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;The payload data is set via a message mapping taking the values from exchange properties, being mapped to the XSD generated from the above PATCH configuration:&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Willem_Pardaens_1-1759938133177.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/324796iD88C7521FA915B61/image-size/medium/is-moderation-mode/true?v=v2&amp;amp;px=400" role="button" title="Willem_Pardaens_1-1759938133177.png" alt="Willem_Pardaens_1-1759938133177.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Given that 'SalesOrder' is the key field it is marked as mandatory in the EDMX and a value is required.&lt;/P&gt;&lt;P&gt;The problem I'm facing is that the query going to S/4HANA correctly has the key field in the url, but also (incorrectly) in the body:&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;request:
PATCH /sap/opu/odata/sap/API_SALES_ORDER_SRV/A_SalesOrder(SalesOrder='123')

body:
&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;
&amp;lt;A_SalesOrder&amp;gt;
  &amp;lt;A_SalesOrderType&amp;gt;
    &amp;lt;SalesOrder&amp;gt;123&amp;lt;/SalesOrder&amp;gt;
    &amp;lt;DeliveryBlockReason&amp;gt;50&amp;lt;/DeliveryBlockReason&amp;gt;
  &amp;lt;/A_SalesOrderType&amp;gt;
&amp;lt;/A_SalesOrder&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;To which S/4HANA responds: "Key field SALESORDER must not be changed.". This error is correct according to the OData specification mentioning that key fields should not be part of the body. This is also confirmed by the API docs: "&lt;SPAN&gt;You must always provide all key fields in the URL to identify the entity." A simple test case without that field in the body goes through fine.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;I know that I can easily get around this by using custom logic etc, but I'm looking for a clean, out-of-the-box solution.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Is there a specific configuration in the OData v2 adapter to make it remove key fields from the body for patch calls? Removing the field from the 'Fields' setting does not make a difference.&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/cpi-odata-v2-patch-request-includes-key-in-body/qaq-p/14238553"/>
    <published>2025-10-08T18:02:23.540000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/can-i-use-custom-view-entity-as-value-help/qaq-p/14239584</id>
    <title>Can I use custom view entity as Value Help?</title>
    <updated>2025-10-09T17:11:13.062000+02:00</updated>
    <author>
      <name>bigflatfoot</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/887707</uri>
    </author>
    <content>&lt;P&gt;Title. I have created a custom view entity which selects from custom table. I'm trying to use it as value help on a specific custom field. However, the value help couldn't be found when selecting for value helps.&lt;BR /&gt;&lt;BR /&gt;I have added the annotations but still no success:&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1692417"&gt;@search&lt;/a&gt;.searchable: true
@ObjectModel.dataCategory: #VALUE_HELP
@ObjectModel.usageType: {
serviceQuality: #X
sizeCategory: #S
dataClass: #MIXED
}&lt;/code&gt;&lt;/pre&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/can-i-use-custom-view-entity-as-value-help/qaq-p/14239584"/>
    <published>2025-10-09T17:11:13.062000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/http-failed-internal-error-in-sap-gateway-client-for-odata-service/qaq-p/14239882</id>
    <title>HTTP failed: INTERNAL_ERROR in SAP Gateway Client for OData Service</title>
    <updated>2025-10-10T05:54:47.446000+02:00</updated>
    <author>
      <name>ashokkandel</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2184036</uri>
    </author>
    <content>&lt;P&gt;Hi Experts,&lt;/P&gt;&lt;P&gt;I'm testing an OData service&amp;nbsp; in the SAP Gateway Client with the Request URI /sap/opu/odata/sap/.../$format=xml using a GET method. I’m encountering an "&lt;STRONG&gt;HTTP failed: INTERNAL_ERROR&lt;/STRONG&gt;" message. The Error Log tab shows no additional details yet.&lt;/P&gt;&lt;P&gt;Could you please help me understand how to resolve this INTERNAL_ERROR? &amp;nbsp;is this a configuration issue or a system problem?&lt;/P&gt;&lt;P&gt;Thank you in advance for your support.&lt;/P&gt;&lt;P&gt;Best regards,&lt;BR /&gt;Ashok&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/http-failed-internal-error-in-sap-gateway-client-for-odata-service/qaq-p/14239882"/>
    <published>2025-10-10T05:54:47.446000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/how-to-maintain-user-context-when-making-programmatic-draft-queries-in-sap/qaq-p/14243154</id>
    <title>How to Maintain User Context When Making Programmatic Draft Queries in SAP CAP?</title>
    <updated>2025-10-14T09:47:29.239000+02:00</updated>
    <author>
      <name>mlu2</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1379</uri>
    </author>
    <content>&lt;H1 id="how-to-maintain-user-context-when-making-programmatic-draft-queries-in-sap-cap" id="toc-hId-1633686307"&gt;How to Maintain User Context When Making Programmatic Draft Queries in SAP CAP?&lt;/H1&gt;&lt;H2 id="problem-summary" id="toc-hId-1566255521"&gt;Problem Summary&lt;/H2&gt;&lt;P&gt;When creating drafts via authenticated OData requests in SAP CAP, subsequent programmatic queries using&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.run()&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;fail to find those drafts. The root cause is that&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.run()&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;defaults to&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;'anonymous'&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;user context instead of preserving the authenticated user from the HTTP request.&lt;/P&gt;&lt;H2 id="detailed-description" id="toc-hId-1369742016"&gt;Detailed Description&lt;/H2&gt;&lt;P&gt;I have a draft-enabled entity in my CAP application. When I create a draft through an authenticated OData POST request (user: 'alice'), the draft is successfully created with&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;DraftAdministrativeData.InProcessByUser = 'alice'&lt;/CODE&gt;.&lt;/P&gt;&lt;P&gt;However, when I try to query for this draft programmatically using&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.run(SELECT.from(Books.drafts))&lt;/CODE&gt;, CAP automatically adds the filter&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;InProcessByUser = 'anonymous'&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;instead of 'alice', causing the query to return no results.&lt;/P&gt;&lt;H2 id="reproduction" id="toc-hId-1173228511"&gt;Reproduction&lt;/H2&gt;&lt;P&gt;I've created a minimal CAP application that demonstrates this issue:&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Repository:&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://github.com/urlmic/cap-draft-user-context-issue" target="_blank" rel="noopener nofollow noreferrer"&gt;https://github.com/urlmic/cap-draft-user-context-issue&lt;/A&gt;&lt;/P&gt;&lt;H3 id="schema-dbschemacds" id="toc-hId-1105797725"&gt;Schema (&lt;CODE&gt;db/schema.cds&lt;/CODE&gt;)&lt;/H3&gt;&lt;PRE&gt;&lt;CODE&gt;namespace my.bookshop;

entity Books {
  key ID     : UUID;
      title  : String(100);
      author : String(100);
}&lt;/CODE&gt;&lt;/PRE&gt;&lt;H3 id="service-srvcatalog-servicecds" id="toc-hId-909284220"&gt;Service (&lt;CODE&gt;srv/catalog-service.cds&lt;/CODE&gt;)&lt;/H3&gt;&lt;PRE&gt;&lt;CODE&gt;using my.bookshop from '../db/schema';

service CatalogService {
  @odata.draft.enabled
  entity Books as projection on bookshop.Books;
}&lt;/CODE&gt;&lt;/PRE&gt;&lt;H3 id="test-testdraft-contexttestjs" id="toc-hId-712770715"&gt;Test (&lt;CODE&gt;test/draft-context.test.js&lt;/CODE&gt;)&lt;/H3&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; cds &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;require&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'@sap/cds'&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;&lt;SPAN class=""&gt;describe&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'Draft User Context Issue'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; () &lt;SPAN class=""&gt;=&amp;gt;&lt;/SPAN&gt; {&lt;/SPAN&gt;
&lt;SPAN&gt;  &lt;SPAN class=""&gt;const&lt;/SPAN&gt; { axios } &lt;SPAN class=""&gt;=&lt;/SPAN&gt; cds&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;test&lt;/SPAN&gt;(&lt;SPAN class=""&gt;__dirname&lt;/SPAN&gt; &lt;SPAN class=""&gt;+&lt;/SPAN&gt; &lt;SPAN class=""&gt;'/..'&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;  &lt;SPAN class=""&gt;let&lt;/SPAN&gt; draftID&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;  &lt;SPAN class=""&gt;// Authenticate as 'alice' user&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;  axios&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;defaults&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;auth&lt;/SPAN&gt; &lt;SPAN class=""&gt;=&lt;/SPAN&gt; { &lt;SPAN class=""&gt;username&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;SPAN class=""&gt;'alice'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; &lt;SPAN class=""&gt;password&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;SPAN class=""&gt;'alice'&lt;/SPAN&gt; }&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;  &lt;SPAN class=""&gt;test&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'Create draft via OData (authenticated as alice)'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; &lt;SPAN class=""&gt;async&lt;/SPAN&gt; () &lt;SPAN class=""&gt;=&amp;gt;&lt;/SPAN&gt; {&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;const&lt;/SPAN&gt; { data } &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; axios&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;post&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'/odata/v4/catalog/Books'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; {&lt;/SPAN&gt;
&lt;SPAN&gt;      &lt;SPAN class=""&gt;title&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;SPAN class=""&gt;'Test Book'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;      &lt;SPAN class=""&gt;author&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;SPAN class=""&gt;'Test Author'&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    })&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(data&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;IsActiveEntity&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBe&lt;/SPAN&gt;(&lt;SPAN class=""&gt;false&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(data&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;HasActiveEntity&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBe&lt;/SPAN&gt;(&lt;SPAN class=""&gt;false&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    draftID &lt;SPAN class=""&gt;=&lt;/SPAN&gt; data&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;ID&lt;/SPAN&gt;&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;  })&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;  &lt;SPAN class=""&gt;test&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'Query draft programmatically (loses user context)'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; &lt;SPAN class=""&gt;async&lt;/SPAN&gt; () &lt;SPAN class=""&gt;=&amp;gt;&lt;/SPAN&gt; {&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;const&lt;/SPAN&gt; srv &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; cds&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;connect&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'CatalogService'&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;const&lt;/SPAN&gt; { Books } &lt;SPAN class=""&gt;=&lt;/SPAN&gt; srv&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;entities&lt;/SPAN&gt;&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;    &lt;SPAN class=""&gt;// This query fails because it uses 'anonymous' user instead of 'alice'&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;const&lt;/SPAN&gt; draft &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; srv&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;run&lt;/SPAN&gt;(SELECT&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;from&lt;/SPAN&gt;(Books&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;drafts&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;where&lt;/SPAN&gt;({ &lt;SPAN class=""&gt;ID&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; draftID }))&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;    &lt;SPAN class=""&gt;console&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;log&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'Draft found:'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; draft)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(draft)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBeDefined&lt;/SPAN&gt;()&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(draft&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;length&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBe&lt;/SPAN&gt;(&lt;SPAN class=""&gt;1&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt; &lt;SPAN class=""&gt;// FAILS: Returns empty array []&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;  })&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;  &lt;SPAN class=""&gt;test&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'Query draft via OData (keeps user context)'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; &lt;SPAN class=""&gt;async&lt;/SPAN&gt; () &lt;SPAN class=""&gt;=&amp;gt;&lt;/SPAN&gt; {&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;// This works fine because the HTTP request carries 'alice' user context&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;const&lt;/SPAN&gt; { data } &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; axios&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;get&lt;/SPAN&gt;(&lt;SPAN class=""&gt;`/odata/v4/catalog/Books(ID=&lt;/SPAN&gt;&lt;SPAN class=""&gt;${&lt;/SPAN&gt;draftID&lt;SPAN class=""&gt;}&lt;/SPAN&gt;&lt;SPAN class=""&gt;,IsActiveEntity=false)`&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(data)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBeDefined&lt;/SPAN&gt;()&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(data&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;IsActiveEntity&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBe&lt;/SPAN&gt;(&lt;SPAN class=""&gt;false&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt; &lt;SPAN class=""&gt;// PASSES&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;  })&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;})&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;H2 id="test-results" id="toc-hId-387174491"&gt;Test Results&lt;/H2&gt;&lt;PRE&gt;&lt;CODE&gt;✅ Test 1: Create draft via OData (passes)
❌ Test 2: Query draft programmatically (fails - returns [])
✅ Test 3: Query draft via OData (passes)&lt;/CODE&gt;&lt;/PRE&gt;&lt;H2 id="sql-evidence" id="toc-hId-190660986"&gt;SQL Evidence&lt;/H2&gt;&lt;P&gt;With&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;cds.env.log.sql = true&lt;/CODE&gt;, I can observe the different user contexts:&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Draft Creation (works):&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;INSERT&lt;/SPAN&gt; &lt;SPAN class=""&gt;INTO&lt;/SPAN&gt; my_bookshop_Books_drafts (&lt;SPAN class=""&gt;..&lt;/SPAN&gt;.) &lt;SPAN class=""&gt;VALUES&lt;/SPAN&gt; (&lt;SPAN class=""&gt;..&lt;/SPAN&gt;.)&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;INSERT&lt;/SPAN&gt; &lt;SPAN class=""&gt;INTO&lt;/SPAN&gt; my_bookshop_Books_drafts_DraftAdministrativeData &lt;/SPAN&gt;
&lt;SPAN&gt;  (InProcessByUser, &lt;SPAN class=""&gt;..&lt;/SPAN&gt;.) &lt;SPAN class=""&gt;VALUES&lt;/SPAN&gt; (&lt;SPAN class=""&gt;'alice'&lt;/SPAN&gt;, &lt;SPAN class=""&gt;..&lt;/SPAN&gt;.)&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;P&gt;&lt;STRONG&gt;OData Query (works):&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;SELECT&lt;/SPAN&gt; &lt;SPAN class=""&gt;..&lt;/SPAN&gt;. &lt;SPAN class=""&gt;FROM&lt;/SPAN&gt; my_bookshop_Books_drafts &lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;WHERE&lt;/SPAN&gt; &lt;SPAN class=""&gt;ID&lt;/SPAN&gt; &lt;SPAN class=""&gt;=&lt;/SPAN&gt; ? &lt;SPAN class=""&gt;AND&lt;/SPAN&gt; DraftAdministrativeData.InProcessByUser &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;'alice'&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;P&gt;&lt;STRONG&gt;Programmatic Query (fails):&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;SELECT&lt;/SPAN&gt; &lt;SPAN class=""&gt;..&lt;/SPAN&gt;. &lt;SPAN class=""&gt;FROM&lt;/SPAN&gt; my_bookshop_Books_drafts &lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;WHERE&lt;/SPAN&gt; &lt;SPAN class=""&gt;ID&lt;/SPAN&gt; &lt;SPAN class=""&gt;=&lt;/SPAN&gt; ? &lt;SPAN class=""&gt;AND&lt;/SPAN&gt; DraftAdministrativeData.InProcessByUser &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;'anonymous'&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;H2 id="what-ive-tried" id="toc-hId--5852519"&gt;What I've Tried&lt;/H2&gt;&lt;OL&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;Using&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.run()&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;directly:&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; srv &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; cds&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;connect&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'CatalogService'&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; draft &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; srv&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;run&lt;/SPAN&gt;(SELECT&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;from&lt;/SPAN&gt;(Books&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;drafts&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;where&lt;/SPAN&gt;({ &lt;SPAN class=""&gt;ID&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; draftID }))&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;// Result: Uses 'anonymous' user context&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;Creating a transaction with&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.tx()&lt;/CODE&gt;:&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; srv &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; cds&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;connect&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'CatalogService'&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; tx &lt;SPAN class=""&gt;=&lt;/SPAN&gt; srv&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;tx&lt;/SPAN&gt;()&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; draft &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; tx&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;run&lt;/SPAN&gt;(SELECT&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;from&lt;/SPAN&gt;(Books&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;drafts&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;where&lt;/SPAN&gt;({ &lt;SPAN class=""&gt;ID&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; draftID }))&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;// Result: Still uses 'anonymous' user context&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;Using&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.tx({ user: new cds.User.Privileged() })&lt;/CODE&gt;:&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; tx &lt;SPAN class=""&gt;=&lt;/SPAN&gt; srv&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;tx&lt;/SPAN&gt;({ &lt;SPAN class=""&gt;user&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;SPAN class=""&gt;new&lt;/SPAN&gt; cds&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;User&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;Privileged&lt;/SPAN&gt;() })&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;// Result: TypeError - cannot read properties of undefined&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;H2 id="expected-behavior" id="toc-hId-144888333"&gt;Expected Behavior&lt;/H2&gt;&lt;P&gt;When user 'alice' creates a draft via an authenticated OData request, programmatic queries within the same test context should use the same user context ('alice'), allowing me to query for drafts created by that user.&lt;/P&gt;&lt;H2 id="questions" id="toc-hId--51625172"&gt;Questions&lt;/H2&gt;&lt;OL&gt;&lt;LI&gt;&lt;STRONG&gt;How do I properly maintain user context when making programmatic draft queries?&lt;/STRONG&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Is there a way to pass the HTTP request's user context to&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.run()&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;or&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;tx.run()&lt;/CODE&gt;?&lt;/STRONG&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;What is the recommended pattern for querying drafts in service handlers or custom logic?&lt;/STRONG&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;H2 id="environment" id="toc-hId--248138677"&gt;Environment&lt;/H2&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;CAP Version:&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/cds ^9&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Node.js:&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;v18+&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Test Framework:&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;Jest with &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/163398"&gt;@cap&lt;/a&gt;-js/cds-test ^0.4.0&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Database:&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;SQLite (in-memory)&lt;/LI&gt;&lt;/UL&gt;&lt;H2 id="additional-context" id="toc-hId--444652182"&gt;Additional Context&lt;/H2&gt;&lt;P&gt;This issue occurs in integration tests where I need to verify that business logic correctly handles draft entities. The draft queries work fine when called via OData (HTTP requests carry user context), but fail when called programmatically (no user context propagation).&lt;/P&gt;&lt;P&gt;I've reviewed the CAP documentation on draft handling, but couldn't find clear guidance on maintaining user context for programmatic queries.&lt;/P&gt;&lt;HR /&gt;&lt;P&gt;&lt;STRONG&gt;Any help or guidance would be greatly appreciated!&lt;/STRONG&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/how-to-maintain-user-context-when-making-programmatic-draft-queries-in-sap/qaq-p/14243154"/>
    <published>2025-10-14T09:47:29.239000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/generate-pdf-form-on-s-4hana-cloud-public-edition-from-btp-app/qaq-p/14243885</id>
    <title>Generate PDF form on S/4HANA Cloud, public edition from BTP app</title>
    <updated>2025-10-14T18:53:33.949000+02:00</updated>
    <author>
      <name>daa</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/16417</uri>
    </author>
    <content>&lt;P&gt;I’m building a BTP CAP application which should retrieve the PDF printout of an Outbound Delivery (FDP_V2_DELIVERY_NOTE_V1 template )out of an S/4HANA Cloud, public edition system.&lt;/P&gt;&lt;P&gt;Since no direct API exists (like for billing documents &lt;A href="https://api.sap.com/api/API_BILLING_DOCUMENT_SRV/overview" target="_blank" rel="noopener noreferrer"&gt;Overview | Billing Document - Read, Cancel, GetPDF | SAP Business Accelerator Hub&lt;/A&gt;), as per my understanding I’m left with three options:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;Recreate the same form I have on S/4HANA on BTP with &lt;A href="https://www.sap.com/italy/products/technology-platform/forms-service-by-adobe.html" target="_blank" rel="noopener noreferrer"&gt;SAP Forms Service by Adobe&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;Get the PDF directly from CA_OC_OUTPUT_REQUEST_SRV Service&lt;/LI&gt;&lt;LI&gt;Create a small custom ABAP service to be called from BTP which, given a specific delivery number, could return a PDF&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;I tried all those routes, but couldn’t succeed for various reasons:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;A href="https://www.sap.com/italy/products/technology-platform/forms-service-by-adobe.html" target="_blank" rel="noopener noreferrer"&gt;SAP Forms Service by Adobe&lt;/A&gt;&lt;/LI&gt;&lt;OL class="lia-list-style-type-lower-alpha"&gt;&lt;LI&gt;it seems I can’t reuse the layout I made since the service only accept only one file, whereas mine is comprised of a master form and a content for&lt;/LI&gt;&lt;LI&gt;even if I could recreate it from scratch I don't know how I can get data out of the standard Data Provider (FDP_V2_DELIV_NOTE_LO_GLO_GEN_SRV) to pass it to the layout&lt;/LI&gt;&lt;/OL&gt;&lt;LI&gt;this does not seem to be a released API, therefore I think I could have a problem with Communication Arrangement technical user&lt;/LI&gt;&lt;LI&gt;on Premise FM like ‘FP_JOB_OPEN’ etc.. are obviously forbidden, so I tried with proper classes like &lt;STRONG&gt;cl_fp_form_reader &lt;/STRONG&gt;like suggested in Note &lt;A href="https://me.sap.com/notes/3355397/E" target="_blank" rel="noopener noreferrer"&gt;3355397 - No support for custom form templates in S/4 HANA Cloud Developer Extensibility - SAP for Me&lt;/A&gt;, however, &amp;nbsp;since the form &lt;EM&gt;was &lt;/EM&gt;created using Maintain Form Template App, I tried to create in ADT, but no standard Data Provider can be chosen and I can’t even create my own copy with the proper annotations (as explained in note &lt;A href="https://me.sap.com/notes/3650179" target="_blank" rel="noopener noreferrer"&gt;3650179 - [2508] Cannot select data provider in ADT Form dialog - SAP for Me&lt;/A&gt;) because I can’t open SEGW on a Public Cloud environment.&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;I’ve hit a dead end. Can someone share a tip?&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/generate-pdf-form-on-s-4hana-cloud-public-edition-from-btp-app/qaq-p/14243885"/>
    <published>2025-10-14T18:53:33.949000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/how-can-i-connect-sap-customer-data-platform-cdp-to-sap-analytics-cloud-sac/qaq-p/14244385</id>
    <title>How can I connect SAP Customer Data Platform (CDP) to SAP Analytics Cloud (SAC)?</title>
    <updated>2025-10-15T09:21:08.358000+02:00</updated>
    <author>
      <name>rdurdu1</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1396757</uri>
    </author>
    <content>&lt;P&gt;Hi everyone,&lt;/P&gt;&lt;P&gt;I’m currently exploring integration options between &lt;STRONG&gt;SAP Customer Data Platform (CDP)&lt;/STRONG&gt; and &lt;STRONG&gt;SAP Analytics Cloud (SAC)&lt;/STRONG&gt; to enable analytics and dashboarding based on CDP data.&amp;nbsp;&lt;/P&gt;&lt;P&gt;As far as I know, SAC does not currently offer a &lt;STRONG&gt;direct live connection&lt;/STRONG&gt; to SAP CDP. However, I’m trying to understand what would be the &lt;STRONG&gt;best possible architecture&lt;/STRONG&gt; to bring CDP data into SAC — for example, by using &lt;STRONG&gt;SAP Cloud Integration (CPI)&lt;/STRONG&gt; (or any equivalent integration layer).&lt;/P&gt;&lt;P&gt;My goal is to:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;Enable reporting and visualization of CDP data in SAC&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Stay within SAP’s supported and recommended integration patterns&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;I would like to know:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;P&gt;Is there any &lt;STRONG&gt;standard or recommended approach&lt;/STRONG&gt; for connecting SAP CDP to SAC (directly or indirectly)?&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Can &lt;STRONG&gt;SAP CPI&lt;/STRONG&gt; act as an intermediary layer — for example, exposing an &lt;STRONG&gt;OData API&lt;/STRONG&gt; or using the &lt;STRONG&gt;SAC Data Import Service API&lt;/STRONG&gt; to push data into SAC?&lt;/P&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;If anyone has implemented a similar scenario or can share documentation, architecture examples, or experiences, that would be very helpful.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Thanks in advance for your insights.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Recep&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/how-can-i-connect-sap-customer-data-platform-cdp-to-sap-analytics-cloud-sac/qaq-p/14244385"/>
    <published>2025-10-15T09:21:08.358000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/error-failed-to-initialize-application-data-service-error-500/qaq-p/14244669</id>
    <title>Error: Failed to initialize application data service - Error: 500 ()</title>
    <updated>2025-10-15T13:03:50.618000+02:00</updated>
    <author>
      <name>ManuelDolenz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2120875</uri>
    </author>
    <content>&lt;P&gt;Hello everyone,&lt;BR /&gt;Hello&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/3305"&gt;@Jitendra_Kansal78&lt;/a&gt;,&amp;nbsp;&lt;/P&gt;&lt;P&gt;I built a SAP MDK Mobile Application via the BAS.&amp;nbsp;&lt;BR /&gt;To do so I created two OData services in my ERP system and two destinations in my BTP account.&lt;/P&gt;&lt;P&gt;The creation of the apps via the CRUD template went well and also the deployment on Android and iOS mobile devices worked perfectly fine.&amp;nbsp;&lt;/P&gt;&lt;P&gt;I now saw that you can also choose to deploy the app as a Cloud Foundry web application.&amp;nbsp;&lt;BR /&gt;Initially the deployment is completed successfully, but then, when I open the generated link, I get this error message at the top of the main page:&lt;BR /&gt;&lt;SPAN&gt;Failed to initialize application data service - Error: 500 (); GET /nsJobViewerBAS_CRUD/job_infos/ Internal Server Error&lt;BR /&gt;&lt;BR /&gt;&lt;/SPAN&gt;I saw these two posts:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/technology-q-a/error-500-get-nsdemosampleapp-com-sap-edm-sampleservice-v2-internal-server/qaq-p/12753245" target="_blank"&gt;https://community.sap.com/t5/technology-q-a/error-500-get-nsdemosampleapp-com-sap-edm-sampleservice-v2-internal-server/qaq-p/12753245&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/technology-q-a/failed-to-initialize-application-data-service/qaq-p/12684025" target="_blank"&gt;https://community.sap.com/t5/technology-q-a/failed-to-initialize-application-data-service/qaq-p/12684025&lt;/A&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;But no real solution can be found there. I also tried to change the&amp;nbsp;&lt;SPAN&gt;CSDL Options &amp;gt; select IgnoreAllAnnotations &amp;amp; ignoreAllReferences. but sadly it did not work for me.&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Please let me know if I should provide any details.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Best regards,&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Manuel&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/error-failed-to-initialize-application-data-service-error-500/qaq-p/14244669"/>
    <published>2025-10-15T13:03:50.618000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/odata-services-abap-restful-application-programming-model/qaq-p/14246361</id>
    <title>OData Services  ABAP RESTful application programming model</title>
    <updated>2025-10-16T20:56:41.160000+02:00</updated>
    <author>
      <name>venkatasumanth</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2257991</uri>
    </author>
    <content>&lt;P&gt;Hi Everyone,&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;I’m working on the S4D400 exercise where we create a subpackage&amp;nbsp; ZS4D400 and copy the table &amp;nbsp;/LRN/S4D400_APT to our own package.&lt;/P&gt;&lt;P&gt;However, I noticed that my main package S4D400 doesn’t exist in my ABAP environment.&lt;/P&gt;&lt;P&gt;Should I create this package manually, or is it supposed to be pre-delivered by the system?&lt;/P&gt;&lt;P&gt;I need some suggestions how to find that package. so that I can create the application.&lt;BR /&gt;&lt;BR /&gt;Thanks in advance&lt;BR /&gt;Sumanth.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/odata-services-abap-restful-application-programming-model/qaq-p/14246361"/>
    <published>2025-10-16T20:56:41.160000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/abstract-entity-with-optional-nullable-fields/qaq-p/14248322</id>
    <title>abstract entity with optional/nullable fields</title>
    <updated>2025-10-20T09:13:01.609000+02:00</updated>
    <author>
      <name>chrisgr</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/266872</uri>
    </author>
    <content>&lt;P&gt;Hello,&lt;/P&gt;&lt;P&gt;I am on premise SAP HANA 2023.&lt;/P&gt;&lt;P&gt;In my behavior definition I have declare an action with parameter deep structure. I have created a root abstract entity and a child one. In the behavior of the abstract entity I have added the word "with control" so the fields of the deep parameter are marked as optional. I have still an issue because the fields are not nullable. Is there a way to set them 'Nullable'?&lt;/P&gt;&lt;P&gt;Thank you for your help.&lt;/P&gt;&lt;P&gt;regards&lt;/P&gt;&lt;P&gt;Christophe&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/abstract-entity-with-optional-nullable-fields/qaq-p/14248322"/>
    <published>2025-10-20T09:13:01.609000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/human-capital-management-q-a/lms-odatav4-xml-payload-structure/qaq-p/14249376</id>
    <title>LMS OdataV4 XML Payload structure</title>
    <updated>2025-10-21T14:08:14.550000+02:00</updated>
    <author>
      <name>stianbl</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/72212</uri>
    </author>
    <content>&lt;P&gt;Hi,&lt;/P&gt;&lt;P&gt;I'm trying to add learningHistory for users in LMS, but have some issues converting json payload to proper xml payload.&lt;/P&gt;&lt;P&gt;Some information:&lt;BR /&gt;Operation: POST&lt;BR /&gt;Address: */learning/odatav4/public/admin/learningEvent/v1/&lt;BR /&gt;Resource Path:&amp;nbsp;recordLearningEvents&lt;BR /&gt;Using SAP CPI/CI, SuccessFactors Odatav4.&lt;/P&gt;&lt;P&gt;This is what I have in bruno, in json, which works fine:&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;{
 "@odata.type":"#recordLearningEvents",
 "recordLearningEvents" :
 [
 {
 "componentTypeID": "OTHER",
 "componentID": "ITEM_xxxxx",
 "studentID": "xxxxx",
 "completionStatusID":"OTHER-C",
 "completionDate": 1760689013000,
 "completionTimeZoneID": "Europe/Oslo",
 "grade": "A",
   "comments":"xxxxx"
 }
 ]
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;However, I cannot seem to convert it to XML properly in CPI. Every time I get either invalid&amp;nbsp;recordLearningEvents or invalid componentTypeID. (It is valid).&lt;/P&gt;&lt;P&gt;Can someone point me in the right direction on how I should be performing these calls from CPI?&lt;BR /&gt;&lt;BR /&gt;Thanks in advance,&lt;BR /&gt;Stian&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/human-capital-management-q-a/lms-odatav4-xml-payload-structure/qaq-p/14249376"/>
    <published>2025-10-21T14:08:14.550000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/implement-a-value-help-for-a-field-in-the-list-report-page-using-a-second/qaq-p/14250158</id>
    <title>implement a value help for a field in the list report page using a second OData entity set</title>
    <updated>2025-10-22T08:34:14.350000+02:00</updated>
    <author>
      <name>amir_alhamoud</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/838874</uri>
    </author>
    <content>&lt;P&gt;Dear SAP Team,&lt;BR /&gt;&lt;BR /&gt;I have a Fiori Elements app with a list report page and an object page. I am trying to implement a value help for a field in the list report page using a second OData entity set. I have adjusted the annotations accordingly, but the value help is not working as expected. Can I get some help on how to correctly set up a second OData entity set for the value help in a Fiori Elements app?&lt;BR /&gt;&lt;BR /&gt;ZCL_ZODATA_LEITER_AUS_DPC_EXT WERTEHILFEUSERNA_GET_ENTITYSET&lt;BR /&gt;&lt;BR /&gt;Best Regards,&lt;BR /&gt;Amir Alhamoud&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/implement-a-value-help-for-a-field-in-the-list-report-page-using-a-second/qaq-p/14250158"/>
    <published>2025-10-22T08:34:14.350000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/guidance-needed-on-linking-rfc-function-module-table-to-entity-set-in-odata/qaq-p/14251144</id>
    <title>Guidance Needed on Linking RFC Function Module Table to Entity Set in OData Service</title>
    <updated>2025-10-22T23:22:33.708000+02:00</updated>
    <author>
      <name>Be_Happy</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1983944</uri>
    </author>
    <content>&lt;P&gt;Dear&amp;nbsp;@OdataExperts,&lt;/P&gt;&lt;P&gt;Please help on below query.&lt;/P&gt;&lt;P&gt;I have created an OData service using the &lt;STRONG&gt;Import → RFC&lt;/STRONG&gt; option, and the mapping has been successfully completed with the relevant RFC Function Module. I would now like to understand how to link the Function Module's table (&lt;CODE&gt;/IWBEP/I_SBD_DS&lt;/CODE&gt;) to a specific Entity Set table (&lt;CODE&gt;/IWBEP/I_SBO_ES&lt;/CODE&gt;).&lt;/P&gt;&lt;P&gt;Could someone please guide me on how to achieve this?&lt;/P&gt;&lt;P&gt;Written select query:&lt;/P&gt;&lt;P&gt;SELECT a~function_name&lt;BR /&gt;INTO TABLE @DATA(lt_table)&lt;BR /&gt;FROM /iwbep/i_sbd_ds AS a&lt;BR /&gt;JOIN /iwbep/i_sbo_es AS b&lt;BR /&gt;ON a~project = b~project&lt;BR /&gt;AND a~node_uuid = b~node_uuid&lt;BR /&gt;WHERE b~project = 'ZTEST'&lt;BR /&gt;AND b~name = 'testSet'.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Be_Happy_0-1761175079922.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/331297i1BEAB65F15CD110C/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Be_Happy_0-1761175079922.png" alt="Be_Happy_0-1761175079922.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/139"&gt;@thomas_jung&lt;/a&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/182321"&gt;@naimesh_patel&lt;/a&gt;&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/121229"&gt;@AshwinDutt&lt;/a&gt;&amp;nbsp;&amp;nbsp;&lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+NetWeaver+Application+Server+for+ABAP/pd-p/01200314690800000234" class="lia-product-mention" data-product="732-1"&gt;SAP NetWeaver Application Server for ABAP&lt;/a&gt;&amp;nbsp;&lt;a href="https://community.sap.com/t5/c-khhcw49343/NW+ABAP+Gateway+%252528OData%252529/pd-p/181161894649260056016734803547327" class="lia-product-mention" data-product="1007-1"&gt;NW ABAP Gateway (OData)&lt;/a&gt;&amp;nbsp;&lt;a href="https://community.sap.com/t5/c-khhcw49343/OData/pd-p/551580658536717501828021060147962" class="lia-product-mention" data-product="323-1"&gt;OData&lt;/a&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Thank you in advance!&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/guidance-needed-on-linking-rfc-function-module-table-to-entity-set-in-odata/qaq-p/14251144"/>
    <published>2025-10-22T23:22:33.708000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/extend-c-purchasereqnacctassgmt-with-custom-fields-in-fiori-app-manage/qaq-p/14252120</id>
    <title>Extend C_PurchaseReqnAcctAssgmt with custom fields in Fiori app Manage Purchase Requisitions (F2229)</title>
    <updated>2025-10-23T23:48:06.367000+02:00</updated>
    <author>
      <name>ankurbabu</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/125886</uri>
    </author>
    <content>&lt;P&gt;Dear Community,&lt;/P&gt;&lt;P&gt;We want to extend Account Assignment table in Purchase Requisition Item with a few custom fields (columns) that are added using Append Structure in table EBKN. From our understanding, we need to extend the CDS view&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;C_PurchaseReqnAcctAssgmt&lt;/STRONG&gt;.&amp;nbsp;&lt;/P&gt;&lt;P&gt;This CDS view seems to have a chain of CDS selection before finally getting the data from table EBKN, i.e. C_PurchaseReqnAcctAssgmt -&amp;gt; T_PurchaseReqnAcctAssgmt -&amp;gt; I_PurchaseReqnAcctAssgmt -&amp;gt; I_PurReqnAcctAssgmt -&amp;gt; I_PurReqnAcctAssgmtBasic -&amp;gt; EBKN.&lt;/P&gt;&lt;P&gt;After checking some documentation, we found another CDS view&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;E_Purreqnacctassgmt,&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;which we thought could be used, but extending it doesn't help us in accessing those custom fields in C_PurchaseReqnAcctAssgmt or directly in the Fiori app.&lt;/P&gt;&lt;P&gt;Could someone suggest which CDS views we should extend to get these columns (custom fields) in the Fiori app, or is there a better way?&lt;/P&gt;&lt;P&gt;We tried checking first in Custom Fields and Logic app for a relevant Business Context for PR Account Assignment, but couldn't find anything appropriate. We still would like to keep our development as clean-core as possible.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/extend-c-purchasereqnacctassgmt-with-custom-fields-in-fiori-app-manage/qaq-p/14252120"/>
    <published>2025-10-23T23:48:06.367000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-q-a/byd-custom-odata-for-sending-customerinvoice-to-e-invoicing-platform/qaq-p/14252895</id>
    <title>ByD - Custom Odata for sending CustomerInvoice to e-invoicing platform</title>
    <updated>2025-10-24T20:35:09.141000+02:00</updated>
    <author>
      <name>Mic_L</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/121626</uri>
    </author>
    <content>&lt;P&gt;Hello community members!&lt;/P&gt;&lt;P&gt;Hope you can help with this quest.&lt;/P&gt;&lt;P&gt;We are looking for a sample custom odata for sending Customer Invoices to our e-invoicing platform, or if possible some advise on creating it ourselves. There are so many selection options that we'd like some advise on what we do need to use and what not.&lt;/P&gt;&lt;P&gt;I do understand it's quite a generic question but any advise is welcome. &lt;span class="lia-unicode-emoji" title=":slightly_smiling_face:"&gt;🙂&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Thank you,&lt;/P&gt;&lt;P&gt;Mic&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-q-a/byd-custom-odata-for-sending-customerinvoice-to-e-invoicing-platform/qaq-p/14252895"/>
    <published>2025-10-24T20:35:09.141000+02:00</published>
  </entry>
</feed>
