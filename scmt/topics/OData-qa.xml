<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>https://raw.githubusercontent.com/ajmaradiaga/feeds/main/scmt/topics/OData-qa.xml</id>
  <title>SAP Community - OData</title>
  <updated>2025-11-08T12:11:42.091927+00:00</updated>
  <link href="https://community.sap.com/t5/c-khhcw49343/OData/pd-p/551580658536717501828021060147962" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator>
  <subtitle>OData Q&amp;A in SAP Community</subtitle>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/can-i-use-custom-view-entity-as-value-help/qaq-p/14239584</id>
    <title>Can I use custom view entity as Value Help?</title>
    <updated>2025-10-09T17:11:13.062000+02:00</updated>
    <author>
      <name>bigflatfoot</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/887707</uri>
    </author>
    <content>&lt;P&gt;Title. I have created a custom view entity which selects from custom table. I'm trying to use it as value help on a specific custom field. However, the value help couldn't be found when selecting for value helps.&lt;BR /&gt;&lt;BR /&gt;I have added the annotations but still no success:&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1692417"&gt;@search&lt;/a&gt;.searchable: true
@ObjectModel.dataCategory: #VALUE_HELP
@ObjectModel.usageType: {
serviceQuality: #X
sizeCategory: #S
dataClass: #MIXED
}&lt;/code&gt;&lt;/pre&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/can-i-use-custom-view-entity-as-value-help/qaq-p/14239584"/>
    <published>2025-10-09T17:11:13.062000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/http-failed-internal-error-in-sap-gateway-client-for-odata-service/qaq-p/14239882</id>
    <title>HTTP failed: INTERNAL_ERROR in SAP Gateway Client for OData Service</title>
    <updated>2025-10-10T05:54:47.446000+02:00</updated>
    <author>
      <name>ashokkandel</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2184036</uri>
    </author>
    <content>&lt;P&gt;Hi Experts,&lt;/P&gt;&lt;P&gt;I'm testing an OData service&amp;nbsp; in the SAP Gateway Client with the Request URI /sap/opu/odata/sap/.../$format=xml using a GET method. I‚Äôm encountering an "&lt;STRONG&gt;HTTP failed: INTERNAL_ERROR&lt;/STRONG&gt;" message. The Error Log tab shows no additional details yet.&lt;/P&gt;&lt;P&gt;Could you please help me understand how to resolve this INTERNAL_ERROR? &amp;nbsp;is this a configuration issue or a system problem?&lt;/P&gt;&lt;P&gt;Thank you in advance for your support.&lt;/P&gt;&lt;P&gt;Best regards,&lt;BR /&gt;Ashok&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/http-failed-internal-error-in-sap-gateway-client-for-odata-service/qaq-p/14239882"/>
    <published>2025-10-10T05:54:47.446000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/how-to-maintain-user-context-when-making-programmatic-draft-queries-in-sap/qaq-p/14243154</id>
    <title>How to Maintain User Context When Making Programmatic Draft Queries in SAP CAP?</title>
    <updated>2025-10-14T09:47:29.239000+02:00</updated>
    <author>
      <name>mlu2</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1379</uri>
    </author>
    <content>&lt;H1 id="how-to-maintain-user-context-when-making-programmatic-draft-queries-in-sap-cap" id="toc-hId-1633686307"&gt;How to Maintain User Context When Making Programmatic Draft Queries in SAP CAP?&lt;/H1&gt;&lt;H2 id="problem-summary" id="toc-hId-1566255521"&gt;Problem Summary&lt;/H2&gt;&lt;P&gt;When creating drafts via authenticated OData requests in SAP CAP, subsequent programmatic queries using&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.run()&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;fail to find those drafts. The root cause is that&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.run()&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;defaults to&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;'anonymous'&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;user context instead of preserving the authenticated user from the HTTP request.&lt;/P&gt;&lt;H2 id="detailed-description" id="toc-hId-1369742016"&gt;Detailed Description&lt;/H2&gt;&lt;P&gt;I have a draft-enabled entity in my CAP application. When I create a draft through an authenticated OData POST request (user: 'alice'), the draft is successfully created with&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;DraftAdministrativeData.InProcessByUser = 'alice'&lt;/CODE&gt;.&lt;/P&gt;&lt;P&gt;However, when I try to query for this draft programmatically using&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.run(SELECT.from(Books.drafts))&lt;/CODE&gt;, CAP automatically adds the filter&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;InProcessByUser = 'anonymous'&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;instead of 'alice', causing the query to return no results.&lt;/P&gt;&lt;H2 id="reproduction" id="toc-hId-1173228511"&gt;Reproduction&lt;/H2&gt;&lt;P&gt;I've created a minimal CAP application that demonstrates this issue:&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Repository:&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://github.com/urlmic/cap-draft-user-context-issue" target="_blank" rel="noopener nofollow noreferrer"&gt;https://github.com/urlmic/cap-draft-user-context-issue&lt;/A&gt;&lt;/P&gt;&lt;H3 id="schema-dbschemacds" id="toc-hId-1105797725"&gt;Schema (&lt;CODE&gt;db/schema.cds&lt;/CODE&gt;)&lt;/H3&gt;&lt;PRE&gt;&lt;CODE&gt;namespace my.bookshop;

entity Books {
  key ID     : UUID;
      title  : String(100);
      author : String(100);
}&lt;/CODE&gt;&lt;/PRE&gt;&lt;H3 id="service-srvcatalog-servicecds" id="toc-hId-909284220"&gt;Service (&lt;CODE&gt;srv/catalog-service.cds&lt;/CODE&gt;)&lt;/H3&gt;&lt;PRE&gt;&lt;CODE&gt;using my.bookshop from '../db/schema';

service CatalogService {
  @odata.draft.enabled
  entity Books as projection on bookshop.Books;
}&lt;/CODE&gt;&lt;/PRE&gt;&lt;H3 id="test-testdraft-contexttestjs" id="toc-hId-712770715"&gt;Test (&lt;CODE&gt;test/draft-context.test.js&lt;/CODE&gt;)&lt;/H3&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; cds &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;require&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'@sap/cds'&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;&lt;SPAN class=""&gt;describe&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'Draft User Context Issue'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; () &lt;SPAN class=""&gt;=&amp;gt;&lt;/SPAN&gt; {&lt;/SPAN&gt;
&lt;SPAN&gt;  &lt;SPAN class=""&gt;const&lt;/SPAN&gt; { axios } &lt;SPAN class=""&gt;=&lt;/SPAN&gt; cds&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;test&lt;/SPAN&gt;(&lt;SPAN class=""&gt;__dirname&lt;/SPAN&gt; &lt;SPAN class=""&gt;+&lt;/SPAN&gt; &lt;SPAN class=""&gt;'/..'&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;  &lt;SPAN class=""&gt;let&lt;/SPAN&gt; draftID&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;  &lt;SPAN class=""&gt;// Authenticate as 'alice' user&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;  axios&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;defaults&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;auth&lt;/SPAN&gt; &lt;SPAN class=""&gt;=&lt;/SPAN&gt; { &lt;SPAN class=""&gt;username&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;SPAN class=""&gt;'alice'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; &lt;SPAN class=""&gt;password&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;SPAN class=""&gt;'alice'&lt;/SPAN&gt; }&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;  &lt;SPAN class=""&gt;test&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'Create draft via OData (authenticated as alice)'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; &lt;SPAN class=""&gt;async&lt;/SPAN&gt; () &lt;SPAN class=""&gt;=&amp;gt;&lt;/SPAN&gt; {&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;const&lt;/SPAN&gt; { data } &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; axios&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;post&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'/odata/v4/catalog/Books'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; {&lt;/SPAN&gt;
&lt;SPAN&gt;      &lt;SPAN class=""&gt;title&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;SPAN class=""&gt;'Test Book'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;      &lt;SPAN class=""&gt;author&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;SPAN class=""&gt;'Test Author'&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    })&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(data&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;IsActiveEntity&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBe&lt;/SPAN&gt;(&lt;SPAN class=""&gt;false&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(data&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;HasActiveEntity&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBe&lt;/SPAN&gt;(&lt;SPAN class=""&gt;false&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    draftID &lt;SPAN class=""&gt;=&lt;/SPAN&gt; data&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;ID&lt;/SPAN&gt;&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;  })&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;  &lt;SPAN class=""&gt;test&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'Query draft programmatically (loses user context)'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; &lt;SPAN class=""&gt;async&lt;/SPAN&gt; () &lt;SPAN class=""&gt;=&amp;gt;&lt;/SPAN&gt; {&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;const&lt;/SPAN&gt; srv &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; cds&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;connect&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'CatalogService'&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;const&lt;/SPAN&gt; { Books } &lt;SPAN class=""&gt;=&lt;/SPAN&gt; srv&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;entities&lt;/SPAN&gt;&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;    &lt;SPAN class=""&gt;// This query fails because it uses 'anonymous' user instead of 'alice'&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;const&lt;/SPAN&gt; draft &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; srv&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;run&lt;/SPAN&gt;(SELECT&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;from&lt;/SPAN&gt;(Books&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;drafts&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;where&lt;/SPAN&gt;({ &lt;SPAN class=""&gt;ID&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; draftID }))&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;    &lt;SPAN class=""&gt;console&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;log&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'Draft found:'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; draft)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(draft)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBeDefined&lt;/SPAN&gt;()&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(draft&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;length&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBe&lt;/SPAN&gt;(&lt;SPAN class=""&gt;1&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt; &lt;SPAN class=""&gt;// FAILS: Returns empty array []&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;  })&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;  &lt;SPAN class=""&gt;test&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'Query draft via OData (keeps user context)'&lt;/SPAN&gt;&lt;SPAN class=""&gt;,&lt;/SPAN&gt; &lt;SPAN class=""&gt;async&lt;/SPAN&gt; () &lt;SPAN class=""&gt;=&amp;gt;&lt;/SPAN&gt; {&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;// This works fine because the HTTP request carries 'alice' user context&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;const&lt;/SPAN&gt; { data } &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; axios&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;get&lt;/SPAN&gt;(&lt;SPAN class=""&gt;`/odata/v4/catalog/Books(ID=&lt;/SPAN&gt;&lt;SPAN class=""&gt;${&lt;/SPAN&gt;draftID&lt;SPAN class=""&gt;}&lt;/SPAN&gt;&lt;SPAN class=""&gt;,IsActiveEntity=false)`&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;

&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(data)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBeDefined&lt;/SPAN&gt;()&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;    &lt;SPAN class=""&gt;expect&lt;/SPAN&gt;(data&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;IsActiveEntity&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;toBe&lt;/SPAN&gt;(&lt;SPAN class=""&gt;false&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt; &lt;SPAN class=""&gt;// PASSES&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;  })&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;})&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;H2 id="test-results" id="toc-hId-387174491"&gt;Test Results&lt;/H2&gt;&lt;PRE&gt;&lt;CODE&gt;‚úÖ Test 1: Create draft via OData (passes)
‚ùå Test 2: Query draft programmatically (fails - returns [])
‚úÖ Test 3: Query draft via OData (passes)&lt;/CODE&gt;&lt;/PRE&gt;&lt;H2 id="sql-evidence" id="toc-hId-190660986"&gt;SQL Evidence&lt;/H2&gt;&lt;P&gt;With&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;cds.env.log.sql = true&lt;/CODE&gt;, I can observe the different user contexts:&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Draft Creation (works):&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;INSERT&lt;/SPAN&gt; &lt;SPAN class=""&gt;INTO&lt;/SPAN&gt; my_bookshop_Books_drafts (&lt;SPAN class=""&gt;..&lt;/SPAN&gt;.) &lt;SPAN class=""&gt;VALUES&lt;/SPAN&gt; (&lt;SPAN class=""&gt;..&lt;/SPAN&gt;.)&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;INSERT&lt;/SPAN&gt; &lt;SPAN class=""&gt;INTO&lt;/SPAN&gt; my_bookshop_Books_drafts_DraftAdministrativeData &lt;/SPAN&gt;
&lt;SPAN&gt;  (InProcessByUser, &lt;SPAN class=""&gt;..&lt;/SPAN&gt;.) &lt;SPAN class=""&gt;VALUES&lt;/SPAN&gt; (&lt;SPAN class=""&gt;'alice'&lt;/SPAN&gt;, &lt;SPAN class=""&gt;..&lt;/SPAN&gt;.)&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;P&gt;&lt;STRONG&gt;OData Query (works):&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;SELECT&lt;/SPAN&gt; &lt;SPAN class=""&gt;..&lt;/SPAN&gt;. &lt;SPAN class=""&gt;FROM&lt;/SPAN&gt; my_bookshop_Books_drafts &lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;WHERE&lt;/SPAN&gt; &lt;SPAN class=""&gt;ID&lt;/SPAN&gt; &lt;SPAN class=""&gt;=&lt;/SPAN&gt; ? &lt;SPAN class=""&gt;AND&lt;/SPAN&gt; DraftAdministrativeData.InProcessByUser &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;'alice'&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;P&gt;&lt;STRONG&gt;Programmatic Query (fails):&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;SELECT&lt;/SPAN&gt; &lt;SPAN class=""&gt;..&lt;/SPAN&gt;. &lt;SPAN class=""&gt;FROM&lt;/SPAN&gt; my_bookshop_Books_drafts &lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;WHERE&lt;/SPAN&gt; &lt;SPAN class=""&gt;ID&lt;/SPAN&gt; &lt;SPAN class=""&gt;=&lt;/SPAN&gt; ? &lt;SPAN class=""&gt;AND&lt;/SPAN&gt; DraftAdministrativeData.InProcessByUser &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;'anonymous'&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;H2 id="what-ive-tried" id="toc-hId--5852519"&gt;What I've Tried&lt;/H2&gt;&lt;OL&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;Using&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.run()&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;directly:&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; srv &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; cds&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;connect&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'CatalogService'&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; draft &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; srv&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;run&lt;/SPAN&gt;(SELECT&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;from&lt;/SPAN&gt;(Books&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;drafts&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;where&lt;/SPAN&gt;({ &lt;SPAN class=""&gt;ID&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; draftID }))&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;// Result: Uses 'anonymous' user context&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;Creating a transaction with&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.tx()&lt;/CODE&gt;:&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; srv &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; cds&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;connect&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;to&lt;/SPAN&gt;(&lt;SPAN class=""&gt;'CatalogService'&lt;/SPAN&gt;)&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; tx &lt;SPAN class=""&gt;=&lt;/SPAN&gt; srv&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;tx&lt;/SPAN&gt;()&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; draft &lt;SPAN class=""&gt;=&lt;/SPAN&gt; &lt;SPAN class=""&gt;await&lt;/SPAN&gt; tx&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;run&lt;/SPAN&gt;(SELECT&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;from&lt;/SPAN&gt;(Books&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;drafts&lt;/SPAN&gt;)&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;where&lt;/SPAN&gt;({ &lt;SPAN class=""&gt;ID&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; draftID }))&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;// Result: Still uses 'anonymous' user context&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;&lt;STRONG&gt;Using&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.tx({ user: new cds.User.Privileged() })&lt;/CODE&gt;:&lt;/STRONG&gt;&lt;/P&gt;&lt;DIV class=""&gt;&lt;PRE&gt;&lt;CODE&gt;&lt;SPAN&gt;&lt;SPAN class=""&gt;const&lt;/SPAN&gt; tx &lt;SPAN class=""&gt;=&lt;/SPAN&gt; srv&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;tx&lt;/SPAN&gt;({ &lt;SPAN class=""&gt;user&lt;/SPAN&gt;&lt;SPAN class=""&gt;:&lt;/SPAN&gt; &lt;SPAN class=""&gt;new&lt;/SPAN&gt; cds&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;User&lt;/SPAN&gt;&lt;SPAN class=""&gt;.&lt;/SPAN&gt;&lt;SPAN class=""&gt;Privileged&lt;/SPAN&gt;() })&lt;SPAN class=""&gt;;&lt;/SPAN&gt;&lt;/SPAN&gt;
&lt;SPAN&gt;&lt;SPAN class=""&gt;// Result: TypeError - cannot read properties of undefined&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/PRE&gt;&lt;/DIV&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;H2 id="expected-behavior" id="toc-hId-144888333"&gt;Expected Behavior&lt;/H2&gt;&lt;P&gt;When user 'alice' creates a draft via an authenticated OData request, programmatic queries within the same test context should use the same user context ('alice'), allowing me to query for drafts created by that user.&lt;/P&gt;&lt;H2 id="questions" id="toc-hId--51625172"&gt;Questions&lt;/H2&gt;&lt;OL&gt;&lt;LI&gt;&lt;STRONG&gt;How do I properly maintain user context when making programmatic draft queries?&lt;/STRONG&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Is there a way to pass the HTTP request's user context to&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;srv.run()&lt;/CODE&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;or&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;CODE&gt;tx.run()&lt;/CODE&gt;?&lt;/STRONG&gt;&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;What is the recommended pattern for querying drafts in service handlers or custom logic?&lt;/STRONG&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;H2 id="environment" id="toc-hId--248138677"&gt;Environment&lt;/H2&gt;&lt;UL&gt;&lt;LI&gt;&lt;STRONG&gt;CAP Version:&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1862993"&gt;@SAP&lt;/a&gt;/cds ^9&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Node.js:&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;v18+&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Test Framework:&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;Jest with &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/163398"&gt;@cap&lt;/a&gt;-js/cds-test ^0.4.0&lt;/LI&gt;&lt;LI&gt;&lt;STRONG&gt;Database:&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;SQLite (in-memory)&lt;/LI&gt;&lt;/UL&gt;&lt;H2 id="additional-context" id="toc-hId--444652182"&gt;Additional Context&lt;/H2&gt;&lt;P&gt;This issue occurs in integration tests where I need to verify that business logic correctly handles draft entities. The draft queries work fine when called via OData (HTTP requests carry user context), but fail when called programmatically (no user context propagation).&lt;/P&gt;&lt;P&gt;I've reviewed the CAP documentation on draft handling, but couldn't find clear guidance on maintaining user context for programmatic queries.&lt;/P&gt;&lt;HR /&gt;&lt;P&gt;&lt;STRONG&gt;Any help or guidance would be greatly appreciated!&lt;/STRONG&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/how-to-maintain-user-context-when-making-programmatic-draft-queries-in-sap/qaq-p/14243154"/>
    <published>2025-10-14T09:47:29.239000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/generate-pdf-form-on-s-4hana-cloud-public-edition-from-btp-app/qaq-p/14243885</id>
    <title>Generate PDF form on S/4HANA Cloud, public edition from BTP app</title>
    <updated>2025-10-14T18:53:33.949000+02:00</updated>
    <author>
      <name>daa</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/16417</uri>
    </author>
    <content>&lt;P&gt;I‚Äôm building a BTP CAP application which should retrieve the PDF printout of an Outbound Delivery (FDP_V2_DELIVERY_NOTE_V1 template )out of an S/4HANA Cloud, public edition system.&lt;/P&gt;&lt;P&gt;Since no direct API exists (like for billing documents &lt;A href="https://api.sap.com/api/API_BILLING_DOCUMENT_SRV/overview" target="_blank" rel="noopener noreferrer"&gt;Overview | Billing Document - Read, Cancel, GetPDF | SAP Business Accelerator Hub&lt;/A&gt;), as per my understanding I‚Äôm left with three options:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;Recreate the same form I have on S/4HANA on BTP with &lt;A href="https://www.sap.com/italy/products/technology-platform/forms-service-by-adobe.html" target="_blank" rel="noopener noreferrer"&gt;SAP Forms Service by Adobe&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;Get the PDF directly from CA_OC_OUTPUT_REQUEST_SRV Service&lt;/LI&gt;&lt;LI&gt;Create a small custom ABAP service to be called from BTP which, given a specific delivery number, could return a PDF&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;I tried all those routes, but couldn‚Äôt succeed for various reasons:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;A href="https://www.sap.com/italy/products/technology-platform/forms-service-by-adobe.html" target="_blank" rel="noopener noreferrer"&gt;SAP Forms Service by Adobe&lt;/A&gt;&lt;/LI&gt;&lt;OL class="lia-list-style-type-lower-alpha"&gt;&lt;LI&gt;it seems I can‚Äôt reuse the layout I made since the service only accept only one file, whereas mine is comprised of a master form and a content for&lt;/LI&gt;&lt;LI&gt;even if I could recreate it from scratch I don't know how I can get data out of the standard Data Provider (FDP_V2_DELIV_NOTE_LO_GLO_GEN_SRV) to pass it to the layout&lt;/LI&gt;&lt;/OL&gt;&lt;LI&gt;this does not seem to be a released API, therefore I think I could have a problem with Communication Arrangement technical user&lt;/LI&gt;&lt;LI&gt;on Premise FM like ‚ÄòFP_JOB_OPEN‚Äô etc.. are obviously forbidden, so I tried with proper classes like &lt;STRONG&gt;cl_fp_form_reader &lt;/STRONG&gt;like suggested in Note &lt;A href="https://me.sap.com/notes/3355397/E" target="_blank" rel="noopener noreferrer"&gt;3355397 - No support for custom form templates in S/4 HANA Cloud Developer Extensibility - SAP for Me&lt;/A&gt;, however, &amp;nbsp;since the form &lt;EM&gt;was &lt;/EM&gt;created using Maintain Form Template App, I tried to create in ADT, but no standard Data Provider can be chosen and I can‚Äôt even create my own copy with the proper annotations (as explained in note &lt;A href="https://me.sap.com/notes/3650179" target="_blank" rel="noopener noreferrer"&gt;3650179 - [2508] Cannot select data provider in ADT Form dialog - SAP for Me&lt;/A&gt;) because I can‚Äôt open SEGW on a Public Cloud environment.&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;I‚Äôve hit a dead end. Can someone share a tip?&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/generate-pdf-form-on-s-4hana-cloud-public-edition-from-btp-app/qaq-p/14243885"/>
    <published>2025-10-14T18:53:33.949000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/how-can-i-connect-sap-customer-data-platform-cdp-to-sap-analytics-cloud-sac/qaq-p/14244385</id>
    <title>How can I connect SAP Customer Data Platform (CDP) to SAP Analytics Cloud (SAC)?</title>
    <updated>2025-10-15T09:21:08.358000+02:00</updated>
    <author>
      <name>rdurdu1</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1396757</uri>
    </author>
    <content>&lt;P&gt;Hi everyone,&lt;/P&gt;&lt;P&gt;I‚Äôm currently exploring integration options between &lt;STRONG&gt;SAP Customer Data Platform (CDP)&lt;/STRONG&gt; and &lt;STRONG&gt;SAP Analytics Cloud (SAC)&lt;/STRONG&gt; to enable analytics and dashboarding based on CDP data.&amp;nbsp;&lt;/P&gt;&lt;P&gt;As far as I know, SAC does not currently offer a &lt;STRONG&gt;direct live connection&lt;/STRONG&gt; to SAP CDP. However, I‚Äôm trying to understand what would be the &lt;STRONG&gt;best possible architecture&lt;/STRONG&gt; to bring CDP data into SAC ‚Äî for example, by using &lt;STRONG&gt;SAP Cloud Integration (CPI)&lt;/STRONG&gt; (or any equivalent integration layer).&lt;/P&gt;&lt;P&gt;My goal is to:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;P&gt;Enable reporting and visualization of CDP data in SAC&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Stay within SAP‚Äôs supported and recommended integration patterns&lt;/P&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;I would like to know:&lt;/P&gt;&lt;OL&gt;&lt;LI&gt;&lt;P&gt;Is there any &lt;STRONG&gt;standard or recommended approach&lt;/STRONG&gt; for connecting SAP CDP to SAC (directly or indirectly)?&lt;/P&gt;&lt;/LI&gt;&lt;LI&gt;&lt;P&gt;Can &lt;STRONG&gt;SAP CPI&lt;/STRONG&gt; act as an intermediary layer ‚Äî for example, exposing an &lt;STRONG&gt;OData API&lt;/STRONG&gt; or using the &lt;STRONG&gt;SAC Data Import Service API&lt;/STRONG&gt; to push data into SAC?&lt;/P&gt;&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;If anyone has implemented a similar scenario or can share documentation, architecture examples, or experiences, that would be very helpful.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Thanks in advance for your insights.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Recep&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/how-can-i-connect-sap-customer-data-platform-cdp-to-sap-analytics-cloud-sac/qaq-p/14244385"/>
    <published>2025-10-15T09:21:08.358000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/error-failed-to-initialize-application-data-service-error-500/qaq-p/14244669</id>
    <title>Error: Failed to initialize application data service - Error: 500 ()</title>
    <updated>2025-10-15T13:03:50.618000+02:00</updated>
    <author>
      <name>ManuelDolenz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2120875</uri>
    </author>
    <content>&lt;P&gt;Hello everyone,&lt;BR /&gt;Hello&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/3305"&gt;@Jitendra_Kansal78&lt;/a&gt;,&amp;nbsp;&lt;/P&gt;&lt;P&gt;I built a SAP MDK Mobile Application via the BAS.&amp;nbsp;&lt;BR /&gt;To do so I created two OData services in my ERP system and two destinations in my BTP account.&lt;/P&gt;&lt;P&gt;The creation of the apps via the CRUD template went well and also the deployment on Android and iOS mobile devices worked perfectly fine.&amp;nbsp;&lt;/P&gt;&lt;P&gt;I now saw that you can also choose to deploy the app as a Cloud Foundry web application.&amp;nbsp;&lt;BR /&gt;Initially the deployment is completed successfully, but then, when I open the generated link, I get this error message at the top of the main page:&lt;BR /&gt;&lt;SPAN&gt;Failed to initialize application data service - Error: 500 (); GET /nsJobViewerBAS_CRUD/job_infos/ Internal Server Error&lt;BR /&gt;&lt;BR /&gt;&lt;/SPAN&gt;I saw these two posts:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/technology-q-a/error-500-get-nsdemosampleapp-com-sap-edm-sampleservice-v2-internal-server/qaq-p/12753245" target="_blank"&gt;https://community.sap.com/t5/technology-q-a/error-500-get-nsdemosampleapp-com-sap-edm-sampleservice-v2-internal-server/qaq-p/12753245&lt;/A&gt;&lt;/LI&gt;&lt;LI&gt;&lt;A href="https://community.sap.com/t5/technology-q-a/failed-to-initialize-application-data-service/qaq-p/12684025" target="_blank"&gt;https://community.sap.com/t5/technology-q-a/failed-to-initialize-application-data-service/qaq-p/12684025&lt;/A&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;But no real solution can be found there. I also tried to change the&amp;nbsp;&lt;SPAN&gt;CSDL Options &amp;gt; select IgnoreAllAnnotations &amp;amp; ignoreAllReferences. but sadly it did not work for me.&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Please let me know if I should provide any details.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Best regards,&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Manuel&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/error-failed-to-initialize-application-data-service-error-500/qaq-p/14244669"/>
    <published>2025-10-15T13:03:50.618000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/odata-services-abap-restful-application-programming-model/qaq-p/14246361</id>
    <title>OData Services  ABAP RESTful application programming model</title>
    <updated>2025-10-16T20:56:41.160000+02:00</updated>
    <author>
      <name>venkatasumanth</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/2257991</uri>
    </author>
    <content>&lt;P&gt;Hi Everyone,&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;I‚Äôm working on the S4D400 exercise where we create a subpackage&amp;nbsp; ZS4D400 and copy the table &amp;nbsp;/LRN/S4D400_APT to our own package.&lt;/P&gt;&lt;P&gt;However, I noticed that my main package S4D400 doesn‚Äôt exist in my ABAP environment.&lt;/P&gt;&lt;P&gt;Should I create this package manually, or is it supposed to be pre-delivered by the system?&lt;/P&gt;&lt;P&gt;I need some suggestions how to find that package. so that I can create the application.&lt;BR /&gt;&lt;BR /&gt;Thanks in advance&lt;BR /&gt;Sumanth.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/odata-services-abap-restful-application-programming-model/qaq-p/14246361"/>
    <published>2025-10-16T20:56:41.160000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/abstract-entity-with-optional-nullable-fields/qaq-p/14248322</id>
    <title>abstract entity with optional/nullable fields</title>
    <updated>2025-10-20T09:13:01.609000+02:00</updated>
    <author>
      <name>chrisgr</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/266872</uri>
    </author>
    <content>&lt;P&gt;Hello,&lt;/P&gt;&lt;P&gt;I am on premise SAP HANA 2023.&lt;/P&gt;&lt;P&gt;In my behavior definition I have declare an action with parameter deep structure. I have created a root abstract entity and a child one. In the behavior of the abstract entity I have added the word "with control" so the fields of the deep parameter are marked as optional. I have still an issue because the fields are not nullable. Is there a way to set them 'Nullable'?&lt;/P&gt;&lt;P&gt;Thank you for your help.&lt;/P&gt;&lt;P&gt;regards&lt;/P&gt;&lt;P&gt;Christophe&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/abstract-entity-with-optional-nullable-fields/qaq-p/14248322"/>
    <published>2025-10-20T09:13:01.609000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/human-capital-management-q-a/lms-odatav4-xml-payload-structure/qaq-p/14249376</id>
    <title>LMS OdataV4 XML Payload structure</title>
    <updated>2025-10-21T14:08:14.550000+02:00</updated>
    <author>
      <name>stianbl</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/72212</uri>
    </author>
    <content>&lt;P&gt;Hi,&lt;/P&gt;&lt;P&gt;I'm trying to add learningHistory for users in LMS, but have some issues converting json payload to proper xml payload.&lt;/P&gt;&lt;P&gt;Some information:&lt;BR /&gt;Operation: POST&lt;BR /&gt;Address: */learning/odatav4/public/admin/learningEvent/v1/&lt;BR /&gt;Resource Path:&amp;nbsp;recordLearningEvents&lt;BR /&gt;Using SAP CPI/CI, SuccessFactors Odatav4.&lt;/P&gt;&lt;P&gt;This is what I have in bruno, in json, which works fine:&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;{
 "@odata.type":"#recordLearningEvents",
 "recordLearningEvents" :
 [
 {
 "componentTypeID": "OTHER",
 "componentID": "ITEM_xxxxx",
 "studentID": "xxxxx",
 "completionStatusID":"OTHER-C",
 "completionDate": 1760689013000,
 "completionTimeZoneID": "Europe/Oslo",
 "grade": "A",
   "comments":"xxxxx"
 }
 ]
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;However, I cannot seem to convert it to XML properly in CPI. Every time I get either invalid&amp;nbsp;recordLearningEvents or invalid componentTypeID. (It is valid).&lt;/P&gt;&lt;P&gt;Can someone point me in the right direction on how I should be performing these calls from CPI?&lt;BR /&gt;&lt;BR /&gt;Thanks in advance,&lt;BR /&gt;Stian&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/human-capital-management-q-a/lms-odatav4-xml-payload-structure/qaq-p/14249376"/>
    <published>2025-10-21T14:08:14.550000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/implement-a-value-help-for-a-field-in-the-list-report-page-using-a-second/qaq-p/14250158</id>
    <title>implement a value help for a field in the list report page using a second OData entity set</title>
    <updated>2025-10-22T08:34:14.350000+02:00</updated>
    <author>
      <name>amir_alhamoud</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/838874</uri>
    </author>
    <content>&lt;P&gt;Dear SAP Team,&lt;BR /&gt;&lt;BR /&gt;I have a Fiori Elements app with a list report page and an object page. I am trying to implement a value help for a field in the list report page using a second OData entity set. I have adjusted the annotations accordingly, but the value help is not working as expected. Can I get some help on how to correctly set up a second OData entity set for the value help in a Fiori Elements app?&lt;BR /&gt;&lt;BR /&gt;ZCL_ZODATA_LEITER_AUS_DPC_EXT WERTEHILFEUSERNA_GET_ENTITYSET&lt;BR /&gt;&lt;BR /&gt;Best Regards,&lt;BR /&gt;Amir Alhamoud&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/implement-a-value-help-for-a-field-in-the-list-report-page-using-a-second/qaq-p/14250158"/>
    <published>2025-10-22T08:34:14.350000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/guidance-needed-on-linking-rfc-function-module-table-to-entity-set-in-odata/qaq-p/14251144</id>
    <title>Guidance Needed on Linking RFC Function Module Table to Entity Set in OData Service</title>
    <updated>2025-10-22T23:22:33.708000+02:00</updated>
    <author>
      <name>Be_Happy</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1983944</uri>
    </author>
    <content>&lt;P&gt;Dear&amp;nbsp;@OdataExperts,&lt;/P&gt;&lt;P&gt;Please help on below query.&lt;/P&gt;&lt;P&gt;I have created an OData service using the &lt;STRONG&gt;Import ‚Üí RFC&lt;/STRONG&gt; option, and the mapping has been successfully completed with the relevant RFC Function Module. I would now like to understand how to link the Function Module's table (&lt;CODE&gt;/IWBEP/I_SBD_DS&lt;/CODE&gt;) to a specific Entity Set table (&lt;CODE&gt;/IWBEP/I_SBO_ES&lt;/CODE&gt;).&lt;/P&gt;&lt;P&gt;Could someone please guide me on how to achieve this?&lt;/P&gt;&lt;P&gt;Written select query:&lt;/P&gt;&lt;P&gt;SELECT a~function_name&lt;BR /&gt;INTO TABLE @DATA(lt_table)&lt;BR /&gt;FROM /iwbep/i_sbd_ds AS a&lt;BR /&gt;JOIN /iwbep/i_sbo_es AS b&lt;BR /&gt;ON a~project = b~project&lt;BR /&gt;AND a~node_uuid = b~node_uuid&lt;BR /&gt;WHERE b~project = 'ZTEST'&lt;BR /&gt;AND b~name = 'testSet'.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="Be_Happy_0-1761175079922.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/331297i1BEAB65F15CD110C/image-size/medium?v=v2&amp;amp;px=400" role="button" title="Be_Happy_0-1761175079922.png" alt="Be_Happy_0-1761175079922.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/139"&gt;@thomas_jung&lt;/a&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/182321"&gt;@naimesh_patel&lt;/a&gt;&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/121229"&gt;@AshwinDutt&lt;/a&gt;&amp;nbsp;&amp;nbsp;&lt;a href="https://community.sap.com/t5/c-khhcw49343/SAP+NetWeaver+Application+Server+for+ABAP/pd-p/01200314690800000234" class="lia-product-mention" data-product="732-1"&gt;SAP NetWeaver Application Server for ABAP&lt;/a&gt;&amp;nbsp;&lt;a href="https://community.sap.com/t5/c-khhcw49343/NW+ABAP+Gateway+%252528OData%252529/pd-p/181161894649260056016734803547327" class="lia-product-mention" data-product="1007-1"&gt;NW ABAP Gateway (OData)&lt;/a&gt;&amp;nbsp;&lt;a href="https://community.sap.com/t5/c-khhcw49343/OData/pd-p/551580658536717501828021060147962" class="lia-product-mention" data-product="323-1"&gt;OData&lt;/a&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Thank you in advance!&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/guidance-needed-on-linking-rfc-function-module-table-to-entity-set-in-odata/qaq-p/14251144"/>
    <published>2025-10-22T23:22:33.708000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/extend-c-purchasereqnacctassgmt-with-custom-fields-in-fiori-app-manage/qaq-p/14252120</id>
    <title>Extend C_PurchaseReqnAcctAssgmt with custom fields in Fiori app Manage Purchase Requisitions (F2229)</title>
    <updated>2025-10-23T23:48:06.367000+02:00</updated>
    <author>
      <name>ankurbabu</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/125886</uri>
    </author>
    <content>&lt;P&gt;Dear Community,&lt;/P&gt;&lt;P&gt;We want to extend Account Assignment table in Purchase Requisition Item with a few custom fields (columns) that are added using Append Structure in table EBKN. From our understanding, we need to extend the CDS view&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;C_PurchaseReqnAcctAssgmt&lt;/STRONG&gt;.&amp;nbsp;&lt;/P&gt;&lt;P&gt;This CDS view seems to have a chain of CDS selection before finally getting the data from table EBKN, i.e. C_PurchaseReqnAcctAssgmt -&amp;gt; T_PurchaseReqnAcctAssgmt -&amp;gt; I_PurchaseReqnAcctAssgmt -&amp;gt; I_PurReqnAcctAssgmt -&amp;gt; I_PurReqnAcctAssgmtBasic -&amp;gt; EBKN.&lt;/P&gt;&lt;P&gt;After checking some documentation, we found another CDS view&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;STRONG&gt;E_Purreqnacctassgmt,&lt;/STRONG&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;which we thought could be used, but extending it doesn't help us in accessing those custom fields in C_PurchaseReqnAcctAssgmt or directly in the Fiori app.&lt;/P&gt;&lt;P&gt;Could someone suggest which CDS views we should extend to get these columns (custom fields) in the Fiori app, or is there a better way?&lt;/P&gt;&lt;P&gt;We tried checking first in Custom Fields and Logic app for a relevant Business Context for PR Account Assignment, but couldn't find anything appropriate. We still would like to keep our development as clean-core as possible.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/extend-c-purchasereqnacctassgmt-with-custom-fields-in-fiori-app-manage/qaq-p/14252120"/>
    <published>2025-10-23T23:48:06.367000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-q-a/byd-custom-odata-for-sending-customerinvoice-to-e-invoicing-platform/qaq-p/14252895</id>
    <title>ByD - Custom Odata for sending CustomerInvoice to e-invoicing platform</title>
    <updated>2025-10-24T20:35:09.141000+02:00</updated>
    <author>
      <name>Mic_L</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/121626</uri>
    </author>
    <content>&lt;P&gt;Hello community members!&lt;/P&gt;&lt;P&gt;Hope you can help with this quest.&lt;/P&gt;&lt;P&gt;We are looking for a sample custom odata for sending Customer Invoices to our e-invoicing platform, or if possible some advise on creating it ourselves. There are so many selection options that we'd like some advise on what we do need to use and what not.&lt;/P&gt;&lt;P&gt;I do understand it's quite a generic question but any advise is welcome. &lt;span class="lia-unicode-emoji" title=":slightly_smiling_face:"&gt;üôÇ&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Thank you,&lt;/P&gt;&lt;P&gt;Mic&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-q-a/byd-custom-odata-for-sending-customerinvoice-to-e-invoicing-platform/qaq-p/14252895"/>
    <published>2025-10-24T20:35:09.141000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/odata-authentication-and-target-client/qaq-p/14253441</id>
    <title>oDATA authentication and target client</title>
    <updated>2025-10-26T11:13:56.754000+01:00</updated>
    <author>
      <name>christian_swonke</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/315669</uri>
    </author>
    <content>&lt;P&gt;Hi all,&lt;/P&gt;&lt;P&gt;I have deployed a SAP Dev environment via CAL to do some tests and developments in area of oDATA services.&lt;/P&gt;&lt;P&gt;I am not that familar with let me call it "basis activites" for oDATA services. But I would like to know:&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Authentication method of system / service&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;oDATA is offering different modes for authentication (i.e. Basis, oAuth, SAML, ...). Where has this to be configured for global system or single services? Do I have to do this via transaction SICF and per knot (incl. childs)?&lt;/P&gt;&lt;P&gt;By default it seems the SAP Dev system is configured with basic authentication.&lt;/P&gt;&lt;P&gt;Is it correct that if I store the login details in the service itself, authentication is no longer necessary?&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Target client&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;How does the oData recognize the target client? The SAP dev system has client 000 and 001. First call was send to client 000, however follow up calls are send to 0001. How does the service itself recognize the correct target client or where do I have to maintain it?&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Regards Chris&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/odata-authentication-and-target-client/qaq-p/14253441"/>
    <published>2025-10-26T11:13:56.754000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/crm-and-cx-q-a/need-to-perform-http-post-call-to-external-odata-service-from-sap-sales/qaq-p/14257498</id>
    <title>Need to perform HTTP POST call to external OData service from SAP Sales Cloud V2</title>
    <updated>2025-10-30T21:34:37.398000+01:00</updated>
    <author>
      <name>jorge_ocamposbenito</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/601916</uri>
    </author>
    <content>&lt;P&gt;Hello!&lt;/P&gt;&lt;P&gt;We are working on an integration scenario where SAP Sales Cloud Version 2 needs to send data to an &lt;STRONG&gt;external system via OData&lt;/STRONG&gt;, using an &lt;STRONG&gt;HTTP POST request with a specific JSON body&lt;/STRONG&gt;.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;We do not have access to SAP BTP, SAP Integration Suite (SCPI), or any middleware.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;Therefore, we would like to know if there is any &lt;STRONG&gt;supported method or workaround to perform an HTTP POST call to an external OData service directly from SAP Sales Cloud V2&lt;/STRONG&gt;, using any of the available extensibility or mashup options.&lt;/P&gt;&lt;P&gt;Thank you!&lt;BR /&gt;Best Regards,&lt;BR /&gt;Jorge Ocampos&lt;BR /&gt;SAP CX Consultant&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/crm-and-cx-q-a/need-to-perform-http-post-call-to-external-odata-service-from-sap-sales/qaq-p/14257498"/>
    <published>2025-10-30T21:34:37.398000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/it-s-no-longer-possible-to-make-odata-calls-using-multiple-conditions-in/qaq-p/14259061</id>
    <title>It‚Äôs no longer possible to make OData calls using multiple conditions in the $filter?</title>
    <updated>2025-11-03T11:09:44.314000+01:00</updated>
    <author>
      <name>JaumeG</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1487649</uri>
    </author>
    <content>&lt;P&gt;Starting today, I‚Äôve noticed that &lt;STRONG&gt;it‚Äôs no longer possible to make OData calls using multiple conditions in the &lt;CODE&gt;$filter parameter with &lt;CODE&gt;and.&lt;/CODE&gt;&lt;/CODE&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;For example, this query used to work just fine, but now it&amp;nbsp; returns no data:&lt;/P&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&lt;CODE&gt;&lt;CODE&gt;&lt;CODE&gt;&lt;SPAN&gt;$filter=YEAR eq '2025' and MONTH eq '06'&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/CODE&gt;&lt;/CODE&gt;&lt;P&gt;Currently, it only works when I use a single condition, like:&lt;/P&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&lt;DIV class=""&gt;&amp;nbsp;&lt;DIV class=""&gt;&lt;CODE&gt;&lt;CODE&gt;&lt;CODE&gt;&lt;SPAN&gt;$filter=YEAR eq '2025'&lt;/SPAN&gt;&lt;/CODE&gt;&lt;/CODE&gt;&lt;/CODE&gt;&lt;P&gt;Has anyone else experienced the same issue? It seems like something may have recently changed in the OData service behavior or configuration.&lt;/P&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/it-s-no-longer-possible-to-make-odata-calls-using-multiple-conditions-in/qaq-p/14259061"/>
    <published>2025-11-03T11:09:44.314000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-q-a/sap-s-4hana-public-cloud-apis-availability-to-programmatically-retrieve/qaq-p/14259923</id>
    <title>SAP S/4Hana public Cloud - APIs availability to programmatically retrieve Bank Accounts details</title>
    <updated>2025-11-04T07:55:45.604000+01:00</updated>
    <author>
      <name>SatyaPV</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1758819</uri>
    </author>
    <content>&lt;P&gt;We are currently using 'Manage Bank Accounts' &lt;A href="https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/#/detail/Apps(%27F1366A%27)/S34" target="_self" rel="nofollow noopener noreferrer"&gt;Fiori app&lt;/A&gt; to Read and Create Bank Account objects in SAP S/4Hana Public cloud.&lt;/P&gt;&lt;P&gt;In order develop an App for our partner needs, we need to programmatically retrieve and update Bank Account master data. We are exploring available APIs or customization options within SAP S/4HANA Public Cloud. Could you please advise if there are any supported approaches or services that facilitate this requirement?&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-q-a/sap-s-4hana-public-cloud-apis-availability-to-programmatically-retrieve/qaq-p/14259923"/>
    <published>2025-11-04T07:55:45.604000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/how-can-i-query-bank-details-with-the-mainbankindicator-feature/qaq-p/14261427</id>
    <title>How can I query bank details  with the MainBankIndicator feature?</title>
    <updated>2025-11-05T16:33:03.810000+01:00</updated>
    <author>
      <name>frapux</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/871229</uri>
    </author>
    <content>&lt;P&gt;I managed to set the MainBankIndicator to true using the manageEmployeeIn2 SOAP service. So it works. What I'm missing is how to read this feature. QueryEmployeeBankDetailsIn contains the bank information, but not the MainBankIndicator, and QueryEmployeeIn does not contain any bank information. Does anyone have any ideas?&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/how-can-i-query-bank-details-with-the-mainbankindicator-feature/qaq-p/14261427"/>
    <published>2025-11-05T16:33:03.810000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/odata-v4-delta-token-odata-deltalink-not-returned-for-cds-view-with-odp/qaq-p/14261961</id>
    <title>OData V4 Delta Token (@odata.deltaLink) not returned for CDS View with ODP</title>
    <updated>2025-11-06T10:28:09.846000+01:00</updated>
    <author>
      <name>dani83</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/1685824</uri>
    </author>
    <content>&lt;P&gt;Hello Community,&lt;/P&gt;&lt;P&gt;I am facing an issue with enabling delta extraction for an OData V4 service built on top of a CDS View. Despite the backend configuration appearing correct and the delta mechanism working with test tools, the OData service does not return the &lt;FONT color="#FF0000"&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1599241"&gt;@odata&lt;/a&gt;.deltaLink&lt;/FONT&gt;.&lt;/P&gt;&lt;P&gt;I would appreciate any insights or suggestions.&lt;/P&gt;&lt;P&gt;System Information:&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;SAP S/4HANA ON PREMISE 2021&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Release: 01 (02/2022) FP&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;U&gt;CDS View Definition&lt;/U&gt;&lt;/STRONG&gt;&lt;BR /&gt;I have created a custom CDS view with a C1 release contract, which is enabled for data extraction and delta handling via ODP.&lt;/P&gt;&lt;P&gt;Here is the code for the CDS view:&lt;/P&gt;&lt;pre class="lia-code-sample language-abap"&gt;&lt;code&gt;@AbapCatalog.sqlViewName: 'ZDELTATEST'
@AbapCatalog.compiler.compareFilter: true
@AbapCatalog.preserveKey: true
@AccessControl.authorizationCheck: #NOT_REQUIRED
@EndUserText.label: 'Delta Test'
@Metadata.ignorePropagatedAnnotations: true
@AnalyticalQuery: true
@ODQ.enabled: true
@Analytics: {
    dataCategory: #FACT,
    dataExtraction: {
        enabled: true,
        delta: {
            byElement: {
                name: 'LastChangeDateTime'
            }
        }
    }
}
define view ZC_DELTA_TEST
  as select from I_SalesDocument
{
  key SalesDocument,
      SDDocumentCategory,
      SalesDocumentType,
      SalesDocumentProcessingType,
      CreatedByUser,
      LastChangedByUser,
      CreationDate,
      CreationTime,
      LastChangeDate,
      @Semantics.systemDateTime.lastChangedAt: true
      LastChangeDateTime,
      LastCustomerContactDate
}&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;BR /&gt;&lt;U&gt;&lt;STRONG&gt;2. OData V4 Service Exposure&lt;/STRONG&gt;&lt;/U&gt;&lt;BR /&gt;The OData service was created using the standard ABAP RAP approach:&lt;/P&gt;&lt;P&gt;A Service Definition was created to expose the CDS view.&lt;/P&gt;&lt;P&gt;A Service Binding of type OData V4 - UI was created and published.&lt;/P&gt;&lt;P&gt;The service is active and can be called successfully for full data extraction.&lt;/P&gt;&lt;P&gt;&lt;U&gt;&lt;STRONG&gt;3. Successful Backend Delta Test&lt;/STRONG&gt;&lt;/U&gt;&lt;BR /&gt;The delta mechanism for the underlying ODP provider works correctly.&lt;/P&gt;&lt;P&gt;Using the report &lt;STRONG&gt;RODPS_REPL_TEST&lt;/STRONG&gt;, I was able to perform an initial full extraction (&lt;FONT color="#FF0000"&gt;F&lt;/FONT&gt; mode) and a subsequent delta extraction (&lt;FONT color="#FF0000"&gt;D&lt;/FONT&gt; mode), which correctly returned only the changed records.&lt;/P&gt;&lt;P&gt;In transaction &lt;STRONG&gt;ODQMON&lt;/STRONG&gt;, I can see the corresponding delta queue for the ODP, and the requests from RODPS_REPL_TEST are visible and processed correctly.&lt;/P&gt;&lt;P&gt;&lt;U&gt;&lt;STRONG&gt;4. The Problem: No Delta Link in OData Response&lt;/STRONG&gt;&lt;/U&gt;&lt;BR /&gt;The issue occurs when calling the OData V4 service from an external client (e.g., Postman).&lt;/P&gt;&lt;P&gt;The request is sent with the required header: Prefer: &lt;FONT color="#FF0000"&gt;odata.track-changes&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;The service responds with a 200 OK status and the full data set.&lt;/P&gt;&lt;P&gt;However, the response payload does not contain the &lt;FONT color="#FF0000"&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1599241"&gt;@odata&lt;/a&gt;.deltaLink&lt;/FONT&gt;, which is necessary for subsequent delta calls.&lt;/P&gt;&lt;P&gt;No new subscription for the OData consumer appears in ODQMON after the call.&lt;/P&gt;&lt;P&gt;It seems there is a breakdown in communication between the OData V4 service layer and the underlying ODP framework, preventing the delta subscription from being created.&lt;/P&gt;&lt;P&gt;Has anyone encountered a similar issue on this S/4HANA version or has any idea what configuration step or authorization might be missing specifically for the OData V4 delta token mechanism?&lt;/P&gt;&lt;P&gt;Thank you in advance for your help.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/odata-v4-delta-token-odata-deltalink-not-returned-for-cds-view-with-odp/qaq-p/14261961"/>
    <published>2025-11-06T10:28:09.846000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/patch-create-account-assignment-m-for-a-existing-purchase-order-in-s-4hana/qaq-p/14262930</id>
    <title>patch/create Account Assignment M for a existing Purchase order in S/4Hana Public Cloud</title>
    <updated>2025-11-07T11:43:11.577000+01:00</updated>
    <author>
      <name>Phil_P</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/137056</uri>
    </author>
    <content>&lt;P&gt;hello there lovely SAP Community,&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;id like to create a Account Assignment "M" with a reference for a Sales Order and Sales Order item for an already existing Sales order. it needs to be done with a Odata API.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Currently im Struggling with that on Item level a Update on Item lvl needs to be done to Change AccountAssignment Category to "M" and on Account Assingment lvl a Account assingment needs to be Created.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Kinda Like:&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;A Patch on item lvl.&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;DIV&gt;{&lt;/DIV&gt;&lt;DIV&gt;"AccountAssignmentCategory": "M",&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; "_PurOrdAccountAssignment": [&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; "PurchaseOrderItem": "10",&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; "AccountAssignmentNumber": "1",&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; "SalesOrder": "335",&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; "SalesOrderItem": "000100"&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;}&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;SPAN&gt;]&lt;/SPAN&gt;&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;}&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;i cant get it work.&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;Problem: on Item lvl its kinda a Patch of&amp;nbsp;AccountAssignmentCategory... but on Account assignment lvl its a create.&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;So my Question: How to Create a Account Assignment on a already existing Purchase Order via Odata.&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;kind regards,&amp;nbsp;&lt;/DIV&gt;&lt;DIV&gt;Philipp&amp;nbsp;&lt;/DIV&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/patch-create-account-assignment-m-for-a-existing-purchase-order-in-s-4hana/qaq-p/14262930"/>
    <published>2025-11-07T11:43:11.577000+01:00</published>
  </entry>
</feed>
