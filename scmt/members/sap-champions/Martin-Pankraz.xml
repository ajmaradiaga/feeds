<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>https://raw.githubusercontent.com/ajmaradiaga/feeds/main/scmt/members/sap-champions/Martin-Pankraz.xml</id>
  <title>SAP Community - Martin Pankraz</title>
  <updated>2025-07-26T00:00:03.218629+00:00</updated>
  <link href="https://community.sap.com/t5/user/viewprofilepage/user-id/143781" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="1.0.0">python-feedgen</generator>
  <subtitle>Martin Pankraz in SAP Community</subtitle>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/bring-the-data-from-azure-databricks-adb-to-sap-abap-program/qaa-p/13807964#M4843238</id>
    <title>Re: Bring the data from Azure DataBricks (ADB) to SAP ABA...</title>
    <updated>2024-08-27T07:56:18.078000+02:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;Yes, the accelerator code on the ABAP SDK is aimed at connecting to Azure services for pull based approaches. That was the first request on your list. Connection direction does not mean you cannot get the data. The SDK is pull-oriented but of course its code can be used for push-based too. You may connect to ADB REST api for instance and handle Managed Identities, Entra ID authentication flows etc out-of-the-box from ABAP.&lt;/P&gt;&lt;P&gt;Push based approaches require a completely different stack with transformations and coding your receiver on ABAP. And we haven't started discussing retry logic and mass data movement yet&amp;nbsp;&lt;span class="lia-unicode-emoji" title=":grinning_face_with_smiling_eyes:"&gt;üòÑ&lt;/span&gt;&amp;nbsp;at that point a thread of comments is no longer suitable to arrive at a sustainable solution.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/bring-the-data-from-azure-databricks-adb-to-sap-abap-program/qaa-p/13807964#M4843238"/>
    <published>2024-08-27T07:56:18.078000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/sap-private-linky-swear-with-azure-running-cloud-connector-and-sap-private/bc-p/13942082#M170390</id>
    <title>Re: SAP Private linky swear with Azure ‚Äì running Cloud Connector and SAP Private Link side-by-side</title>
    <updated>2024-11-19T11:59:03.301000+01:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;Hey&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1696610"&gt;@MofizurRahaman&lt;/a&gt;,&lt;/P&gt;&lt;P&gt;there is not much more that can be said about as the blog already states.&lt;/P&gt;&lt;P&gt;1. SAP PLS is no replacement of the SCC. You are comparing a networking service with a software product that includes audit logging, selective RFC exosure etc. They are complementary rather than competitive. Hence, the roadmap item to enable the SCC to communicate with BTP over PLS.&lt;/P&gt;&lt;P&gt;2. SAP PLS supports principal propagation of course, because it is a networking solution. This space has likely evolved since my last post on it but the approach still holds true. See blog &lt;A href="https://community.sap.com/t5/technology-blogs-by-members/sap-private-linky-swear-with-azure-propagate-your-sap-principles-via-sap/ba-p/13514641" target="_blank"&gt;part 5&lt;/A&gt;.&lt;/P&gt;&lt;P&gt;3. This depends on your own needs. No official guidance published yet.&lt;/P&gt;&lt;P&gt;Let the community know what you decided in the end &lt;span class="lia-unicode-emoji" title=":slightly_smiling_face:"&gt;üôÇ&lt;/span&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-private-linky-swear-with-azure-running-cloud-connector-and-sap-private/bc-p/13942082#M170390"/>
    <published>2024-11-19T11:59:03.301000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/perform-sap-principal-propagation-with-microsoft-entra-id-for-sap/ba-p/13860532</id>
    <title>Perform SAP Principal Propagation with Microsoft Entra ID for SAP SuccessFactors!</title>
    <updated>2024-11-20T10:09:24.231000+01:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;SPAN&gt;&lt;EM&gt;This blog is co-authored with Vinayak Adkoli (Lead Product Manager, SAP Integration Suite, SAP SE).&amp;nbsp;Link to Microsoft Learn Hub for Power Platform and SAP&amp;nbsp;&lt;A href="https://learn.microsoft.com/power-platform/sap/" target="_blank" rel="noopener nofollow noreferrer"&gt;here&lt;/A&gt;&lt;span class="lia-unicode-emoji" title=":link:"&gt;üîó&lt;/span&gt;.&lt;/EM&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Dear community,&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The &lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blogs-by-members/integrating-low-code-solutions-with-microsoft-using-sap-integration-suite/ba-p/13789298" target="_blank"&gt;last blog post&lt;/A&gt; showed how to integrate Microsoft and SAP low code solutions with SAP services using the &lt;STRONG&gt;API Management&lt;/STRONG&gt; capability of &lt;STRONG&gt;SAP Integration Suite&lt;/STRONG&gt; and &lt;STRONG&gt;Microsoft Entra ID&lt;/STRONG&gt; as identity provider overall. Todays post is about the specifics for &lt;STRONG&gt;SAP SuccessFactors&lt;/STRONG&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Spoiler alertü§´: the approach stays the same! Only a slightly modified API Management policy needs to be imported. SuccessFactors uses API keys for its SAML assertions rather than an OAuth2 client id and contains your SuccessFactors company id.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_0-1725956414383.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/164365iF3E72E696385CEC5/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_0-1725956414383.png" alt="MartinPankraz_0-1725956414383.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Technically you could use the same policy for NetWeaver based systems and SuccessFactors, because the ‚Äúunexpected‚Äù authentication attributes are ignored as of the releases that were tested. It is a good practice though to separate the concerns. Therefore we published a separate policy instead of a one-size-fits all one with bloated number of attributes.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;At the core of the solution is again the proven OAuth2SAMLBearer flow. See the &lt;A href="https://help.sap.com/docs/SAP_SUCCESSFACTORS_PLATFORM/d599f15995d348a1b45ba5603e2aba9b/4e27e8f6ae2748ab9f23228dd6a31b06.html" target="_blank" rel="noopener noreferrer"&gt;official SuccessFactors docs&lt;/A&gt; on the required SAML attributes for reference.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In addition to that, solving this challenge on Integration Suite level enables scaling the approach to arbitrary many different consumer &lt;/SPAN&gt;solutions&lt;SPAN&gt;. No more re-inventing the wheel for every developer!&lt;/SPAN&gt;&lt;/P&gt;&lt;H3 id="toc-hId-1177884419"&gt;Find the &lt;A href="https://api.sap.com/policytemplate/SuccessFactors_Principal_Propagation_via_Entra_Id" target="_blank" rel="noopener noreferrer"&gt;SuccessFactors specific policy&lt;/A&gt; on the SAP Business Accelerator Hub.&lt;/H3&gt;&lt;P&gt;&lt;SPAN&gt;Of course, you may deviate from the blueprint outlined based on your scenario across SAP BTP, SAP Graph, Integration Suite, other SAP SaaS solutions etc.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-723205476"&gt;&lt;SPAN&gt;A glimpse under the hood&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;Start your journey on SAP API Management by creating a new API provider for your SuccessFactors tenant. Be aware&lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":index_pointing_up:"&gt;‚òùÔ∏è&lt;/span&gt;&lt;SPAN&gt; of the different domains for the portal UI and the associated OData API endpoint! See &lt;A href="https://userapps.support.sap.com/sap/support/knowledge/en/2215682" target="_blank" rel="noopener noreferrer"&gt;SAP note 2215682&lt;/A&gt; for reference.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_1-1725956414399.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/164367iF2A52315213DC2F4/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_1-1725956414399.png" alt="MartinPankraz_1-1725956414399.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Next, register your SuccessFactors OData API. In my sample I am taking the entity set ‚ÄúUser‚Äù, that resides on the base path for a tenant in DC5 like so:&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;A href="https://api5.successfactors.eu/odata/v2/User/$metadata" target="_blank" rel="noopener nofollow noreferrer"&gt;https://api5.successfactors.eu/odata/v2/User/$metadata&lt;/A&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Make sure to verify the base path of the URL (/odata/v2 vs. /odata/v2/User) of your target endpoint on API Management. See below Screenshot for reference.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Otherwise, you will encounter routing issues for request like /odata/v2/User(‚Äò1000‚Äô).&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_2-1725956414406.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/164366i9CC6FB9ACFB02EBF/image-size/medium?v=v2&amp;amp;px=400" role="button" title="MartinPankraz_2-1725956414406.png" alt="MartinPankraz_2-1725956414406.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The API Management policy works under the assumption that trust between your SAP SuccessFactors OAuth2 server and Microsoft Entra ID has been setup before. See &lt;A href="https://help.sap.com/docs/SAP_SUCCESSFACTORS_PLATFORM/d599f15995d348a1b45ba5603e2aba9b/d9a9545305004187986c866de2b66987.html" target="_blank" rel="noopener noreferrer"&gt;this guide&lt;/A&gt; for reference.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In addition to the existing authorizations maintained on SuccessFactors each application consuming the SAP API proxy from API Management need to be authorized on Entra ID.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_3-1725956414410.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/164368i0584EB755CB8CC61/image-size/medium?v=v2&amp;amp;px=400" role="button" title="MartinPankraz_3-1725956414410.png" alt="MartinPankraz_3-1725956414410.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;See this official &lt;A href="https://learn.microsoft.com/entra/identity/saas-apps/successfactors-tutorial" target="_blank" rel="noopener nofollow noreferrer"&gt;guide&lt;/A&gt; for details on the Entra ID setup. Be aware the linked guide refers to the SAML2 setup (not OAuth2!). See the difference for OAuth2SAMLBearer below:&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_4-1725956414426.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/164369i2904509327C43906/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_4-1725956414426.png" alt="MartinPankraz_4-1725956414426.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The Entity ID can be any URI. It is a good practice though to use something that resembles your SuccessFactors tenant.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Be aware that Entity ID must be unique in your Entra ID tenant. In case you want to use SAML2 for SSO and OAuth2 for SAP Principal Propagation for this tenant at the same time, you need to maintain both on the Entra ID enterprise app registration. Assign an order (index) that works with your login flow.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;H2 id="toc-hId-655774690"&gt;&lt;SPAN&gt;Take care of your OAuth settings&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;The steps for the OAuth configuration may vary by SAP product. Here the focus is on SAP SuccessFactors.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Move on to your SuccessFactors tenant and open the app ‚ÄúManage OAuth2 Client Applications‚Äù to create a new OAuth client for your Microsoft Entra ID enterprise app. Populate the values as per your environment.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Be aware that you need to &lt;STRONG&gt;copy the certificate body only&lt;/STRONG&gt; without the header -----BEGIN CERTIFICATE----- and -----END CERTIFICATE-----.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_5-1725956414443.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/164370i02E60D7734B39D9B/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_5-1725956414443.png" alt="MartinPankraz_5-1725956414443.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-459261185"&gt;&lt;SPAN&gt;Import the policy into your tenant&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;Download &lt;A href="https://api.sap.com/policytemplate/SuccessFactors_Principal_Propagation_via_Entra_Id" target="_blank" rel="noopener noreferrer"&gt;the policy from the SAP Business Accelerator Hub&lt;/A&gt; and import the template into your SAP API Management tenant.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_6-1725956414454.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/164372i4C53B25E651BB51E/image-size/medium?v=v2&amp;amp;px=400" role="button" title="MartinPankraz_6-1725956414454.png" alt="MartinPankraz_6-1725956414454.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Apply to all the PostFlow steps of the TargetEndpoints of your APIs as you see fit. See &lt;A href="https://learning.sap.com/learning-journeys/developing-with-sap-integration-suite/using-policies_cd5fde51-b3d2-40d3-bd71-3f2870c2b51b" target="_blank" rel="noopener noreferrer"&gt;this SAP tutorial&lt;/A&gt; and this &lt;A href="https://github.com/SAP/apibusinesshub-api-recipes/blob/master/recipes/README.md" target="_blank" rel="noopener nofollow noreferrer"&gt;SAP GitHub repos&lt;/A&gt; for more details.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_7-1725956414461.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/164371i8727F8882B0EDB0F/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_7-1725956414461.png" alt="MartinPankraz_7-1725956414461.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Consider the governance and security trade-offs between mighty policies and SAP OAuth clients authorized for everything vs. a multitude of clients for each API and scope.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-262747680"&gt;&lt;SPAN&gt;Configure the policy using a key value map&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;All the configuration needed for earlier shown token exchange flow is best provided with an encoded key value map (I recommend starting with un-encoded one, when you do this the first time for simpler troubleshooting). Create a new encrypted one called ‚ÄúSAPPrincipalPropagationMap‚Äù. The name is referenced on the provided policy.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_8-1725956414472.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/164373iF5298E4C404308EF/image-size/medium?v=v2&amp;amp;px=400" role="button" title="MartinPankraz_8-1725956414472.png" alt="MartinPankraz_8-1725956414472.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Fill the values as per your environment:&lt;/SPAN&gt;&lt;/P&gt;&lt;TABLE&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Key&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Value sample&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Hints&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;entra-id-tenant-id&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;12a345bc-1234-56ab-78ab-zzzzzzzzz&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;Find it on the Azure portal (e.g. &lt;A href="https://portal.azure.com/?feature.customportal=false#view/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/~/Overview" target="_blank" rel="noopener nofollow noreferrer"&gt;here&lt;/A&gt;)&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;issuer&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;&lt;A href="https://sts.windows.net/12a345bc-1234-56ab-78ab-zzzzzzzzz/" target="_blank" rel="noopener nofollow noreferrer"&gt;https://sts.windows.net/12a345bc-1234-56ab-78ab-zzzzzzzzz/&lt;/A&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;The prefix is fixed. Only the tenant id is dynamic.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;A href="https://login.microsoftonline.com/12a345bc-1234-56ab-78ab-zzzzzzzzz%20for%20v2" target="_blank" rel="noopener nofollow noreferrer"&gt;https://login.microsoftonline.com/12a345bc-1234-56ab-78ab-zzzzzzzzz&lt;/A&gt; for v2 endpoints&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;entra-id-audience&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;api://999abce-7777-abcd-a6c9-zzzzzzzzzzz&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;The globally unique Application ID URI from the Entra ID app registration representing your SAP API Management instance&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;AADRegisteredAppClientId&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;999abce-7777-abcd-a6c9-zzzzzzzzzzz&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;The Application (client) id of the Entra ID app registration representing your SAP API Management instance.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;AADRegisteredAppClientSecret&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;The secret created for the application 999abce-7777-abcd-a6c9-zzzzzzzzzzz&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;AADSAPResource&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;&lt;A href="https://my.successfactors.eu" target="_blank" rel="noopener nofollow noreferrer"&gt;https://my.successfactors.eu&lt;/A&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;The provider‚Äôs name from your SuccessFactors SAML setup. &lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;sap-oauth-sf-api-key&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;ABCDE1234FGH6789&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;API Key generated by SuccessFactors for your OAuth2 application. Instructions &lt;A href="https://help.sap.com/docs/SAP_SUCCESSFACTORS_PLATFORM/d599f15995d348a1b45ba5603e2aba9b/6b3c741483de47b290d075d798163bc1.html" target="_blank" rel="noopener noreferrer"&gt;here&lt;/A&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;sap-oauth-company-id&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;SF123456&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;Your SuccessFactors Company id. Find &lt;A href="https://userapps.support.sap.com/sap/support/knowledge/en/2655655" target="_blank" rel="noopener noreferrer"&gt;here&lt;/A&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;SAPOAuthServerAdress&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;ForTokenEndpoint&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;salesdemo.successfactors.eu&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;OAuth &lt;A href="https://help.sap.com/docs/SAP_SUCCESSFACTORS_PLATFORM/d599f15995d348a1b45ba5603e2aba9b/223bc880027b4da7983e2f60c49d3992.html" target="_blank" rel="noopener noreferrer"&gt;endpoint&lt;/A&gt; of your successfactors instance.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;Adjust the name of the API provider as per your setup in the policy elements ‚ÄúfetchSAPOAuthToken‚Äù, and ‚ÄúGetCSRFToken‚Äù.&lt;/SPAN&gt;&lt;/P&gt;&lt;H2 id="toc-hId-66234175"&gt;&lt;SPAN&gt;The final mile of integration&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;Ok, all homework is done. Now we get to go outside and enjoy the ‚Äúlow code‚Äù sun with SAP SuccessFactors &lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":sun_with_face:"&gt;üåû&lt;/span&gt;&lt;SPAN&gt;Create your SAP OData connection in Power Automate, choose the authentication type Microsoft Entra ID and paste the URI of the Entra ID app registration that represents your API Management.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId--259362049"&gt;&lt;SPAN&gt;Hints on troubleshooting&lt;/SPAN&gt;&lt;/H1&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Before applying the APIM policy consider running the sequence of authentication calls locally (with ‚Äúline of sight‚Äù to NetWeaver of course) using a REST client. See &lt;A href="https://raw.githubusercontent.com/MartinPankraz/AzureSAPODataReader/master/Templates/SuccessFactors%20Entra%20ID%20principal%20propagation.postman_collection.json" target="_blank" rel="noopener nofollow noreferrer"&gt;this Postman collection&lt;/A&gt; for reference.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Verify the produced Entra ID tokens attributes using a safe JWT validator (e.g. &lt;A href="https://devtoys.app/" target="_blank" rel="noopener nofollow noreferrer"&gt;DevToys&lt;/A&gt;). Don‚Äôt share your sensitive tokens on some website for validation!&lt;/SPAN&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;iss (Issuer): Should read something like &lt;A href="https://sts.windows.net/12a3456-zzz..." target="_blank" rel="noopener nofollow noreferrer"&gt;https://sts.windows.net/12a3456-zzz...&lt;/A&gt; or &lt;A href="https://login.microsoftonline.com/12a3456-zzz" target="_blank" rel="noopener nofollow noreferrer"&gt;https://login.microsoftonline.com/12a3456-zzz&lt;/A&gt;... for v2 endpoints.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;aud (Audience): Something like ‚Äúapi://bbbbbb-cccc-dddd-dddd-eeeeeeee‚Äù&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;scp (Scope): ‚Äúuser_impersonation‚Äù&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;For the SAML2 assertion exercise the same approach but do base64 decode and XML pretty print. Notepad++ with MIME tools -&amp;gt; Base64 decode and XML Tools -&amp;gt; pretty print does the job locally just fine. Again, don‚Äôt paste sensitive info online! Verify the following claims from your assertion:&lt;/SPAN&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;AudienceRestriction -&amp;gt; Audience: Should be a URL containing your app id, e.g. &lt;A href="https://my.successfactors.eu" target="_blank" rel="noopener nofollow noreferrer"&gt;https://my.successfactors.eu&lt;/A&gt; &lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Claims: Name, email or whatever you have configured to be used to identify the named SAP backend user.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;While doing integration tests with the API Management policy consider decoding the &lt;A href="https://help.sap.com/docs/sap-api-management/sap-api-management/create-key-value-map?version=Cloud&amp;amp;locale=en-US" target="_blank" rel="noopener noreferrer"&gt;key value map&lt;/A&gt; or use a public one till you are confident with your setup to see immediately what config values were provided.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Verify that your key value map changes are being pulled.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Cached a faulty token? Disable the caching policy step "LookupSAPTokens" using the enabled attribute on the XML or consider adding an API to clear the cache by user using the "InvalidateCache" policy step.&amp;nbsp;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;405 Method Not allowed (SAP note&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;A href="https://me.sap.com/notes/0003386802" target="_self" rel="noopener noreferrer"&gt;3386802&amp;nbsp;&lt;/A&gt;SAP API Management generates PUT method entries for OData v2 and PATCH entries for OData v4 services. Power Automate's "Update entity" step uses the PATCH approach. In case of conflict, either choose the "Create any type of OData request" step and configure PUT instead on Power Automate or adjust the swagger definition using "Edit in API Designer" on SAP API Management to add PATCH to cater for this.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId--455875554"&gt;&lt;SPAN&gt;Thoughts on production readiness&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;&lt;STRONG&gt;SAP Integration Suite is&lt;/STRONG&gt; more than &lt;STRONG&gt;ready for prime time&lt;/STRONG&gt; as the de-facto standard for SAP heavy integrations.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The &lt;A href="https://help.sap.com/doc/saphelp_nw75/7.5.5/en-US/75/73ffc0ae444443a23b9e661d77d637/frameset.htm" target="_blank" rel="noopener noreferrer"&gt;OAuthSAML2Bearer flow&lt;/A&gt; is an ever green discussed in the community at length for years and fully supported by SAP for service to service Principal Propagation.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The involved Entra ID app registration client secret can be governed with Azure automation or SAP Build Apps Process Automation. See this &lt;A href="https://microsoft.github.io/code-with-engineering-playbook/continuous-integration/dev-sec-ops/secret-management/secrets_rotation/" target="_blank" rel="noopener nofollow noreferrer"&gt;Microsoft article&lt;/A&gt; and this &lt;A href="https://github.com/Azure/AzureAD-AppSecretManager" target="_blank" rel="noopener nofollow noreferrer"&gt;GitHub repos&lt;/A&gt; for reference.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Applying the &lt;A href="https://api.sap.com/policytemplate/SuccessFactors_Principal_Propagation_via_Entra_Id" target="_blank" rel="noopener noreferrer"&gt;battle-proven API management policy&lt;/A&gt; from the API hub ensures a configuration driven approach and clear update paths.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;PowerAutomate also supports Principal Propagation with SuccessFactors directly. However, that would be a point-to-point integration without the &lt;STRONG&gt;governance and security benefits of having an API Management&lt;/STRONG&gt; solution in between.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The &lt;STRONG&gt;SAP and Microsoft low code eco system is a natural fit&lt;/STRONG&gt; for productivity across business needs that involve M365 (Microsoft Graph, Teams, Outlook, SharePoint Online, etc.) and SAP.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In terms of governance, &lt;STRONG&gt;SAP offers extensive integration with the Microsoft ecosystem&lt;/STRONG&gt;. See &lt;A href="https://community.sap.com/t5/technology-blogs-by-sap/supporting-multiple-api-gateways-with-sap-api-management-using-azure-api/ba-p/13680433" target="_blank"&gt;this co-authored blog&lt;/A&gt; about SAP API Management integrating Azure APIs and &lt;A href="https://community.sap.com/t5/technology-blogs-by-members/govern-sap-apis-living-in-various-api-management-gateways-in-a-single-place/ba-p/13682483" target="_blank"&gt;this one about Azure API Center&lt;/A&gt; to handle a multitude of gateways in a single place.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId--652389059"&gt;&lt;SPAN&gt;Final Words&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;That‚Äôs a wrap &lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":burrito:"&gt;üåØ&lt;/span&gt;&lt;SPAN&gt;. Today you saw how to extend the learnings from the first blog to enable SAP SuccessFactors for Power Automate with Principal Propagation through Microsoft Entra ID. The approach maps Microsoft identities to SAP named users to retain its SAP authorizations. In addition to that you learnt that a provided SAP API Management policy performs the heavy lifting of the authentication flow.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;App developers and low coders no longer need to deal with the complexity of the principal propagation and get added benefit of token caching, and CSRF handling out-of-the-box.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;Get started from here.&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;#Kudos to &lt;A href="https://community.sap.com/t5/user/viewprofilepage/user-id/171519" target="_blank"&gt;Martin Raepple&lt;/A&gt; for the contribution of the tricky part of the token dance.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Cheers&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/216068"&gt;@vinayak_adkoli&lt;/a&gt;&amp;nbsp;and Martin&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/perform-sap-principal-propagation-with-microsoft-entra-id-for-sap/ba-p/13860532"/>
    <published>2024-11-20T10:09:24.231000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/sap-api-management-oauth-2-0-authentication-with-successfactors/qaa-p/13943126#M4893185</id>
    <title>Re: SAP API Management - OAuth 2.0 authentication with Su...</title>
    <updated>2024-11-20T10:15:18.334000+01:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>Here is the blog that references the new policy on Entra ID + SuccessFactors: &lt;A href="https://community.sap.com/t5/technology-blogs-by-members/perform-sap-principal-propagation-with-microsoft-entra-id-for-sap/ba-p/13860532" target="_blank"&gt;https://community.sap.com/t5/technology-blogs-by-members/perform-sap-principal-propagation-with-microsoft-entra-id-for-sap/ba-p/13860532&lt;/A&gt;</content>
    <link href="https://community.sap.com/t5/technology-q-a/sap-api-management-oauth-2-0-authentication-with-successfactors/qaa-p/13943126#M4893185"/>
    <published>2024-11-20T10:15:18.334000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-q-a/sap-api-management-oauth-2-0-authentication-with-successfactors/qaa-p/13944142#M4893368</id>
    <title>Re: SAP API Management - OAuth 2.0 authentication with Su...</title>
    <updated>2024-11-21T10:41:34.338000+01:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>Hey Faisal, the difference is who is in charge of generating/signing the SAML assertion and who handles secrets for the trust relationship. Only IdPs are trustworthy in that sense.</content>
    <link href="https://community.sap.com/t5/technology-q-a/sap-api-management-oauth-2-0-authentication-with-successfactors/qaa-p/13944142#M4893368"/>
    <published>2024-11-21T10:41:34.338000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/it-has-never-been-easier-to-print-from-sap-with-microsoft-universal-print/bc-p/13962135#M170759</id>
    <title>Re: It has never been easier to print from SAP with Microsoft Universal Print</title>
    <updated>2024-12-12T14:55:30.019000+01:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;Hey&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1818896"&gt;@Martin-Frick&lt;/a&gt;, hope you are enjoying down under.&lt;/P&gt;&lt;P&gt;Microsoft Universal print as per &lt;A href="https://learn.microsoft.com/en-us/azure/sap/workloads/universal-print-sap-frontend#sap-web-applications" target="_blank" rel="noopener nofollow noreferrer"&gt;our docs article&lt;/A&gt; uses the browser and OS functionalities for cloud printing from Fiori apps. What made you think otherwise? Do we need to update materials maybe?&lt;/P&gt;&lt;P&gt;KR Martin&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/it-has-never-been-easier-to-print-from-sap-with-microsoft-universal-print/bc-p/13962135#M170759"/>
    <published>2024-12-12T14:55:30.019000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/microsoft-sentinel-for-sap-goes-agentless/ba-p/13960238</id>
    <title>Microsoft Sentinel for SAP goes agentless</title>
    <updated>2024-12-17T08:53:02.437000+01:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;H5 id="toc-hId-1464676131"&gt;&lt;SPAN&gt;What a title during Agentic AI times &lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":face_with_tears_of_joy:"&gt;üòÇ&lt;/span&gt;&lt;/H5&gt;&lt;P&gt;&lt;SPAN&gt;Dear community,&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Bringing SAP workloads under the protection of your SIEM of choice is a primary concern for many customers out there.&lt;/SPAN&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;SPAN&gt;&lt;STRONG&gt;The window for defenders is small&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P class="lia-indent-padding-left-30px" style="padding-left : 30px;"&gt;&lt;SPAN&gt;‚ÄúCritical &lt;STRONG&gt;SAP vulnerabilities &lt;/STRONG&gt;being &lt;STRONG&gt;weaponized in less than 72 hours&lt;/STRONG&gt; of a patch release and new unprotected SAP applications provisioned in cloud (IaaS) environments being discovered and &lt;STRONG&gt;compromised in less than three hours&lt;/STRONG&gt;.‚Äù (&lt;A href="https://onapsis.com/resources/reports/active-cyberattacks-mission-critical-sap-applications/" target="_blank" rel="noopener nofollow noreferrer"&gt;SAP SE + Onapsis&lt;/A&gt;, Apr 6 2024)&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Having a turn-key solution as much as possible leads to better adoption of SAP security. Agents running in Docker containers, Kubernetes, or other self-hosted solutions are not for everyone.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&lt;A href="https://learn.microsoft.com/en-us/azure/sentinel/sap/solution-overview" target="_blank" rel="noopener nofollow noreferrer"&gt;Microsoft Sentinel for SAP&lt;/A&gt;‚Äôs latest capability re-uses the SAP Cloud Connector to profit from already existing setups, established integration processes, and well-understood SAP components. Bazinga&lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":collision:"&gt;üí•&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-751831750"&gt;&lt;SPAN&gt;Meet agentless&lt;span class="lia-unicode-emoji" title=":cross_mark:"&gt;‚ùå&lt;/span&gt;&lt;span class="lia-unicode-emoji" title=":robot_face:"&gt;ü§ñ&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;The new integration path leverages &lt;A href="https://help.sap.com/docs/integration-suite" target="_blank" rel="noopener noreferrer"&gt;SAP Integration Suite&lt;/A&gt; to connect Microsoft Sentinel with your SAP systems. The Cloud integration capability of SAP Integration Suite speaks all relevant protocols, has connectivity into all the places where your SAP systems might live, is strategic for most SAP customers, and is fully &lt;A href="https://learn.microsoft.com/en-us/azure/sap/workloads/rise-integration" target="_blank" rel="noopener nofollow noreferrer"&gt;SAP RISE&lt;/A&gt; compatible by design.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Best of all: The already &lt;A href="https://learn.microsoft.com/en-us/azure/sentinel/sap/sap-solution-security-content" target="_blank" rel="noopener nofollow noreferrer"&gt;existing SAP security content&lt;/A&gt; (detections, workbooks, and playbooks) in Microsoft Sentinel continues to function the same way as it does for the Docker-based collector agent variant.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_1-1733905028186.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/200605i7B2792433BBEB345/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_1-1733905028186.png" alt="MartinPankraz_1-1733905028186.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;During the private preview we saw &lt;STRONG&gt;drastically reduced deployment times&lt;/STRONG&gt; for SAP customers being less familiar with Docker, Kubernetes and Linux administration. Cherry on the cake: the network challenges don‚Äôt have to be tackled again. The people running your SAP Cloud Connector went through that process a long time ago. &lt;span class="lia-unicode-emoji" title=":sign_of_the_horns:"&gt;ü§ò&lt;/span&gt;&lt;STRONG&gt;SAP Basis rocks&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":sign_of_the_horns:"&gt;ü§ò&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-555318245"&gt;&lt;SPAN&gt;Ok, hook me up!&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;Customers on SAP NetWeaver 750+ may simply create additional configuration on their SAP Cloud Connector. A small set of RFC function modules are required to be reachable from SAP Integration Suite. Verify from the Sentinel documentation for the latest info.&lt;/P&gt;&lt;P&gt;Depending on your SAP version, you might need to install &lt;SPAN&gt;&lt;A href="https://me.sap.com/notes/3054326" target="_blank" rel="noopener noreferrer"&gt;SAP note 3054326&lt;/A&gt;&lt;/SPAN&gt; to enable the remote call of the audit log API&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_2-1733905028204.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/200606iA95DD4DD70C0E1C5/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_2-1733905028204.png" alt="MartinPankraz_2-1733905028204.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Move on to the Destination maintenance view on your Subaccount on SAP Business Technology Platform. Add an RFC connection matching the details of your SAP Cloud Connector configuration. Consult &lt;SPAN&gt;&lt;A href="https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/configure-access-control-rfc" target="_blank" rel="noopener noreferrer"&gt;SAP‚Äôs official documentation&lt;/A&gt;&lt;/SPAN&gt; for more details.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_3-1733905028220.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/200607i91A8952FDAECF268/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_3-1733905028220.png" alt="MartinPankraz_3-1733905028220.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;Finish the exercise by providing a user on SAP with the required authorizations to call the mentioned remote function modules. Find a transport to bring a pre-configured role &lt;SPAN&gt;&lt;A href="https://learn.microsoft.com/azure/sentinel/sap/preparing-sap#configure-the-microsoft-sentinel-role" target="_blank" rel="noopener nofollow noreferrer"&gt;here&lt;/A&gt;&lt;/SPAN&gt; for your convenience.&lt;/P&gt;&lt;P&gt;Everyone else below SAP NetWeaver 750, reach out to us to talk more details for older AS ABAP releases. Given the audit log API evolution, a different configuration for the integration package is required.&lt;/P&gt;&lt;H1 id="toc-hId-358804740"&gt;&lt;SPAN&gt;Community Extensions - Because Security is a Team Sport &lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":handshake:"&gt;ü§ù&lt;/span&gt;&lt;/H1&gt;&lt;P&gt;The Microsoft Sentinel for SAP journey doesn't stop with official Microsoft offerings in SAP Integration Suite! We are expanding the proven community track to the agentless approach. Build on top of the platform to further enhance your SAP security operations tailored to your needs.&lt;/P&gt;&lt;P&gt;Partners, ISVs, and first and foremost customers are invited to share, contribute, and request additional artifacts.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_0-1745571623740.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/254642i7A15DC268B636B38/image-size/medium?v=v2&amp;amp;px=400" role="button" title="MartinPankraz_0-1745571623740.png" alt="MartinPankraz_0-1745571623740.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Check out the &lt;SPAN&gt;&lt;A href="https://github.com/Azure-Samples/Sentinel-For-SAP-Community" target="_blank" rel="nofollow noopener noreferrer"&gt;Sentinel For SAP Community repository&lt;/A&gt;&lt;/SPAN&gt; where you'll find the first set of Integration templates for you to build upon for additional security workflows.&lt;/P&gt;&lt;H3 id="toc-hId-420456673"&gt;&lt;SPAN&gt;What is already there?&lt;/SPAN&gt;&lt;/H3&gt;&lt;P&gt;The solution package features an SAP Integration Suite integration flow for SOAR use cases. With that you may re-use the same integration approach that the agentless data connector uses. This means requesting SAP user blocks or SAP audit log reactivation can now be done without any additional proxies like Microsoft On-premises-Data-Gateway, separate virtual network injection or the likes. Not too bad, huh?&lt;/P&gt;&lt;P&gt;I especially love seeing customers and partners contributing their expertise to make SAP environments more secure for everyone. This is what community is all about!&lt;/P&gt;&lt;H1 id="toc-hId--34222270"&gt;&lt;SPAN&gt;Thoughts on production readiness&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;SAP Integration Suite and SAP Cloud Connector are among the most used SAP Cloud components for decades now and are completely ready for prime time as they say.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The new agentless offering of the Microsoft Sentinel for SAP solution is currently&amp;nbsp;&lt;A href="https://aka.ms/SentinelSAPAgentlessSignUp" target="_blank" rel="noopener nofollow noreferrer"&gt;in preview&lt;/A&gt; but reuses fully mature capabilities and leverages &lt;A href="https://learn.microsoft.com/azure/sentinel/sap/sap-solution-security-content" target="_blank" rel="noopener nofollow noreferrer"&gt;existing security content&lt;/A&gt;. It will be expanded based on your feedback and requirements.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The integration marks your steppingstone to bring your SAP threat signals into the &lt;A href="https://learn.microsoft.com/unified-secops-platform/overview-unified-security" target="_self" rel="nofollow noopener noreferrer"&gt;Unified Security Operations Platform&lt;/A&gt; ‚Äì a combination of Defender XDR and Sentinel ‚Äì that looks beyond SAP at your whole IT estate.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Microsoft Sentinel solution for SAP applications is certified for SAP S/4HANA Cloud, Private Edition RISE with SAP, and SAP S/4HANA on-premises. So, you are all good to go &lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":smiling_face_with_sunglasses:"&gt;üòé&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId--230735775"&gt;&lt;SPAN&gt;Final Words&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;That‚Äôs a wrap &lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":burrito:"&gt;üåØ&lt;/span&gt;&lt;SPAN&gt;. You learned today:&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;All there is to know about &lt;STRONG&gt;going agentless&lt;/STRONG&gt; with the Microsoft Sentinel for SAP solution,&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Where to find community extensions to the official Microsoft integration package to extend with your own flows on SAP Integration Suite,&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;How important it is to &lt;STRONG&gt;bring SAP under the protection of your central SIEM&lt;/STRONG&gt;, and that&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Leveraging existing SAP integration components gets you up and running securely, SAP RISE future proof, and in no time.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;Get started from &lt;A href="https://learn.microsoft.com/azure/sentinel/sap/deployment-overview?tabs=agentless" target="_blank" rel="noopener nofollow noreferrer"&gt;here&lt;/A&gt;.&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;#Kudos to the amazing Sentinel team!&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Cheers&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Martin&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/microsoft-sentinel-for-sap-goes-agentless/ba-p/13960238"/>
    <published>2024-12-17T08:53:02.437000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/getting-started-with-sap-snc-for-rfc-integrations/ba-p/13983462</id>
    <title>Getting Started with SAP SNC for RFC integrations</title>
    <updated>2025-01-12T17:20:02.514000+01:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;SPAN&gt;Dear community,&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Many of you still rely heavily on the legacy SAP interface RFC. In my world that often means customers connecting their third-party services to SAP backends (AS ABAP). Securing a protocol such as SAP Remote Function Call (RFC) requires network layer protection.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Often Kerberos is discussed on this topic, because it allows the mapping of Windows-Known identities to SAP backend users. However, &lt;STRONG&gt;this post is about apps and technical connections using X.509 certs&lt;/STRONG&gt; ‚Äì not people. They complain less ‚Äì and boringly but reliably behave the same way once configured properly&lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":winking_face:"&gt;üòâ&lt;/span&gt;&lt;SPAN&gt; Meet &lt;STRONG&gt;SAP Secure Network Communications&lt;/STRONG&gt; (SNC).&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;SPAN&gt;By the way: In case you want user-based flows and focus on SAP Principal Propagation have a look at &lt;A href="https://community.sap.com/t5/technology-blogs-by-members/principal-propagation-in-a-multi-cloud-solution-between-microsoft-azure-and/ba-p/13561150" target="_blank"&gt;this series&lt;/A&gt; by my beloved colleague &lt;A href="https://community.sap.com/t5/user/viewprofilepage/user-id/171519" target="_blank"&gt;Martin Raepple&lt;/A&gt;.&lt;/SPAN&gt;&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="SAP SNC integration architecture overview" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/210985i9E08478E04A64031/image-size/large?v=v2&amp;amp;px=999" role="button" title="Picture1.png" alt="SAP SNC integration architecture overview" /&gt;&lt;span class="lia-inline-image-caption" onclick="event.preventDefault();"&gt;SAP SNC integration architecture overview&lt;/span&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-1079366398"&gt;&lt;SPAN&gt;Welcome to the world of &lt;A href="https://help.sap.com/docs/SAP_NETWEAVER_AS_ABAP_751_IP/e73bba71770e4c0ca5fb2a3c17e8e229/e656f466e99a11d1a5b00000e835363f.html" target="_blank" rel="noopener noreferrer"&gt;SAP Secure Network Communication&lt;/A&gt;s (SNC) for trustworthy technical connections!&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;In light of zero-trust efforts customers want to secure their technical connections to SAP RFCs too. In that space certificate-based authentication mechanisms are king. SNC is a prominent choice.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;There are libraries for languages like &lt;A href="https://support.sap.com/en/product/connectors/jco.html" target="_blank" rel="noopener noreferrer"&gt;Java&lt;/A&gt;, &lt;A href="https://support.sap.com/en/product/connectors/msnet.html" target="_blank" rel="noopener noreferrer"&gt;DotNet&lt;/A&gt;, &lt;A href="https://support.sap.com/en/product/connectors/nwrfcsdk.html" target="_blank" rel="noopener noreferrer"&gt;C/C++&lt;/A&gt;, &lt;A href="https://github.com/SAP-archive/PyRFC" target="_blank" rel="noopener nofollow noreferrer"&gt;Python&lt;/A&gt;, and &lt;A href="https://github.com/SAP-archive/node-rfc" target="_blank" rel="noopener nofollow noreferrer"&gt;NodeJS&lt;/A&gt; that support SNC for RFC. Python and NodeJS were recently archived and will no longer be maintained. In case you get stuck, consider &lt;A href="https://blogs.sap.com/2023/05/17/generate-soap-services-for-your-legacy-rfcs-to-simplify-integration-out-of-the-box/" target="_blank" rel="noopener noreferrer"&gt;generating SOAP services for your SAP RFCs&lt;/A&gt; to uplevel the communication stack to layer 7 for use with TLS instead.&lt;/SPAN&gt;&lt;/P&gt;&lt;P class="lia-align-center" style="text-align: center;"&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_1-1736697403542.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/210981iC0A2D3111564937D/image-size/medium?v=v2&amp;amp;px=400" role="button" title="MartinPankraz_1-1736697403542.png" alt="MartinPankraz_1-1736697403542.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P class="lia-align-center" style="text-align: center;"&gt;&lt;SPAN&gt;Source: &lt;A href="https://help.sap.com/docs/SAP_NETWEAVER_AS_ABAP_751_IP/e73bba71770e4c0ca5fb2a3c17e8e229/3f3dacb1c27344e29f3c7b5864825eb5.html" target="_blank" rel="noopener noreferrer"&gt;SAP Help&lt;/A&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Below I will show a simple setup with self-signed certificates. This way you can get started with a working setup and elevate towards more sophisticated as you go. Troubleshooting &lt;/SPAN&gt;&lt;SPAN&gt;SNC errors can be cumbersome, so starting small with less variables and less room for error is a good idea.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;TABLE border="1" width="100%"&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="100%"&gt;Be aware of latest crypto library guidance (SAPCryptoLib vs, CommonCryptoLib) published by&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/2716"&gt;@JoeGoerlich&lt;/a&gt;&amp;nbsp;in &lt;A href="https://community.sap.com/t5/technology-blogs-by-members/commoncryptolib-snc-protocol-versions-and-cipher-suites/ba-p/13518307" target="_blank"&gt;this post&lt;/A&gt;. Verify your&amp;nbsp;&lt;SPAN&gt;archive name starts with SAPCRYPTOLIB_*.sar (which refers to CCL 8.x).&lt;/SPAN&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-882852893"&gt;&lt;SPAN&gt;First things first: reach your private RFC interface&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;SAP products like the SAP Cloud Connector support apps (and people) on the SAP Business Technology Platform to connect to private instances of AS ABAP systems (behind firewall, in RISE, on-premises, or on a protected hyperscaler environment) and bring the required RFC execution environment.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Third-party apps must overcome the same challenges. Typically, that means you will be provided with a piece of software to act as reverse invoke proxy (same as the SAP Cloud Connector) besides the ‚Äúline of sight‚Äù through connected private networks from that proxy. See step 0 in the overview drawing for reference.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;It establishes connection to your third-party app inside out, so that no inbound firewall rules or the likes need to be touched.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;For instance, Microsoft apps like &lt;A href="https://www.microsoft.com/download/details.aspx?id=39717" target="_blank" rel="noopener nofollow noreferrer"&gt;Azure Data Factory, Azure Synapse&lt;/A&gt;, &lt;A href="https://www.microsoft.com/download/details.aspx?id=105539" target="_blank" rel="noopener nofollow noreferrer"&gt;Microsoft Purview&lt;/A&gt;, Microsoft Fabric, and &lt;A href="https://learn.microsoft.com/power-bi/connect-data/service-gateway-onprem" target="_blank" rel="noopener nofollow noreferrer"&gt;Microsoft Power BI&lt;/A&gt; have dedicated means to connect. These components are called Self-hosted Integration Runtime (SHIR) or On-Premises Data Gateway. Find the downloads on the individual product pages.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Be aware that services like Azure Functions or &lt;A href="https://learn.microsoft.com/azure/logic-apps/connectors/sap?tabs=consumption#enable-secure-network-communications-snc" target="_blank" rel="noopener nofollow noreferrer"&gt;Azure LogicApps&lt;/A&gt;&amp;nbsp;have a second approach beyond the Microsoft On-premises Data Gateway. They can bring the means to execute RFC calls, provide SNC configuration, and create line-of-sight to the &lt;A href="https://learn.microsoft.com/azure/logic-apps/connectors/sap?tabs=consumption#network-connectivity-prerequisites" target="_blank" rel="noopener nofollow noreferrer"&gt;private network through injection&lt;/A&gt; capability in a single deployment. This way you don't need the reverse invoke proxy.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Each of the described solutions have individual guides on the SAP RFC setup and how to expose the configuration for SAP SNC.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;SPAN&gt;Can highly recommend my colleague &lt;/SPAN&gt;&lt;/EM&gt;&lt;SPAN&gt;&lt;A href="https://taylorbrazelton.com/2024/02/26/2024-02-23-setting-up-snc-between-power-apps-automate-and-sap/" target="_blank" rel="noopener nofollow noreferrer"&gt;&lt;EM&gt;Taylor Brazelton‚Äôs blog&lt;/EM&gt;&lt;/A&gt;&lt;EM&gt; for SNC from Power Platform and On-premises Data Gateway.&lt;/EM&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Find below an SAP SNC config sequence with self-signed certificates generated by OpenSSL. Through this setup AS ABAP accepts requests protected by SNC via the SHIR.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;I assume you have already installed the SHIR on a suitable windows machine and taken care of &lt;A href="https://learn.microsoft.com/purview/register-scan-sapecc-source#prerequisites" target="_blank" rel="noopener nofollow noreferrer"&gt;required installations&lt;/A&gt; like SAP Java Connector (JCo), SAP Connector for Microsoft .NET (NCo), and .NET Framework. My samples and script commands are Windows specific. However, Linux works the same way with slightly different commands.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-686339388"&gt;&lt;SPAN&gt;Download SAP SNC Crypto Lib to your SNC client machine&lt;/SPAN&gt;&lt;/H2&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Search the latest ‚ÄúSAPCRYPTOLIB‚Äù on SAP‚Äôs &lt;A href="https://me.sap.com/softwarecenterviewer/67838200100200022586/MAINT" target="_blank" rel="noopener noreferrer"&gt;software center&lt;/A&gt; (S-User with download rights required)&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;And extract the SAR file using &lt;A href="https://me.sap.com/softwarecenterviewer/01200615320100002542/MAINT" target="_blank" rel="noopener noreferrer"&gt;SAPCAR&lt;/A&gt;. Command looks something like this:&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;.\SAPCAR_1200-70007719.EXE -xvf .\SAPCRYPTOLIBP_8553-20011729.SAR -R .\..\libs\sapcryptolib&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Find the executable sapgenpse&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;H2 id="toc-hId-489825883"&gt;&amp;nbsp;&lt;/H2&gt;&lt;H2 id="toc-hId-293312378"&gt;&lt;SPAN&gt;Prepare your SNC client machine&lt;/SPAN&gt;&lt;/H2&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Create a folder to hold your SAP PSE artifacts:&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;mkdir sapsecudir
cd .\sapsecudir&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Permanently add environment variable to point at this folder&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;[Environment]::SetEnvironmentVariable("SECUDIR", "C:\sapsecudir", "Machine") # Sets the variable permentaly on the system.
$env:SECUDIR = "C:\sapsecudir" # Updates the current powershell session as there currently does not exist a function to reload.&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-96798873"&gt;&lt;SPAN&gt;Generate a certificate for your SNC client app&lt;/SPAN&gt;&lt;/H2&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Create folders to hold your certificates: mkdir rootCA sncCert&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Generate root CA certificate: Adjust the subject as needed&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;openssl genpkey -algorithm RSA -out rootCA/ca.key.pem -pkeyopt rsa_keygen_bits:2048 

openssl req -x509 -new -key rootCA/ca.key.pem -days 7305 -sha256 -extensions v3_ca -out rootCA/ca.cert.pem -subj "/O=Contoso/CN=Root CA"&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Generate SNC client certificate and adjust subject as needed:&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;openssl genrsa -out sncCert/snc.key.pem 2048

openssl req -key sncCert/snc.key.pem -new -sha256 -out sncCert/snc.csr.pem -subj "/O=Contoso/CN=SNC"&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Sign the SNC certificate with the root CA certificate:&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;openssl x509 -req -in sncCert/snc.csr.pem -days 3650 -CA rootCA/ca.cert.pem -CAkey rootCA/ca.key.pem -CAcreateserial -out sncCert/snc.cert.pem&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId--99714632"&gt;&lt;SPAN&gt;Establish trust between SNC client and SAP&lt;/SPAN&gt;&lt;/H2&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Add the SNC cert to a PKCS #12 archive file (.p12)&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;openssl pkcs12 -export -out snc.p12 -inkey sncCert\snc.key.pem -in sncCert\snc.cert.pem -certfile rootCA\ca.cert.pem&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Create the SAP Personal Security Environment (PSE) using the container&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;.\sapgenpse.exe import_p12 -p SAPSNCSKERB.pse C:\Users\shir-admin\Documents\snc.p12&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H3 id="toc-hId--167145418"&gt;&lt;SPAN&gt;Verify SAP is configured for SNC yet&lt;/SPAN&gt;&lt;/H3&gt;&lt;P&gt;&lt;SPAN&gt;One way of doing that is using transaction RZ10 and browsing the parameters prefixed with SNC. See &lt;A href="https://help.sap.com/docs/SAP_SINGLE_SIGN-ON/df185fd53bb645b1bd99284ee4e4a750/06298bf7ec7e4ae19fba6ab0c518dda1.html" target="_blank" rel="noopener noreferrer"&gt;this SAP document&lt;/A&gt; on the required ‚ÄúSNC Parameters for X.509 Configuration‚Äù settings and their implications.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;If there is no configuration yet execute the transaction SNCWIZARD and maintain settings for X.509 credentials. Take note of the SNC private key subject. The CN will be required later.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Add your SNC client (I named mine PRV for Microsoft Purview) to the SAP Access Control List (ACL) using transaction SNC0 and allow RFC and CPIC connections.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_2-1736697403544.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/210979iBF1D0B87863E6169/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_2-1736697403544.png" alt="MartinPankraz_2-1736697403544.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;H3 id="toc-hId--363658923"&gt;&amp;nbsp;&lt;/H3&gt;&lt;H3 id="toc-hId--560172428"&gt;&lt;SPAN&gt;Import SNC client cert into SAP&lt;/SPAN&gt;&lt;/H3&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Use transaction STRUST&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Navigate to the instance below SNC SAPCryptolib (if crossed out with a red X, create one from right-click)&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Scroll down below the certificate list pane, choose import certificate and supply your snc.cert.pem file.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Click ‚ÄúAdd to Certificate List‚Äù button&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Click ‚ÄúSave‚Äù.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_3-1736697403552.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/210982i4D5DAC894F2F5F39/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_3-1736697403552.png" alt="MartinPankraz_3-1736697403552.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H3 id="toc-hId--831917302"&gt;&lt;SPAN&gt;Download SAP cert and import into SNC client PSE&lt;/SPAN&gt;&lt;/H3&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;From the same STRUST screen, double click the Subject line of ‚ÄúOwn Certificate‚Äù and&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Scroll down again to find the ‚ÄúExport Certificate‚Äù button at the bottom.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Move to your SNC client machine (where your SHIR runs), put the certificate in a secure place (in my sample it landed in a folder called sap) and run below command to import it into your PSE.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;sapgenpse.exe maintain_pk -p SAPSNCSKERB.pse -v -a  C:\sap\contoso-public-key.crt&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Now your SAP trusts connections coming from your SHIR.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId--735027800"&gt;&lt;SPAN&gt;Allow your SHIR process to use your SAP PSE&lt;/SPAN&gt;&lt;/H2&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Verify which user or service is being used by your SNC client to obtain certificate to communicate with SAP. The Purview SHIR uses the service user ‚ÄúNT SERVICE\DIAHostService‚Äù.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Add a credential to allow the certificate retrieval request from the PSE.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;.\sapgenpse.exe seclogin -p C:\sapsecudir\SAPSNCSKERB.pse -x your-pse-pin -O "NT SERVICE\DIAHostService"&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Verify credentials like so&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;.\sapgenpse.exe seclogin -l -O "NT SERVICE\DIAHostService"&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;You can delete them like this:&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;pre class="lia-code-sample language-bash"&gt;&lt;code&gt;.\sapgenpse.exe seclogin -d -O " NT SERVICE\DIAHostService "&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Use the &lt;STRONG&gt;-h parameter to get help&lt;/STRONG&gt; with the sapgenpse command line tool or check the command reference &lt;A href="https://help.sap.com/docs/SAP_NETWEAVER_750/e73bba71770e4c0ca5fb2a3c17e8e229/0d9ce63bab134b39a52e340255d7650c.html" target="_blank" rel="noopener noreferrer"&gt;here&lt;/A&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId--638138298"&gt;&lt;SPAN&gt;Test communication using SAP SNC&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;Navigate to your client application and supply the SNC configuration you have prepared. Some apps require an SAP user and password in addition even though providing a client certificate would be enough for a technical connection (remember: no user mapping or SSO).&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;SPAN&gt;This gives you the option to further trim down access. Use transaction SU01 and the SNC tab or the maintenance view ‚ÄúVUSREXTID‚Äù from transaction SM30 to configure the SNC external ID (CN) to your SAP user name.&lt;/SPAN&gt;&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;See below sample taken from the connection configuration fly-out pane on the Azure portal UI. It can be applied, however, to any SNC client configuration. See further samples &lt;A href="https://help.sap.com/doc/saphelp_nw75/7.5.5/en-US/ce/1dfd3d4aefd95ee10000000a114084/content.htm" target="_blank" rel="noopener noreferrer"&gt;here&lt;/A&gt; and &lt;A href="https://infocenter.sybase.com/help/index.jsp?topic=/com.sybase.infocenter.dc01703.0222/doc/html/fre1292886445861.html" target="_blank" rel="noopener nofollow noreferrer"&gt;here&lt;/A&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_4-1736697403557.png" style="width: 400px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/210983iBFAF35BE9B7B3379/image-size/medium?v=v2&amp;amp;px=400" role="button" title="MartinPankraz_4-1736697403557.png" alt="MartinPankraz_4-1736697403557.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Trigger ‚ÄúTest connection‚Äù and marvel at the SNC secured communication test from Microsoft Purview to AS ABAP&lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":smiling_face_with_smiling_eyes:"&gt;üòä&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Or go even a step further and call your first RFC. RFC_PING or STFC_CONNECTION might be a suitable one in case your target is not yet operational or not identified yet.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId--834651803"&gt;&lt;SPAN&gt;Hints on Troubleshooting&lt;/SPAN&gt;&lt;/H1&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;First, try to connect from your client to AS ABAP without SNC to ensure that networking is properly configured already. Be aware of &lt;A href="https://help.sap.com/docs/Security/575a9f0e56f34c6e8138439eefc32b16/616a3c0b1cc748238de9c0341b15c63c.html" target="_blank" rel="noopener noreferrer"&gt;SAP RFC ports&lt;/A&gt; (ZZ placeholder represents your SAP instance number, e.g. 00 or 01 often) and check firewall accordingly if needed.&lt;/SPAN&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;32ZZ and 33ZZ for direct RFC connections&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;48ZZ for SNC secured RFC connections&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Verify SNC status from transaction SM51 -&amp;gt; click ‚ÄúSNC Status‚Äù button to ensure it is fully configured&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Consult the &lt;A href="https://community.sap.com/t5/application-development-blog-posts/report-zsm04000-snc-zrsusr000-620-show-snc-status-of-current-user-sessions/ba-p/13027982" target="_blank"&gt;blog series&lt;/A&gt; from @&lt;A href="https://community.sap.com/t5/user/viewprofilepage/user-id/360" target="_blank"&gt;Frank_Buchholz&lt;/A&gt; on more sophisticated approaches to verify individual SNC connections. For instance, report ‚Äú&lt;A href="https://github.com/SAP-samples/security-services-tools" target="_blank" rel="noopener nofollow noreferrer"&gt;ZSM04000_SNC&lt;/A&gt;‚Äù shows more details.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;For those of you using &lt;A href="https://help.sap.com/docs/SAP_NETWEAVER_750/1ca554ffe75a4d44a7bb882b5454236f/ab35e1c69f744d69a4fcf4ca93284e0c.html" target="_blank" rel="noopener noreferrer"&gt;SAP UCON&lt;/A&gt; may consult the SNC connectivity status there.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Closing above mentioned RFC ports (32ZZ, 33ZZ) on the proxy VM firewall does the trick to verify if SNC connection is opened. Intentionally ‚Äúbreaking‚Äù your SNC config by mistyping the SNC partner name for instance could give you another indication on a functional setup.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId--1031165308"&gt;&lt;SPAN&gt;Final Words&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;That‚Äôs a wrap &lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":burrito:"&gt;üåØ&lt;/span&gt;&lt;SPAN&gt;. You learned today how to secure your technical RFC connections from third party apps to AS ABAP systems using SNC. The guide keeps it simple so you can establish a stable setup base from which to iterate on more complex setups confidently &lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":smiling_face_with_smiling_eyes:"&gt;üòä&lt;/span&gt;&lt;SPAN&gt;Generate SOAP services for your RFCs and use TLS in case SNC is not an option.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;By the way: When introducing an API Management solution between your 3rd party app and the SOAP service on AS ABAP you may use OAuth2, or OpenID Connect on the client. You still need to translate on the API Management layer to an auth mechanism that &lt;A href="https://help.sap.com/docs/SAP_NETWEAVER_750/f7dd32926c1c4fcf889a4303d833a22b/cf507f42805444f3ad1caf430ca4a221.html" target="_blank" rel="noopener noreferrer"&gt;AS ABAP supports&lt;/A&gt;. Either way a step forward in securing your SAP connections.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Happy integrating with SAP!&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;#Kudos again to &lt;A href="https://www.linkedin.com/in/savas-akgol-713b3915/" target="_self" rel="nofollow noopener noreferrer"&gt;Savas Akgol&lt;/A&gt;,&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/171519"&gt;@MartinRaepple&lt;/a&gt;, and&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/360"&gt;@Frank_Buchholz&lt;/a&gt;&amp;nbsp;for helping with some&amp;nbsp; of the hard parts&amp;nbsp;&lt;span class="lia-unicode-emoji" title=":folded_hands:"&gt;üôè&lt;/span&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Cheers&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Martin&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/getting-started-with-sap-snc-for-rfc-integrations/ba-p/13983462"/>
    <published>2025-01-12T17:20:02.514000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/sap-private-link-service-use-cases-for-sap-cloud-integration-and-sap-build/bc-p/14001669#M178700</id>
    <title>Re: SAP Private Link service use cases for SAP Cloud Integration and SAP Build Work Zone, Standard E</title>
    <updated>2025-01-30T13:33:46.793000+01:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;Hey&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1431637"&gt;@MMZ&lt;/a&gt;,&lt;/P&gt;&lt;P&gt;BTP endpoints including SAP Cloud Integration are internet-facing by design - like any other SaaS product out there. No way to make that private. SaaS security is about securing app layer not network.&lt;/P&gt;&lt;P&gt;Depending on your scenario you might consider using a timer trigger on your iflow to avoid having an endpoint outside.&lt;/P&gt;&lt;P&gt;KR Martin&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/sap-private-link-service-use-cases-for-sap-cloud-integration-and-sap-build/bc-p/14001669#M178700"/>
    <published>2025-01-30T13:33:46.793000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/getting-started-with-sap-snc-for-rfc-integrations/bc-p/14012735#M70969</id>
    <title>Re: Getting Started with SAP SNC for RFC integrations</title>
    <updated>2025-02-10T13:39:34.046000+01:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;Thank you so much for sharing&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/2716"&gt;@JoeGoerlich&lt;/a&gt;! Will make a note on the post.&amp;nbsp;&lt;/P&gt;&lt;P&gt;KR Martin&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/getting-started-with-sap-snc-for-rfc-integrations/bc-p/14012735#M70969"/>
    <published>2025-02-10T13:39:34.046000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/sap-private-linky-swear-with-azure-running-cloud-connector-and-sap-private/bc-p/14035900#M172230</id>
    <title>Re: SAP Private linky swear with Azure ‚Äì running Cloud Connector and SAP Private Link side-by-side</title>
    <updated>2025-03-06T15:45:42.547000+01:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/47313"&gt;@saurabhkumbhare&lt;/a&gt;&amp;nbsp;scenario 1.5 is about enabling the Cloud Connector relay connection to be established via Private Link rather than outbound Internet.&lt;/P&gt;&lt;P&gt;CPI to ECC is a different scenario and already covered &lt;A href="https://community.sap.com/t5/technology-blogs-by-sap/sap-private-link-service-use-cases-for-sap-cloud-integration-and-sap-build/ba-p/13542464" target="_blank"&gt;here&lt;/A&gt;.&lt;/P&gt;&lt;P&gt;KR Martin&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-private-linky-swear-with-azure-running-cloud-connector-and-sap-private/bc-p/14035900#M172230"/>
    <published>2025-03-06T15:45:42.547000+01:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-sap/sap-private-link-service-use-cases-for-sap-cloud-integration-and-sap-build/bc-p/14062161#M180308</id>
    <title>Re: SAP Private Link service use cases for SAP Cloud Integration and SAP Build Work Zone, Standard E</title>
    <updated>2025-03-31T16:23:42.443000+02:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/607904"&gt;@stag_pune&lt;/a&gt;&amp;nbsp;SAP BTP is a Internet-facing app by design. SAP Private Link is the only option for hyperscaler specific private networking options by the platform uni-directional from BTP. Some individual SAP SaaS apps implemented further options for VPN or ExpressRoute without BTP as a platform. As it stands today you need to &lt;A href="https://influence.sap.com/" target="_blank" rel="noopener noreferrer"&gt;file a feature request to SAP&lt;/A&gt; to request further private networking features.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-sap/sap-private-link-service-use-cases-for-sap-cloud-integration-and-sap-build/bc-p/14062161#M180308"/>
    <published>2025-03-31T16:23:42.443000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/sap-principal-propagation-without-secrets-how-managed-identity-in-apim/ba-p/14091769</id>
    <title>SAP Principal Propagation without Secrets: How Managed Identity in APIM Simplifies Everything</title>
    <updated>2025-05-02T11:01:42.574000+02:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;SPAN&gt;Dear community,&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;SAP Principal Propagation (for simplicity often also referred to as SSO) is the gold standard for app integration ‚Äì especially when it comes to 3rd party apps such as Microsoft Power Platform. Building on top of &lt;A href="https://community.powerplatform.com/blogs/post/?postid=c6a609ab-3556-ef11-a317-6045bda95bf0" target="_blank" rel="noopener nofollow noreferrer"&gt;my prior blog&lt;/A&gt; on API Management usage for SAP SSO, I am sharing today how you can fully &lt;STRONG&gt;eliminate the passwords or certificates for the token exchange&lt;/STRONG&gt; previously required.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;FONT face="courier new,courier"&gt;&lt;STRONG&gt;No more password storing or rotation. No certificates to renew. No manual key rollover scripts.&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Thank god!&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The Microsoft Entra ID authentication handshakes with services such as SAP BTP, SuccessFactors, Azure, or M365 apps like Power Platform allows these apps to become native, dynamic, and &lt;STRONG&gt;self-maintaining&lt;/STRONG&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;This shift not only tightens security by reducing the attack surface but also significantly accelerates project delivery, improves compliance with modern Zero Trust principles, and cuts down on administrative overhead. It‚Äôs a &lt;STRONG&gt;small architectural change with a big real-world impact&lt;/STRONG&gt; ‚Äî and a logical next step for enterprise-grade app integrations in the SAP ecosystem.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1580991830"&gt;&lt;SPAN&gt;A glimpse under the hood&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;The magic? It‚Äôs called &lt;A href="https://learn.microsoft.com/entra/identity/managed-identities-azure-resources/overview#use-managed-identity-as-a-federated-identity-credential-fic-on-an-entra-id-app" target="_blank" rel="noopener nofollow noreferrer"&gt;Managed Identity&lt;/A&gt; for Azure. With a user-assigned managed identity in API Management, the platform takes care of the authentication for you ‚Äî clean, automatic, and secret-free. Building on top of &lt;A href="https://learn.microsoft.com/entra/workload-id/workload-identity-federation-config-app-trust-managed-identity?tabs=microsoft-entra-admin-center" target="_blank" rel="noopener nofollow noreferrer"&gt;Workload Identity Federation&lt;/A&gt; enables using a managed identity as a credential, just like certificate or password, on Entra ID Applications.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;See following updated flow diagram from the prior blog. It highlights with red and yellow arrows where it was possible to ‚Äúeliminate‚Äù credentials.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_0-1746174903862.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/257026iDC03090A954A1500/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_0-1746174903862.png" alt="MartinPankraz_0-1746174903862.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;When browsing Microsoft Learn or additional blogs, look for the technical term ‚ÄúFederated Identity Credential‚Äù for additional details.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Solving this challenge on Azure API Management level enables scaling the approach to arbitrary many different consumer solutions.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;Find the updated policy on the Azure API Management repos for SAP ECC and S/4HANA &lt;SPAN&gt;&lt;A href="https://github.com/Azure/api-management-policy-snippets/blob/master/examples/Request%20OAuth2%20access%20token%20from%20SAP%20using%20AAD%20JWT%20token.xml" target="_blank" rel="noopener nofollow noreferrer"&gt;here&lt;/A&gt;&lt;/SPAN&gt; and for SuccessFactors &lt;SPAN&gt;&lt;A href="https://github.com/Azure/api-management-policy-snippets/blob/master/examples/Request%20OAuth2%20access%20token%20from%20SuccessFactors%20using%20AAD%20JWT%20token.xml" target="_blank" rel="noopener nofollow noreferrer"&gt;here&lt;/A&gt;&lt;/SPAN&gt;.&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Learn more about this space in general from the &lt;A href="https://community.sap.com/t5/technology-blogs-by-members/principal-propagation-in-a-multi-cloud-solution-between-microsoft-azure-and/ba-p/13482071" target="_blank"&gt;blog series&lt;/A&gt; by my magnificent colleague &lt;A href="https://community.sap.com/t5/user/viewprofilepage/user-id/171519" target="_blank"&gt;Martin Raepple&lt;/A&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-1513561044"&gt;&lt;SPAN&gt;Create a user-assigned managed identity for your Azure API Management instance&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_1-1746174903874.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/257027i368AD4324CA6A896/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_1-1746174903874.png" alt="MartinPankraz_1-1746174903874.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;See additional details on &lt;A href="https://learn.microsoft.com/azure/api-management/api-management-howto-use-managed-service-identity#create-a-user-assigned-managed-identity" target="_blank" rel="noopener nofollow noreferrer"&gt;this Microsoft Learn article&lt;/A&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-1317047539"&gt;&lt;SPAN&gt;Create a ‚Äúmanaged credential‚Äù&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;This step is being referred to by &lt;A href="https://learn.microsoft.com/entra/workload-id/workload-identity-federation-config-app-trust-managed-identity?tabs=microsoft-entra-admin-center#configure-a-federated-identity-credential-on-an-application" target="_blank" rel="noopener nofollow noreferrer"&gt;Microsoft Learn&lt;/A&gt; as Federated Identity Credential (FIC).&lt;/SPAN&gt;&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Click Add Credential as per below screenshot from the manage secrets pane of your Entra ID app registration which represents your API Management instance.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Choose scenario ‚ÄúManaged Identity‚Äù,&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Select the id of your user-assigned-managed identity created before, and&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Make sure the audience is listed as ‚Äúapi://AzureADTokenExchange‚Äù.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_2-1746174903901.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/257028i5DDBDFF9AA0EA9BF/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_2-1746174903901.png" alt="MartinPankraz_2-1746174903901.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-1120534034"&gt;&lt;SPAN&gt;Import the updated policy&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;Navigate to your &lt;A href="https://learn.microsoft.com/azure/api-management/sap-api?tabs=odata" target="_blank" rel="noopener nofollow noreferrer"&gt;SAP OData API&lt;/A&gt; on Azure API Management and use the &lt;A href="https://portal.azure.com/?#browse/Microsoft.ApiManagement%2Fservice" target="_blank" rel="noopener nofollow noreferrer"&gt;Azure portal UI&lt;/A&gt; to paste &lt;A href="https://github.com/Azure/api-management-policy-snippets/blob/master/examples/Request%20OAuth2%20access%20token%20from%20SAP%20using%20AAD%20JWT%20token.xml" target="_blank" rel="noopener nofollow noreferrer"&gt;the policy&lt;/A&gt; as code, or leverage infrastructure-as-code with your devops pipeline to apply SAP Principal Propagation at scale. See this &lt;A href="https://github.com/Azure-Samples/app-service-javascript-sap-cloud-sdk-quickstart" target="_blank" rel="noopener nofollow noreferrer"&gt;Azure Developer CLI sample&lt;/A&gt; using Bicep for reference.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;See the &lt;A href="https://github.com/Azure/api-management-policy-snippets/blob/master/examples/Request%20OAuth2%20access%20token%20from%20SAP%20using%20AAD%20JWT%20token.xml" target="_blank" rel="noopener nofollow noreferrer"&gt;APIM policy line&lt;/A&gt; doing the magical &lt;A href="https://learn.microsoft.com/azure/api-management/authentication-managed-identity-policy#use-managed-identity-and-set-header-manually" target="_blank" rel="noopener nofollow noreferrer"&gt;managed identity request&lt;/A&gt;. It is as simple as that:&lt;/SPAN&gt;&lt;/P&gt;&lt;pre class="lia-code-sample language-markup"&gt;&lt;code&gt;&amp;lt;authentication-managed-identity resource="api://azureadtokenexchange" client-id="{{APIMUserAssignedManagedIdentityId}}" output-token-variable-name="msi-access-token" ignore-error="false" /&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;SPAN&gt;The rest happens under the hood.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;SPAN&gt;Learn more about policy creation including Microsoft Copilot usage from &lt;/SPAN&gt;&lt;/EM&gt;&lt;SPAN&gt;&lt;A href="https://learn.microsoft.com/azure/api-management/api-management-howto-policies#get-assistance-creating-policies-using-microsoft-copilot-in-azure-preview" target="_blank" rel="noopener nofollow noreferrer"&gt;&lt;EM&gt;this article&lt;/EM&gt;&lt;/A&gt;&lt;EM&gt; and &lt;/EM&gt;&lt;A href="https://www.youtube.com/watch?v=N9Sp7iPjIDs" target="_blank" rel="noopener nofollow noreferrer"&gt;&lt;EM&gt;this video&lt;/EM&gt;&lt;/A&gt;&lt;EM&gt;. In case you fancy GitHub Copilot apply the VS Code extension. See &lt;/EM&gt;&lt;A href="https://techcommunity.microsoft.com/t5/apps-on-azure-blog/github-copilot-for-azure-api-management-policies/ba-p/3884229" target="_blank" rel="noopener nofollow noreferrer"&gt;&lt;EM&gt;this community post&lt;/EM&gt;&lt;/A&gt;&lt;EM&gt; for further inspiration.&lt;/EM&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;SPAN&gt;Consider the governance and security trade-offs between mighty policies and SAP OAuth clients authorized for everything vs. a multitude of clients for each API and scope.&lt;/SPAN&gt;&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-924020529"&gt;&lt;SPAN&gt;Configure the policy using named values&lt;/SPAN&gt;&lt;/H2&gt;&lt;P&gt;&lt;SPAN&gt;The configuration exercise is 99% the same as outlined in the earlier blog ‚Äú&lt;/SPAN&gt;&lt;SPAN&gt;&lt;A href="https://community.powerplatform.com/blogs/post/?postid=c6a609ab-3556-ef11-a317-6045bda95bf0" target="_blank" rel="noopener nofollow noreferrer"&gt;SAP OData connector now supports OAuth2 and SAP Principal Propagation&lt;/A&gt;‚Äù before&lt;/SPAN&gt;&lt;SPAN&gt;. However, now we replace the client secret setting for the Entra ID app registration that represents your API Management instance with the client id of your &lt;A href="https://learn.microsoft.com/azure/api-management/api-management-howto-use-managed-service-identity#create-a-user-assigned-managed-identity" target="_blank" rel="noopener nofollow noreferrer"&gt;user-assigned managed identity&lt;/A&gt;.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_3-1746174903908.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/257029iE21138B47F2B5949/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_3-1746174903908.png" alt="MartinPankraz_3-1746174903908.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Fill the values as per your environment:&lt;/SPAN&gt;&lt;/P&gt;&lt;TABLE&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Key&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Value sample&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;Hints&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;AADTenantId&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;12a345bc-1234-56ab-78ab-zzzzzzzzz&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;Find it on the Azure portal (e.g. &lt;A href="https://portal.azure.com/?feature.customportal=false#view/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/~/Overview" target="_blank" rel="noopener nofollow noreferrer"&gt;here&lt;/A&gt;)&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;APIMAADRegisteredAppClientId&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;999abce-7777-abcd-a6c9-zzzzzzzzzzz&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;The Application (client) id of the Entra ID app registration representing your Azure API Management instance.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;APIMUserAssignedManagedIdentityId&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;7777abce-7777-abcd-a6c9-zzzzzzzzzzz&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;Client ID of user-assigned managed identity of APIM instance&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;AADSAPResource&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;&lt;A href="https://a4h100" target="_blank" rel="noopener nofollow noreferrer"&gt;https://a4h100&lt;/A&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;The provider‚Äôs name from your NetWeaver SAML setup. Typically, a URL with &lt;A href="https://SID" target="_blank" rel="noopener nofollow noreferrer"&gt;SID&lt;/A&gt; followed Client number&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;sap-oauth-client-username&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;ODATAOAUTH&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;User name provided on SOAUTH2 transaction (/sap/bc/webdynpro/sap/oauth2_config?sap-client=100)&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Create a named user on SU01 with minimum rights (S_SCOPE, S_SERVICE) and reference that on SOAUTH2.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Don‚Äôt forget to assign authorized scope.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;sap-oauth-client-password&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;Password for that oauth user&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;This is only used to request tokens not to authenticate to SAP.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;sap-oauth-scope&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;ZPRODUCTSVIEW_CDS_0001&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;The scope assigned on SOAUTH2&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;SAPOAuthRefreshExpiry&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;86400&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;Option to set refresh token expiry (default on SAP 2 years). It is not part of the token response.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;SPAN&gt;SAPOAuthServerAdressForTokenEndpoint&lt;/SPAN&gt;&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;a4h-internal.cloudapp.net:44301&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="200"&gt;&lt;P&gt;&lt;SPAN&gt;Host and port of the target SAP OAuth server. When SAP cloud connector is used, put the virtual hostname and port.&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;H1 id="toc-hId-598424305"&gt;&lt;SPAN&gt;Hints on troubleshooting&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;There was good feedback on the &lt;A href="https://github.com/MartinPankraz/AzureSAPODataReader/blob/master/Templates/AAD_APIM_SAP_Principal_Propagation.postman_collection.json" target="_blank" rel="noopener nofollow noreferrer"&gt;Postman collection&lt;/A&gt; to verify proper SAP Principal Propagation setup. Be aware that the on-behalf-of flow step to request the SAML assertion from Entra involving the managed identity cannot be tested via a REST client from your local device, because only Azure services are trusted for the request.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In general, I would recommend testing the auth flow with the least components involved as possible to reduce problem surface. Meaning, test with a REST client of your choice with client secrets to make sure that your SAP SSO setup and OAuth settings are working. Keep the API Management part and managed identity to after successful initial integration with SAP.&lt;/SPAN&gt;&lt;/P&gt;&lt;H1 id="toc-hId-401910800"&gt;&amp;nbsp;&lt;/H1&gt;&lt;H1 id="toc-hId-205397295"&gt;&lt;SPAN&gt;The wider integration context&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;Q: Does&amp;nbsp;Managed Identity for Azure work only for SAP on Azure?&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;A: No, using &lt;A href="https://learn.microsoft.com/azure/api-management/self-hosted-gateway-overview" target="_blank" rel="noopener nofollow noreferrer"&gt;Azure API Managment self-hosted Gateway&lt;/A&gt; you can bring that capability any-premises. Besides deploying the gateway directly into your local network, consider also Azure&amp;nbsp; public cloud routing options (ExpressRoute, NVAs, VPN, etc.)&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Q: SAP Cloud Connector already supports Principal Propagation for on-premises. Why would I choose this managed identity approach?&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;A: SAP Integration Suite using SAP Cloud Connector for instance is a prime choice - well established and mature. Nothing wrong with that. Still the credentials need to be managed. You may consider a hybrid where Integration Suite realizes connectivity, while Managed Identity for Azure provides passwordless token requests. Be aware to avoid configuring Principal Propagation twice (OAuth2SAMLBearer flow vs. the Cloud Connector setting with short-lived x.509 certs)&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-8883790"&gt;&lt;SPAN&gt;Thoughts on production readiness&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;Managed Identities are a well-established platform feature on Azure with large scale adoption across services. Furthermore, it is &lt;STRONG&gt;the recommended way&lt;/STRONG&gt; of configuring service to service authentication.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Credentials remain in place for the SAP OAuth server as per its &lt;A href="https://help.sap.com/docs/SAP_NETWEAVER_750/e815bb97839a4d83be6c4fca48ee5777/de1b14d589fa46b383ec43fd33dace86.html" target="_blank" rel="noopener noreferrer"&gt;OAuth2 flow capabilities&lt;/A&gt;. Halfway there so to say. Luckily, token users have a much lower risk profile than actual users.&lt;/SPAN&gt;&lt;/P&gt;&lt;H1 id="toc-hId--187629715"&gt;&amp;nbsp;&lt;/H1&gt;&lt;H1 id="toc-hId-385596863"&gt;&lt;SPAN&gt;Final Words&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;That‚Äôs a wrap &lt;/SPAN&gt;&lt;span class="lia-unicode-emoji" title=":burrito:"&gt;üåØ&lt;/span&gt;&lt;SPAN&gt;. Today you saw how SAP Principal Propagation goes secret-less on Microsoft Entra ID ‚Äî no passwords, and no certificates. Entra ID with Managed Identity handles it all, mapping Microsoft identities to SAP users while keeping your authorizations intact.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;This is what native, secure integration should look like.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-unicode-emoji" title=":backhand_index_pointing_right:"&gt;üëâ&lt;/span&gt;&lt;SPAN&gt;&lt;STRONG&gt;If you‚Äôre still managing credentials manually in 2025, it‚Äôs time for an upgrade. It only gets worse from here: Certificate authorities agreed to &lt;A href="https://www.bleepingcomputer.com/news/security/ssl-tls-certificate-lifespans-reduced-to-47-days-by-2029/" target="_blank" rel="noopener nofollow noreferrer"&gt;reduce lifespan to 47 days&lt;/A&gt; in stages over the next 1-3 years.&lt;/STRONG&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Cheers&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;Martin&lt;/SPAN&gt;&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-principal-propagation-without-secrets-how-managed-identity-in-apim/ba-p/14091769"/>
    <published>2025-05-02T11:01:42.574000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/sap-leanix-integrating-microsoft-defender-for-cloud-apps/ba-p/14089439</id>
    <title>SAP LeanIX integrating Microsoft Defender for Cloud Apps</title>
    <updated>2025-05-06T10:33:38.725000+02:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;H2 id="toc-hId-1709386380"&gt;When Enterprise Architects and IT Security Speak the Same Language&lt;/H2&gt;&lt;P&gt;&lt;EM&gt;This blog was co-authored by &lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1578736"&gt;@Michelle10&lt;/a&gt;&amp;nbsp;(&lt;A href="https://www.linkedin.com/in/michelle-n-9a2192118/" target="_blank" rel="noopener nofollow noreferrer"&gt;PM&lt;/A&gt; @ SAP LeanIX)&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Dear community,&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;In most enterprises, IT security and enterprise architecture are two critical disciplines, each with their own priorities, tools, and perspectives. One is laser-focused on threat detection, compliance, and access control. The other is mapping capabilities, rationalizing applications, and shaping long-term IT strategy.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;What happens when these personas complement each other ‚Äì not just in theory, but in tooling?&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;That‚Äôs exactly where the integration between &lt;A href="https://www.leanix.net/" target="_blank" rel="noopener nofollow noreferrer"&gt;SAP LeanIX&lt;/A&gt; and &lt;A href="https://learn.microsoft.com/defender-cloud-apps/what-is-defender-for-cloud-apps" target="_blank" rel="noopener nofollow noreferrer"&gt;Microsoft Defender for Cloud Apps&lt;/A&gt; comes in.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;But wait, what about my managed apps governed by my corporate identity provider? No worries, SAP LeanIX may be integrated with &lt;A href="http://aka.ms/entraSAPHub" target="_blank" rel="noopener nofollow noreferrer"&gt;Microsoft Entra ID&lt;/A&gt; for discovery and keeping track which apps have SSO etc. as well.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;div class="video-embed-center video-embed"&gt;&lt;iframe class="embedly-embed" src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FXQCKUGEbu9w%3Ffeature%3Doembed&amp;amp;display_name=YouTube&amp;amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DXQCKUGEbu9w&amp;amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FXQCKUGEbu9w%2Fhqdefault.jpg&amp;amp;type=text%2Fhtml&amp;amp;schema=youtube" width="400" height="225" scrolling="no" title="#242 - TOW SAP LeanIX and Microsoft Defender for Cloud Apps (Michelle Niedernhuber, M. Pankraz)" frameborder="0" allow="autoplay; fullscreen; encrypted-media; picture-in-picture;" allowfullscreen="true"&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1383790156"&gt;&lt;SPAN&gt;Connecting Two Worlds&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;Microsoft Defender for Cloud Apps is your frontline for SaaS security and governance to detect threat attacks that arise from your SaaS app interactions and reduce the exposure to such attacks. Furthermore, it helps security teams uncover shadow IT, assess risk, and monitor data flows across &lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;SAP LeanIX, meanwhile, gives enterprise architects the visibility they need to manage complexity ‚Äì mapping applications to business capabilities, tracking lifecycle data, and supporting IT transformation.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The magic happens when you combine them.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_0-1745927891074.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/256071iFE69DF396D5D9AAC/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_0-1745927891074.png" alt="MartinPankraz_0-1745927891074.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-inline" image-alt="MartinPankraz_1-1745927891133.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/256073iD396C1026D652602/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_1-1745927891133.png" alt="MartinPankraz_1-1745927891133.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1187276651"&gt;&lt;SPAN&gt;From Discovery to Decision-Making&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;With this integration, you can pull application usage and risk data from Defender for Cloud Apps directly into SAP LeanIX. That means:&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;SPAN&gt;Security teams discover new or risky SaaS apps‚Ä¶&lt;/SPAN&gt;&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;SPAN&gt;‚Ä¶Architects contextualize those apps within business functions and processes.&lt;/SPAN&gt;&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&gt;You‚Äôre no longer just identifying what‚Äôs out there - you‚Äôre aligning it with your architecture strategy. This turns ad-hoc discovery into intentional governance.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-990763146"&gt;&lt;SPAN&gt;Business Outcomes&lt;/SPAN&gt;&lt;/H1&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;Eliminate shadow IT with traceable business context.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Support rationalization with usage-driven decisions.&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;Align security and strategy with shared data and mutual visibility.&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-794249641"&gt;&lt;SPAN&gt;Why It Matters&lt;/SPAN&gt;&lt;/H1&gt;&lt;P&gt;&lt;SPAN&gt;This integration fosters collaboration between two personas that often operate in parallel but rarely intersect. With Microsoft Defender for Cloud Apps and SAP LeanIX, they do - bringing security and architecture into a shared conversation around risk, capability, and value.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;The result? Better decisions, stronger governance, and a much clearer view of your SaaS landscape. All powered from the Defender and Entra ID APIs. Not too bad, huh?&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;This is how modern IT operates: cross-functional, data-driven, and strategically aligned.&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-597736136"&gt;Get Started&lt;/H1&gt;&lt;P&gt;Anyone curious about uncovering shadow IT and making better SaaS app decisions? Just reach out to me and Michelle or leave a comment.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Cheers&lt;/P&gt;&lt;P&gt;Martin &amp;amp; Michelle&lt;/P&gt;&lt;P&gt;______________&lt;/P&gt;&lt;P&gt;References:&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;A href="https://learn.microsoft.com/defender-cloud-apps/api-introduction" target="_blank" rel="noopener nofollow noreferrer"&gt;Defender for Cloud Apps REST API | Microsoft Learn&lt;/A&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;A href="https://learn.microsoft.com/graph/api/resources/security-cloudappdiscovery-overview?view=graph-rest-beta&amp;amp;viewFallbackFrom=graph-rest-1.0" target="_blank" rel="noopener nofollow noreferrer"&gt;Microsoft Defender for Cloud apps API in Microsoft Graph | Microsoft Learn&lt;/A&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;A href="https://docs-eam.leanix.net/docs/microsoft-defender-for-cloud-apps" target="_blank" rel="noopener nofollow noreferrer"&gt;Microsoft Defender for Cloud Apps (MDCA) Integration for SaaS Discovery | LeanIX User Docs&lt;/A&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;LI&gt;&lt;SPAN&gt;&lt;A href="https://docs-eam.leanix.net/docs/microsoft-entra-id" target="_blank" rel="noopener nofollow noreferrer"&gt;Microsoft Entra ID Integration for SaaS Discovery | LeanIX User Docs&lt;/A&gt;&lt;/SPAN&gt;&lt;/LI&gt;&lt;/UL&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-leanix-integrating-microsoft-defender-for-cloud-apps/ba-p/14089439"/>
    <published>2025-05-06T10:33:38.725000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/technology-blog-posts-by-members/sap-principal-propagation-without-secrets-how-managed-identity-in-apim/bc-p/14094417#M173273</id>
    <title>Re: SAP Principal Propagation without Secrets: How Managed Identity in APIM Simplifies Everything</title>
    <updated>2025-05-06T13:32:27.628000+02:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/178477"&gt;@vbalko-claimate&lt;/a&gt;&amp;nbsp;good question. Added a small Q/A section on that.&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/technology-blog-posts-by-members/sap-principal-propagation-without-secrets-how-managed-identity-in-apim/bc-p/14094417#M173273"/>
    <published>2025-05-06T13:32:27.628000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/integrating-low-code-solutions-with-microsoft-using-sap-integration-suite/bc-p/14095347#M71403</id>
    <title>Re: Integrating low code solutions with Microsoft using SAP Integration Suite has never been easier!</title>
    <updated>2025-05-07T13:15:39.896000+02:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1458002"&gt;@JorgeCalderon&lt;/a&gt;&amp;nbsp;the jwt token from caller is part of the standard Authorization header. The sender in my scenario was the SAP OData connector in PowerAutomate. Cheers Martin&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/integrating-low-code-solutions-with-microsoft-using-sap-integration-suite/bc-p/14095347#M71403"/>
    <published>2025-05-07T13:15:39.896000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/how-to-customize-your-sap-logserv-solution-in-microsoft-sentinel-part-2/ba-p/14110388</id>
    <title>How to customize your SAP LogServ solution in Microsoft Sentinel - Part 2</title>
    <updated>2025-05-23T16:18:26.636000+02:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;EM&gt;Find your way to our central blog series entry &lt;A class="" title="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/ultimate-blog-series-sap-logserv-integration-with-microsoft-sentinel/ba-p/14126401" href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/ultimate-blog-series-sap-logserv-integration-with-microsoft-sentinel/ba-p/14126401" target="_blank"&gt;here&lt;/A&gt;.&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;Dear community,&lt;/P&gt;&lt;P&gt;Following the &lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/sap-logserv-integration-with-microsoft-sentinel-for-sap-rise-customers-is/ba-p/14085387" target="_blank"&gt;product release blog&lt;/A&gt; by SAP regarding the integration of SAP LogServ and Microsoft Sentinel, I am going to share some details on customizing the solution to your needs.&lt;/P&gt;&lt;P&gt;The SAP LogServ service in SAP RISE, private cloud edition, gets you &lt;STRONG&gt;access to all the logs&lt;/STRONG&gt; produced by the underlying services managed by SAP ECS. Microsoft Sentinel without LogServ is limited to the application layer only. LogServ holds the promise to get a glimpse into the inner workings of RISE to‚Ä¶&lt;/P&gt;&lt;UL&gt;&lt;LI&gt;Satisfy your auditing needs, and&lt;/LI&gt;&lt;LI&gt;Integration with the SIEM solution Microsoft Sentinel.&lt;/LI&gt;&lt;/UL&gt;&lt;P&gt;However, ALL logs are a bit much for many of you and the security value varies a lot. This blog gets you started to make cost conscious decisions while not compromising too much on threat protection insights. The most discussed log in my conversations so far was SAP HANA database.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1602199239"&gt;Which logs should I choose?&lt;/H1&gt;&lt;P&gt;That needs to be answered based on your needs, what is available, and what you want to achieve. Some just want all logs to store beyond the 365 days covered by LogServ, others only want the HANA DB log, and some want a specific subset across gateways, network, and database. For an up-to-date list always check with SAP.&lt;/P&gt;&lt;P&gt;Here is my opinionated subset that serves as an intro to the topic with no ambition for completeness. Otherwise, this becomes a master thesis kind of thing&lt;span class="lia-unicode-emoji" title=":winking_face:"&gt;üòâ&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;TABLE&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="139px" height="152px"&gt;&lt;P&gt;&lt;STRONG&gt;LogServ source&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="152px"&gt;&lt;P&gt;&lt;STRONG&gt;In Scope of your shared responsibility&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="152px"&gt;&lt;P&gt;&lt;STRONG&gt;Threat Protection value&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="152px"&gt;&lt;P&gt;&lt;STRONG&gt;Chattiness&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;(volume &amp;nbsp;indication in t-shirt sizes)&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="152px"&gt;&lt;P&gt;&lt;STRONG&gt;Comment&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139px" height="132px"&gt;&lt;P&gt;&lt;STRONG&gt;OS (Linux + Windows)&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="132px"&gt;&lt;P&gt;No&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="132px"&gt;&lt;P&gt;Medium&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="132px"&gt;&lt;P&gt;L&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="132px"&gt;&lt;P&gt;Without integration into your EDR less relevant&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139px" height="104px"&gt;&lt;P&gt;&lt;STRONG&gt;&lt;FONT color="#FF00FF"&gt;Database&lt;/FONT&gt; &lt;/STRONG&gt;&lt;STRONG&gt;(HANA, ASE, DB2, etc.)&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="104px"&gt;&lt;P&gt;Yes&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="104px"&gt;&lt;P&gt;High&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="104px"&gt;&lt;P&gt;M&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="104px"&gt;&lt;P&gt;Audit relevant&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139px" height="132px"&gt;&lt;P&gt;&lt;STRONG&gt;Web Application Firewall&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="132px"&gt;&lt;P&gt;No&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="132px"&gt;&lt;P&gt;&lt;FONT color="#FF00FF"&gt;Medium&lt;/FONT&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="132px"&gt;&lt;P&gt;XL&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="132px"&gt;&lt;P&gt;Only http connection info and routing without context&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139px" height="132px"&gt;&lt;P&gt;&lt;STRONG&gt;Load Balancer&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="132px"&gt;&lt;P&gt;No&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="132px"&gt;&lt;P&gt;Low&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="132px"&gt;&lt;P&gt;L&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="132px"&gt;&lt;P&gt;Layer 4 /TCP/IP) communication only without context&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139px" height="132px"&gt;&lt;P&gt;&lt;STRONG&gt;Network, Flow Logs&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="132px"&gt;&lt;P&gt;No&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="132px"&gt;&lt;P&gt;Medium&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="132px"&gt;&lt;P&gt;XXXL&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="132px"&gt;&lt;P&gt;Useful to trace back lateral movement on a compromise&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139px" height="132px"&gt;&lt;P&gt;&lt;FONT color="#FF00FF"&gt;&lt;STRONG&gt;SAP Cloud Connector&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="132px"&gt;&lt;P&gt;Yes&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="132px"&gt;&lt;P&gt;&lt;FONT color="#FF00FF"&gt;High&lt;/FONT&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="132px"&gt;&lt;P&gt;M&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="132px"&gt;&lt;P&gt;Audit log holds all info on connections from SAP BTP&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139px" height="187px"&gt;&lt;P&gt;&lt;STRONG&gt;SAP Web Dispatcher&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="187px"&gt;&lt;P&gt;No&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="187px"&gt;&lt;P&gt;Medium&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="187px"&gt;&lt;P&gt;L&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="187px"&gt;&lt;P&gt;Only http connection info and routing with IPs from last hop rather than original client.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139px" height="104px"&gt;&lt;P&gt;&lt;STRONG&gt;ICM&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="104px"&gt;&lt;P&gt;No&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="104px"&gt;&lt;P&gt;Medium&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="104px"&gt;&lt;P&gt;L&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="104px"&gt;&lt;P&gt;Same challenge as with Web Dispatcher.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139px" height="242px"&gt;&lt;P&gt;&lt;STRONG&gt;SAP Gateway (OData)&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="242px"&gt;&lt;P&gt;Yes&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="242px"&gt;&lt;P&gt;Low&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="242px"&gt;&lt;P&gt;M&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="242px"&gt;&lt;P&gt;Mostly exceptions on OData requests. SAP Cloud Connector audit log covers this with higher value.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="139px" height="50px"&gt;&lt;P&gt;&lt;STRONG&gt;‚Ä¶&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="113.146px" height="50px"&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="114px" height="50px"&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="128px" height="50px"&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="133px" height="50px"&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;For the latest list of LogServ source folder names etc. consult with SAP and their documentation.&lt;/P&gt;&lt;P&gt;&lt;EM&gt;Be aware, for AS ABAP and AS JAVA security audit log integration you still require the agentless Sentinel Solution for SAP. See the overview diagram in &lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/announcing-limited-preview-of-sap-logserv-integration-with-microsoft/ba-p/13942180" target="_blank"&gt;SAP‚Äôs blog&lt;/A&gt; for more details on the LogServ Addon in combination with the Sentinel for SAP.&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1405685734"&gt;How do I select those logs?&lt;/H1&gt;&lt;P&gt;SAP published a native solution to Microsoft Sentinel. By using the Microsoft platform, you may configure the ingestion rule on the Data Collection Rule instance in Azure.&lt;/P&gt;&lt;P&gt;Once you have deployed the LogServ connector on Sentinel, you can browse the same Azure resource group to identify your generated Data Collection rule. It will read something like ‚Äú-SAPLogServDCR-‚Äù. Tailor the existing Kusto Query Language (KQL) transformation to your needs (step 4). The default one takes all logs.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_0-1748009301824.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/265525i1082188F1B6CE9C8/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_0-1748009301824.png" alt="MartinPankraz_0-1748009301824.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Consider the kql snippet below to filter the log by types. In my sample the data collection rule only accepts HANA db, Linux OS, and DNS.&lt;/P&gt;&lt;pre class="lia-code-sample language-sql"&gt;&lt;code&gt;let fromUnixTime = (t: real) {
    datetime(1970-01-01) + t * 1sec
};
source
| extend TimeGenerated = fromUnixTime(_time)
| extend Raw = _raw
| extend UnixTimestamp =_time
| where clz_dir in ("hana", "linux", "dns")
| project-away  _raw, _time&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;You have full control over your selections. For &lt;STRONG&gt;audit relevant long term retention&lt;/STRONG&gt; consider the &lt;STRONG&gt;data lake tier&lt;/STRONG&gt;. SAP LogServ data is being mirrored to the &lt;STRONG&gt;Sentinel Data Lake&lt;/STRONG&gt; for the same period of time as your Analytics tier setting (typically 30 days). You can extend that period on the lake up to 12 years at low cost. Learn more about security data lake tiers &lt;A href="https://learn.microsoft.com/azure/sentinel/manage-data-overview?#how-data-tiers-and-retention-work" target="_blank" rel="noopener nofollow noreferrer"&gt;here&lt;/A&gt;. See a video on capabilities &lt;A href="https://www.youtube.com/watch?v=4CUK-eJBNI0" target="_blank" rel="noopener nofollow noreferrer"&gt;here&lt;/A&gt;.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="tiers-retention-defender-portal.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/289637i971470F7EC4D6812/image-size/large?v=v2&amp;amp;px=999" role="button" title="tiers-retention-defender-portal.png" alt="tiers-retention-defender-portal.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;By design the LogServ connector comes with a built-in table in Analytics tier set up for real-time SAP threat protection needs. The table is called SAPLogServ_CL. Weigh retention time, real time needs, and &lt;A href="https://techcommunity.microsoft.com/blog/microsoft-security-blog/microsoft-sentinel-data-lake-pricing-preview/4433919" target="_blank" rel="noopener nofollow noreferrer"&gt;storage cost&lt;/A&gt;. See &lt;A href="https://learn.microsoft.com/azure/sentinel/manage-data-overview?#compare-the-analytics-and-data-lake-tiers" target="_blank" rel="noopener nofollow noreferrer"&gt;this article&lt;/A&gt;&amp;nbsp;for additional details and tier comparison.&lt;/P&gt;&lt;P&gt;Microsoft recommends to distinguish between primary (critical, real-time monitoring) and secondary&amp;nbsp;security data (infrequently needed, compliance data, high-volume). The security data lake tier reflects that with capabilities and cost.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="Picture1.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/286520iA39B6980EE12A947/image-size/large?v=v2&amp;amp;px=999" role="button" title="Picture1.png" alt="Picture1.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1209172229"&gt;Final Words&lt;/H1&gt;&lt;P&gt;That‚Äôs a wrap &lt;span class="lia-unicode-emoji" title=":burrito:"&gt;üåØ&lt;/span&gt;. Today you saw how a single line of KQL (Kusto Query Language) makes all the difference between drinking from the SAP RISE logs firehose that is SAP LogServ and selectively choosing SAP logs that mean something to your use case. The Microsoft Sentinel Data Lake powers your long term retention needs while the "hot" Log Analytics tables power your SAP real-time threat protections .&lt;/P&gt;&lt;P&gt;Get started with your deployment from &lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/sap-logserv-integration-with-microsoft-sentinel-for-sap-rise-customers-is/bc-p/14089301" target="_blank"&gt;here&lt;/A&gt;. Stay tune for more detections and security content.&lt;/P&gt;&lt;P&gt;What use cases and detections are you implementing with LogServ and Microsoft Sentinel? Let me know in the comments or reach out directly.&lt;/P&gt;&lt;P&gt;Cheers Martin&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/how-to-customize-your-sap-logserv-solution-in-microsoft-sentinel-part-2/ba-p/14110388"/>
    <published>2025-05-23T16:18:26.636000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/ultimate-blog-series-sap-logserv-integration-with-microsoft-sentinel/ba-p/14126401</id>
    <title>Ultimate Blog Series: SAP LogServ Integration with Microsoft Sentinel</title>
    <updated>2025-06-13T09:16:46.846000+02:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;EM&gt;TLDR; let me &lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/sap-logserv-integration-with-microsoft-sentinel-for-sap-rise-customers-is/bc-p/14089301" target="_blank"&gt;deploy already&lt;/A&gt;&amp;nbsp;(scroll down there to the prerequisites section)!&amp;nbsp;&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;Welcome to the landing page of this blog series on the SAP LogServ solution in Microsoft Sentinel. Find all the things you always wanted to know and more.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1603302212"&gt;Beyond Application Monitoring: Complete SAP RISE Visibility&lt;/H1&gt;&lt;P&gt;Running RISE with SAP, S/4HANA Cloud Private Edition, or SAP Cloud ERP private? Microsoft Sentinel by itself already delivers powerful SAP application-layer monitoring ‚Äì tracking SAP user activity, business transactions, and critical events while correlating them with threat signals across your entire IT estate. &lt;STRONG&gt;That's just the beginning.&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;SAP LogServ is an optional service in your SAP Cloud ERP private package that unlocks access to all logs from SAP's managed services. It takes your security posture to the next level by extending Sentinel's reach deep into your infrastructure managed by SAP. Think complete HANA database insights, system-level security telemetry, and audit trails - all flowing seamlessly into your existing security operations workflow.&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;The result&lt;/STRONG&gt;: Your security team finally gets full visibility into the managed SAP stack, from business logic to infra to database layer.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1406788707"&gt;What This Series Covers&lt;/H1&gt;&lt;P&gt;Comprehensive guidance from planning your LogServ + Sentinel deployment, log selection, customizing the solution, to advanced threat protection. Blogs are co-authored by SAP SE and Microsoft engineering.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;TABLE&gt;&lt;TBODY&gt;&lt;TR&gt;&lt;TD width="292.177px" height="50px"&gt;&lt;P&gt;&lt;STRONG&gt;Part&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="438.49px" height="50px"&gt;&lt;P&gt;&lt;STRONG&gt;Topic&lt;/STRONG&gt;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="292.177px" height="77px"&gt;&lt;P&gt;&lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/announcing-limited-preview-of-sap-logserv-integration-with-microsoft/ba-p/13942180" target="_blank"&gt;Limited Preview Announcement&lt;/A&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Lead author: Hemanth&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="438.49px" height="77px"&gt;&lt;P&gt;Initial introduction to the solution and integration between LogServ and Microsoft Sentinel&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="292.177px" height="77px"&gt;&lt;P&gt;&lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/sap-logserv-integration-with-microsoft-sentinel-for-sap-rise-customers-is/bc-p/14089301" target="_blank"&gt;General Availability Announcement&lt;/A&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Lead author: Hemanth&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="438.49px" height="77px"&gt;&lt;P&gt;Deployment overview with &lt;STRONG&gt;Step-by-step SAP LogServ connector setup in Sentinel&lt;/STRONG&gt;, insights on prerequisites&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;&lt;P&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/first-smoke-test-after-sap-logserv-solution-deployment-in-microsoft/ba-p/14142675" target="_blank"&gt;&lt;SPAN&gt;Part 0: First Smoke test&lt;/SPAN&gt;&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Lead author: Martin&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt;Due to the asynchronous integration between SAP LogServ and Microsoft Sentinel, it's advisable to perform a smoke test yourself before sharing your config data with SAP for speedy onboarding. Here is how.&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="292.177px" height="77px"&gt;&lt;P&gt;&lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/microsoft-sentinel-for-sap-goes-agentless/ba-p/13960238" target="_blank"&gt;Part 1: Microsoft Sentinel for SAP goes agentless&lt;/A&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Lead author: Martin&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="438.49px" height="77px"&gt;&lt;P&gt;SAP ERP Application layer integration with agentless data connector in Sentinel Solution for SAP&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="292.177px" height="104px"&gt;&lt;P&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/how-to-customize-your-sap-logserv-solution-in-microsoft-sentinel/ba-p/14110388" target="_blank"&gt;Part 2: How to customize your SAP LogServ solution in Microsoft Sentinel&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;FONT color="#FF00FF"&gt;Featuring&lt;/FONT&gt;: Sentinel Data Lake&lt;/EM&gt;&lt;/P&gt;&lt;P&gt;&lt;EM&gt;&lt;SPAN&gt;Lead author: Martin&lt;/SPAN&gt;&lt;/EM&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="438.49px" height="104px"&gt;&lt;P&gt;Understand log types available in LogServ (volume, cost, threat protection value, etc); how to filter logs, configure long term retention for compliance needs, and how to customize the solution in Sentinel to optimize cost,&amp;nbsp;&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD width="292.177px" height="104px"&gt;&lt;P&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/deploy-built-in-sap-logserv-detection-rules-in-microsoft-sentinel-and/ba-p/14141749" target="_blank"&gt;Part 3: Deploy built-in detection rules and extend to your needs&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&lt;SPAN&gt;Lead author: Martin&lt;/SPAN&gt;&lt;/P&gt;&lt;/TD&gt;&lt;TD width="438.49px" height="104px"&gt;&lt;P&gt;See the already available analytic rules shipped by SAP, and discover how to craft your own based on your needs&lt;/P&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Target audiences&lt;/STRONG&gt;: SAP Basis admins, security architects, SOC analysts, and compliance teams looking to enhance their SAP monitoring capabilities.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;div class="video-embed-center video-embed"&gt;&lt;iframe class="embedly-embed" src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FPTKMmzD49zs%3Ffeature%3Doembed&amp;amp;display_name=YouTube&amp;amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DPTKMmzD49zs&amp;amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FPTKMmzD49zs%2Fhqdefault.jpg&amp;amp;type=text%2Fhtml&amp;amp;schema=youtube" width="600" height="337" scrolling="no" title="#243 - TOW SAP LogServ integration with Microsoft Sentinel (Hemanth Kusampudi, M. Pankraz, B. Ulke)" frameborder="0" allow="autoplay; fullscreen; encrypted-media; picture-in-picture;" allowfullscreen="true"&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1210275202"&gt;Architecture Overview&lt;/H1&gt;&lt;P&gt;Reference diagrams for planning your implementation&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;Detailed Component Architecture&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_0-1749734996404.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/273643iB86A985C7CCEB99E/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_0-1749734996404.png" alt="MartinPankraz_0-1749734996404.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;STRONG&gt;High-Level Integration Flow across the whole stack&lt;/STRONG&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_1-1749734996417.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/273644i4ADEBE89941DC908/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_1-1749734996417.png" alt="MartinPankraz_1-1749734996417.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H3 id="toc-hId-1271927135"&gt;Ready to transform your SAP Cloud ERP private security posture? Let's get started from &lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/sap-logserv-integration-with-microsoft-sentinel-for-sap-rise-customers-is/bc-p/14089301" target="_blank"&gt;here&lt;/A&gt;.&lt;/H3&gt;&lt;P&gt;Which logs from RISE do you need most? Let me know in the comments or reach out directly.&lt;/P&gt;&lt;P&gt;Cheers Martin and Hemanth&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/ultimate-blog-series-sap-logserv-integration-with-microsoft-sentinel/ba-p/14126401"/>
    <published>2025-06-13T09:16:46.846000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/deploy-built-in-sap-logserv-detection-rules-in-microsoft-sentinel-and/ba-p/14141749</id>
    <title>Deploy built-in SAP LogServ detection rules in Microsoft Sentinel and extend to your needs - Part 3</title>
    <updated>2025-07-02T14:13:55.796000+02:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;EM&gt;&lt;SPAN&gt;Find your way to our central blog series entry&amp;nbsp;&lt;/SPAN&gt;&lt;/EM&gt;&lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/ultimate-blog-series-sap-logserv-integration-with-microsoft-sentinel/ba-p/14126401" target="_blank"&gt;&lt;EM&gt;here&lt;/EM&gt;&lt;/A&gt;&lt;EM&gt;.&lt;/EM&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;Dear community,&lt;/P&gt;&lt;P&gt;Following the &lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/sap-logserv-integration-with-microsoft-sentinel-for-sap-rise-customers-is/ba-p/14085387" target="_blank"&gt;product release blog&lt;/A&gt;&lt;/SPAN&gt; by SAP regarding the integration of SAP LogServ and Microsoft Sentinel, I am going to share some details on the built-in detection rules and how you can build upon them.&lt;/P&gt;&lt;P&gt;The most discussed log in my customer conversations so far was SAP HANA database. So, let‚Äôs start with that.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1605003314"&gt;Discover the available built-in detections from the Content Hub&lt;/H1&gt;&lt;P&gt;Find the relevant section both from the Azure or the unified Defender portal under Rule templates in the Analytics section. They are available from version 3.0.2 of the SAP LogServ solution.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_0-1751377056812.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281358iEBA01CB3C314647B/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_0-1751377056812.png" alt="MartinPankraz_0-1751377056812.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Typical database threat scenarios involve tampering with audit log settings, admin authorizations or privileged role assignments.&lt;/P&gt;&lt;P&gt;We have taken the existing battle-proven Microsoft Sentinel Solution for SAP rules for HANA DB and translated them to be compatible with the LogServ schema. The raw log source is Syslog in both cases. So, the only remaining step was ‚Äúunboxing‚Äù of the JSON wrapper.&lt;/P&gt;&lt;P&gt;To understand the individual columns of the LogServ output, see SAP‚Äôs &lt;SPAN&gt;&lt;A href="https://help.sap.com/docs/SAP_HANA_PLATFORM/b3ee5778bc2e4a089d3299b82ec762a7/0a57444d217649bf94a19c0b68b470cc.html" target="_blank" rel="noopener noreferrer"&gt;HANA Audit Trail Layout for Trail Target documentation&lt;/A&gt;&lt;/SPAN&gt;. For ease of use we have numbered the columns and applied the same names SAP mentions on their docs.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1408489809"&gt;Activate the new rules&lt;/H1&gt;&lt;P&gt;Navigate to the Analytics pane and select the rule you want, click ‚ÄúCreate Rule‚Äù from the button with the three dots and follow the configuration wizard. See the severity classification and pre-defined MITRE attack framework mapping. These mappings help streamline your SOC analysts‚Äô triage efforts.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_1-1751377056832.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281356i19AA2ACAEDEEFE09/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_1-1751377056832.png" alt="MartinPankraz_1-1751377056832.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_2-1751377056849.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281357i9EA86347E8241054/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_2-1751377056849.png" alt="MartinPankraz_2-1751377056849.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Verify the rule execution schedule and consider automated responses where feasible. Creating ServiceNow tickets for instance is a popular action. See my &lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/from-zero-to-hero-security-coverage-with-microsoft-sentinel-for-your/ba-p/13561790" target="_blank"&gt;dedicated blog series&lt;/A&gt;&lt;/SPAN&gt; on SOAR for SAP for inspiration.&lt;/P&gt;&lt;P&gt;From the ‚ÄúReview + Create‚Äù section click save. Your rule is now live!&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1211976304"&gt;Build upon or extend the provided analytic rules&lt;/H1&gt;&lt;P&gt;Since the Kusto Query is fully transparent to you (see above screenshot) it is easy to derive your own tailored scenarios from it.&lt;/P&gt;&lt;P&gt;For instance, take analytic rule ‚ÄúDeactivation of Audit Trail‚Äù and extend the client IP address attribute (client_ip_address__col_7) to project in plain English if that is an internal or external IP.&lt;/P&gt;&lt;pre class="lia-code-sample language-sql"&gt;&lt;code&gt;| extend GeoLocation= iff(ipv4_is_private(client_ip_address__col_7),
dynamic({"IsPrivate": true}),
geo_info_from_ip_address(client_ip_address__col_7))&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;I have a feeling this might be of interest during your incident triage process &lt;span class="lia-unicode-emoji" title=":winking_face:"&gt;üòâ&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1015462799"&gt;Final Words&lt;/H1&gt;&lt;P&gt;That‚Äôs a wrap&lt;span class="lia-unicode-emoji" title=":burrito:"&gt;üåØ&lt;/span&gt;. You saw today how to discover the built-in analytic rules of the SAP LogServ solution in Microsoft Sentinel and how easy it is to extend them for your own individual needs. The rule catalog gets extended continuously based on customer demand.&lt;/P&gt;&lt;P&gt;Your existing investments in SAP infrastructure detections in Sentinel can easily be made compatible with the LogServ schema, because SAP simply forwards the logs unaltered as raw messages. The only required step is the unboxing of their JSON root message.&lt;/P&gt;&lt;P&gt;#Kudos to&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1619343"&gt;@Hemanth_Kusampudi&lt;/a&gt;&amp;nbsp;and team for the partnership.&lt;/P&gt;&lt;P&gt;Get started with your deployment from &lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/sap-logserv-integration-with-microsoft-sentinel-for-sap-rise-customers-is/bc-p/14089301" target="_blank"&gt;here&lt;/A&gt; today&lt;/SPAN&gt;.&lt;/P&gt;&lt;P&gt;Which detections or analytic rules for RISE do you need most? Let me know in the comments or reach out directly.&lt;/P&gt;&lt;P&gt;Cheers Martin&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/deploy-built-in-sap-logserv-detection-rules-in-microsoft-sentinel-and/ba-p/14141749"/>
    <published>2025-07-02T14:13:55.796000+02:00</published>
  </entry>
  <entry>
    <id>https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/first-smoke-test-after-sap-logserv-solution-deployment-in-microsoft/ba-p/14142675</id>
    <title>First smoke test after SAP LogServ solution deployment in Microsoft Sentinel - Part 0</title>
    <updated>2025-07-02T14:34:47.839000+02:00</updated>
    <author>
      <name>Martin-Pankraz</name>
      <uri>https://community.sap.com/t5/user/viewprofilepage/user-id/143781</uri>
    </author>
    <content>&lt;P&gt;&lt;EM&gt;&lt;SPAN&gt;Find your way to our central blog series entry&amp;nbsp;&lt;/SPAN&gt;&lt;/EM&gt;&lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/ultimate-blog-series-sap-logserv-integration-with-microsoft-sentinel/ba-p/14126401" target="_blank"&gt;&lt;EM&gt;here&lt;/EM&gt;&lt;/A&gt;&lt;EM&gt;.&lt;/EM&gt;&lt;/SPAN&gt;&lt;/P&gt;&lt;P&gt;Dear community,&lt;/P&gt;&lt;P&gt;Due to the asynchronous integration between SAP LogServ and Microsoft Sentinel, it's advisable to perform a smoke test yourself before sharing your config data with SAP. This helps confirm if your receiving connector setup works and ensures the correct configuration will be shared with SAP the first time round.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1605032233"&gt;Run a smoke test for ease of mind&lt;/H1&gt;&lt;P&gt;Once the SAP LogServ push-connector is deployed on Microsoft Sentinel, you can start posting data towards its data collection endpoint. Use the &lt;SPAN&gt;&lt;A href="https://github.com/MartinPankraz/LogServAccelerators" target="_blank" rel="noopener nofollow noreferrer"&gt;provided REST client collection&lt;/A&gt;, or scripts&lt;/SPAN&gt; to replicate the exact requests details that LogServ is performing too.&lt;/P&gt;&lt;P&gt;Maintain the variables as per your environment, see the LogServ sample payload and start posting. A working request shows http code 204 with no content on the response. See a sample output from the provided powershell script for reference. I prefer REST clients but people are different &lt;span class="lia-unicode-emoji" title=":smiling_face_with_sunglasses:"&gt;üòé&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_0-1751458923696.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281782i671E08F07FB909B9/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_0-1751458923696.png" alt="MartinPankraz_0-1751458923696.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Find the parameters from the SAP LogServ Sentinel &lt;STRONG&gt;connector wizard&lt;/STRONG&gt; on initial connect (see screenshot below). You can also get them directly from the individual resources. The data collection endpoint and data collection rule are created in the same resource group as your Log Analytics workspace underpinning Sentinel. They are prefixed with ‚ÄúSAPLogServ‚Äù. The app registration on Entra ID can be found from the Entra Application ID field.&lt;/P&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_1-1751458923709.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281781iE03B6FBB91C6BDA4/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_1-1751458923709.png" alt="MartinPankraz_1-1751458923709.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Use the 2 KQL queries below to inspect your first data entry on the SAPLogServ_CL table in Sentinel.&lt;/P&gt;&lt;pre class="lia-code-sample language-sql"&gt;&lt;code&gt;SAPLogServ_CL
| take 10&lt;/code&gt;&lt;/pre&gt;&lt;pre class="lia-code-sample language-sql"&gt;&lt;code&gt;SAPLogServ_CL
| summarize count() by clz_dir, clz_subdir
| order by clz_dir asc, clz_subdir asc&lt;/code&gt;&lt;/pre&gt;&lt;P&gt;&lt;span class="lia-inline-image-display-wrapper lia-image-align-center" image-alt="MartinPankraz_2-1751459555337.png" style="width: 999px;"&gt;&lt;img src="https://community.sap.com/t5/image/serverpage/image-id/281792i2C09B46070C0EB64/image-size/large?v=v2&amp;amp;px=999" role="button" title="MartinPankraz_2-1751459555337.png" alt="MartinPankraz_2-1751459555337.png" /&gt;&lt;/span&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;Wait a minute or two on first try. The population of new tables takes a short time initially.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-1408518728"&gt;Hurray you have a functioning data collection endpoint for the SAP LogServ data&lt;span class="lia-unicode-emoji" title=":party_popper:"&gt;üéâ&lt;/span&gt;&lt;/H1&gt;&lt;P&gt;Now, continue your onboarding journey by sharing the config data with SAP over your chosen channel. Find the details on SAP's blog &lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/sap-logserv-integration-with-microsoft-sentinel-for-sap-rise-customers-is/bc-p/14089301" target="_blank"&gt;here&lt;/A&gt;.&lt;/P&gt;&lt;H1 id="toc-hId-1212005223"&gt;What if you don‚Äôt see the data entry on the LogServ table?&lt;/H1&gt;&lt;OL&gt;&lt;LI&gt;Verify the connection details: Did you really hit the right endpoint? Are you looking in the right tenant and log analytics workspace?&lt;/LI&gt;&lt;LI&gt;Verify selection criteria: Is your Time range filter accurate? The smoke tests create entries for NOW or 30mins earlier in UTC.&lt;/LI&gt;&lt;LI&gt;Did enough time pass on the initial table population? Consider a retry of the KQL query.&lt;/LI&gt;&lt;LI&gt;Verify the Data collection rule has not been changed to filter all results or similar. See &lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/how-to-customize-your-sap-logserv-solution-in-microsoft-sentinel-part-2/ba-p/14110388" target="_blank"&gt;this blog part&lt;/A&gt;&lt;/SPAN&gt; and KQL snippet for more details.&lt;/LI&gt;&lt;/OL&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H2 id="toc-hId-1144574437"&gt;Deployment fully messed up?&lt;/H2&gt;&lt;P&gt;The simplest way to a fresh start is a delete and redeployment of the Log Analytics workspace. In case that is not an option you need to delete the LogServ connector resources to reset the LogServ solution in Sentinel. The data collection endpoint, data collection rule and entra id app registration can be deleted from the Azure portal. But the data connector itself needs to be deleted via API.&lt;/P&gt;&lt;P&gt;For your convenience, use this &lt;A href="https://github.com/MartinPankraz/LogServAccelerators/blob/main/SAP-LogServ-bruno-collection.json" target="_blank" rel="noopener nofollow noreferrer"&gt;REST API request collection&lt;/A&gt; to drop the resources. Once performed the LogServ connector UI will activate the deploy button again. In case you went fully bazooka and also deleted the SAPLogServ_CL table from your Log Analytics worksapce that needs to be reverted too. If the table had data you need to run a restore operation from &lt;A href="https://learn.microsoft.com/cli/azure/monitor/log-analytics/workspace/table/restore?view=azure-cli-latest" target="_blank" rel="noopener nofollow noreferrer"&gt;Azure CLI&lt;/A&gt;.&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H1 id="toc-hId-818978213"&gt;Final Words&lt;/H1&gt;&lt;P&gt;That‚Äôs a wrap&lt;span class="lia-unicode-emoji" title=":burrito:"&gt;üåØ&lt;/span&gt;. You saw today how to streamline your onboarding experience of SAP LogServ in Microsoft Sentinel. Simple smoke tests &lt;STRONG&gt;ensure a speedy onboarding&lt;/STRONG&gt; and &lt;STRONG&gt;confidence in the shared setup&lt;/STRONG&gt; configuration.&lt;/P&gt;&lt;P&gt;#Kudos to&amp;nbsp;&lt;a href="https://community.sap.com/t5/user/viewprofilepage/user-id/1619343"&gt;@Hemanth_Kusampudi&lt;/a&gt;&amp;nbsp;and team for the partnership.&lt;/P&gt;&lt;P&gt;Get started with your deployment from &lt;SPAN&gt;&lt;A href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-sap/sap-logserv-integration-with-microsoft-sentinel-for-sap-rise-customers-is/bc-p/14089301" target="_blank"&gt;here&lt;/A&gt; today&lt;/SPAN&gt;.&lt;/P&gt;&lt;P&gt;Cheers Martin&lt;/P&gt;</content>
    <link href="https://community.sap.com/t5/enterprise-resource-planning-blog-posts-by-members/first-smoke-test-after-sap-logserv-solution-deployment-in-microsoft/ba-p/14142675"/>
    <published>2025-07-02T14:34:47.839000+02:00</published>
  </entry>
</feed>
